{"version":3,"file":"Checkbox--9Vb9kTR.js","sources":["../../src/vue/src/components/UiKit/KoddeinVueForm/Field/Checkbox.vue"],"sourcesContent":["<docs>\n# KoddeinFormCheckbox\n> Checkbox field\n\n@author Nicolas Husson <nicolas@kffein.com>\n@author Kevin Bastien <kevin@kffein.com>\n</docs>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, toRefs, watch } from 'vue';\nimport CheckSvg from '../assets/svg/check.svg?raw';\n\ninterface Data {\n  internalValue?: boolean,\n}\n\nconst KoddeinFormCheckbox = defineComponent({\n  name: \"KoddeinFormCheckbox\",\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n    label: {\n      type: String,\n      default: '',\n    },\n    /** input value */\n    value: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  emits: ['inputChange'],\n  setup(props, { emit }){\n    const data:Data = reactive(\n      {\n        internalValue: undefined,\n      }\n    );\n\n    /**\n     * Watch value, on value update -> set internal value\n     */\n    watch(\n      ()=>props.value,\n      (value) => { \n        data.internalValue = value;\n      },\n      { immediate:true }\n    )\n\n    /**\n     * Watch internal value, on value update -> send value to parent\n     */\n    watch(\n      ()=>data.internalValue,\n      (value) => { \n        if (value === props.value) return;\n        emit('inputChange', value);\n      },\n      // { immediate:true }\n    )\n\n    return {\n      ...toRefs(data), //data\n      CheckSvg,\n    };\n  },\n});\nexport default KoddeinFormCheckbox\n</script>\n\n<template>\n  <label :for=\"id\"\n         class=\"checkbox\"\n  >\n    <input :id=\"id\"\n           v-model=\"internalValue\"\n           :name=\"id\"\n           type=\"checkbox\"\n           class=\"input\"\n    >\n    <span class=\"box\">\n      <span class=\"icon\" v-html=\"CheckSvg\" />\n    </span>\n    <span class=\"label\"\n          v-text=\"label\"\n    />\n  </label>\n</template>\n\n<style lang=\"stylus\" scoped>\n  /**\n   * TABLE OF CONTENT\n   * --------\n   *  - LAYOUT\n   *  - FILE\n   *  - THEMES\n   *  - DEBUG\n   *  - NO_SCOPE\n   */\n\n  $c-f-border-focus ?= black\n  $c-f-accent ?= black\n\n  //  ===LAYOUT===\n  .checkbox\n    f(row, $justify: flex-start)\n  .box\n    position relative\n    display inline-block\n    border 1px solid $c-f-border \n    size 24px\n    margin-right 20px\n    trans()\n\n  .icon\n    absolute top 50% left 50%\n    size 12px 9px\n    transform translate(-50%, -50%)\n    opacity 0\n    trans()\n    color $c-f-accent\n\n    :deep()\n      svg\n        fill currentColor\n\n  .input\n    position absolute\n    opacity 0\n    &:focus + .box\n      border-color $c-f-border-focus\n    &:checked + .box\n      border-color $c-f-border-focus\n      .icon\n        opacity 1\n\n  //  ===DEBUG===\n  [data-debug-mode=\"true\"] .KoddeinFormCheckbox\n    //\n</style>\n"],"names":["KoddeinFormCheckbox","defineComponent","props","emit","data","reactive","watch","value","toRefs","CheckSvg","_hoisted_1","_hoisted_2","_hoisted_3","id","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_withDirectives","_createElementVNode","$event","_vModelCheckbox","_hoisted_4","_toDisplayString","_hoisted_5"],"mappings":"gOAgBA,MAAMA,EAAsBC,EAAgB,CAC1C,KAAM,sBACN,MAAO,CACL,GAAI,CACF,KAAM,OACN,SAAU,EACZ,EACA,MAAO,CACL,KAAM,OACN,QAAS,EACX,EAEA,MAAO,CACL,KAAM,QACN,QAAS,EAAA,CAEb,EACA,MAAO,CAAC,aAAa,EACrB,MAAMC,EAAO,CAAE,KAAAC,GAAO,CACpB,MAAMC,EAAYC,EAChB,CACE,cAAe,MAAA,CAEnB,EAKA,OAAAC,EACE,IAAIJ,EAAM,MACTK,GAAU,CACTH,EAAK,cAAgBG,CACvB,EACA,CAAE,UAAU,EAAK,CACnB,EAKAD,EACE,IAAIF,EAAK,cACRG,GAAU,CACLA,IAAUL,EAAM,OACpBC,EAAK,cAAeI,CAAK,CAAA,CAG7B,EAEO,CACL,GAAGC,EAAOJ,CAAI,EACd,SAAAK,CACF,CAAA,CAEJ,CAAC,EAcSC,EAAA,CAAA,KAAA,EAnFVC,EAAA,CAAA,KAAA,MAAA,EAAAC,EAAA,CAAA,MAAA,KAAA,6CA0EeC,EAAEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,QACHC,EAAW,EAAAC,EAAA,QAAA,CAAA,IAAAP,EAAA,sBA3EzBQ,EAAAC,EAAA,QAAA,CA+EY,GAAIT,EAAED,GACP,sBAAeE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAS,GAAAV,EAAA,cAAAU,GACf,KAAKV,EAAC,GAAA,KAAA,qCAEb,CAEOW,EAAAX,EAAA,aAAA,CAAA,CAAA,EADaS,EAAA,OAAAX,EAAA,CAAAW,EAASd,OAAQ,CAAA,MAAA,6BAInC,KAAA,EAAAiB,CAAA,CAAA,CAAA,EADIH,EAAA,OAAA,CAAA,MAAA,QAvFV,YAAAI,EAAAb,EAAA,KAAA,CAAA,EAAA,KAAA,EAAAc,CAAA"}