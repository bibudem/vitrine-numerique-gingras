import{br as F,bs as z,d as U,r as N,ay as y,aQ as _,bt as W,b6 as A,q as h,ad as L,b5 as D,al as G,U as O,S as V,o as m,e as X,_ as j,Z as p,g as C,aU as T,a0 as Q,aW as Z,$ as J}from"./vendor-D1O0VZ-0.js";import{g as K}from"./@debug-lodash-BIjirobg.js";import{m as S,s as P,a as H,u as Y,_ as ee}from"./app-B-a8PNc9.js";var te=Math.ceil,ae=Math.max;function le(e,l,a,n){for(var u=-1,c=ae(te((l-e)/(a||1)),0),o=Array(c);c--;)o[n?c:++u]=e,e+=a;return o}var ne=le,oe=ne,re=F,w=z;function ie(e){return function(l,a,n){return n&&typeof n!="number"&&re(l,a,n)&&(a=n=void 0),l=w(l),a===void 0?(a=l,l=0):a=w(a),n=n===void 0?l<a?1:-1:w(n),oe(l,a,n,e)}}var se=ie,ce=se,de=ce(),ue=de;const fe=K(ue),$={LEFT_RIGHT:1,RIGHT_LEFT:-1},me=U({name:"UiMarquee",props:{text:{type:[Array,String],default:""},tag:{type:String,default:"div"},intro:{type:Boolean,default:!1},border:{type:Boolean,default:!1},speed:{type:Number,default:S?.25:0},scroll:{type:Number,default:S?1.5:0},direction:{type:Number,default:$.LEFT_RIGHT},horizontal:{type:Boolean,default:!1}},setup(e){const l=N(!1),{scrollable:a}=y(P.state),{viewport:n}=y(H.state),u=_("el"),c=_("model"),o=_("clones"),v=W(),{onInit:E,onInitUi:q}=Y();let M=!0;const t=A({timeline:void 0,tlScrollSpeed:void 0,tlIntro:void 0,scrollTriggerMarquee:void 0});E(()=>{I()}),q(async()=>{if(x(),S){if(e.intro&&e.border){const r=[...v.value];h.set(r,{scaleX:0,transformOrigin:"100% 50%"})}await L(a).toBe(!0),await L(l).toBe(!0),e.intro&&B(),R(),k()}});const x=()=>{D(()=>n.value.width,()=>{I(),R(),k()},{debounce:300,deep:!0})},I=async()=>{if(!c.value)return;const r=c.value;setTimeout(()=>{const s=r.innerHTML,d=r.scrollWidth,i=H.viewport.width,f=d>=i?1:Math.ceil((i-d)/d);o.value&&(o.value.innerHTML="",G(fe(f*8),()=>{o.value&&(o.value.innerHTML+=s)})),l.value=!0},250)};function R(){var i;(i=t.timeline)==null||i.kill();const s=c.value.scrollWidth,d=e.direction===$.LEFT_RIGHT?-(s*2):0;t.timeline=h.timeline({repeat:-1,paused:e.speed===0}).fromTo(o.value,{x:d},{x:`+=${e.direction*s}`,ease:"linear",duration:1/(e.speed?e.speed:.25)})}function k(){var s,d;if((s=t.tlScrollSpeed)==null||s.kill(),(d=t.scrollTriggerMarquee)==null||d.kill(),!u.value||!t.timeline)return;t.tlScrollSpeed=h.timeline().add("normal").to(t.timeline,{timeScale:e.scroll||1}).add("speed").pause().seek("normal");const r={trigger:u.value,start:e.horizontal?"right left+=10000":"top bottom",end:e.horizontal?"+=100000":"bottom top",horizontal:e.horizontal,onToggle:({isActive:i})=>{var f,b;i?(M&&(M=!1,(f=t.tlIntro)==null||f.play()),e.speed&&((b=t.timeline)==null||b.play())):t.timeline.pause()}};if(e.scroll){let i=!1;const f=()=>{var g;i||(i=!0,e.speed?t.tlScrollSpeed.tweenTo("speed",{duration:.3,ease:"power1.in"}):(g=t.timeline)==null||g.play())},b=O(()=>{var g;i=!1,e.speed?t.tlScrollSpeed.tweenTo("normal",{duration:.6,ease:"power3.out"}):(g=t.timeline)==null||g.pause()},50);r.onUpdate=()=>{f(),b()}}t.scrollTriggerMarquee=V.create(r)}function B(){const r=h.timeline().add("start",.1).set(o.value,{opacity:0},0).to(o.value,{opacity:1,duration:.6},"start");if(e.border){const s=[...v.value];r.to(s,{scaleX:1,duration:.2,stagger:.02},"start")}t.tlIntro=r.add("end").pause().seek("start")}return{...e,...y(t),el:u,borders:v}}}),ve={ref:"model",class:"list model"},ge={ref:"modelItem",class:"item"},pe=["innerHTML"],be=["innerHTML"],he={ref:"wrapper",class:"wrapper"},Te={ref:"clones",class:"list clones"};function ye(e,l,a,n,u,c){return m(),X(J(e.tag),{ref:"el",class:"UiMarquee"},{default:j(()=>[e.border?(m(),p("span",{key:0,ref:e.borders.set,class:"border -top"},null,512)):C("",!0),T("div",ve,[T("span",ge,[Array.isArray(e.text)?(m(!0),p(Q,{key:0},Z(e.text,(o,v)=>(m(),p("span",{key:`marquee-entry-${v}`,class:"text",innerHTML:o},null,8,pe))),128)):(m(),p("span",{key:1,class:"text",innerHTML:e.text},null,8,be))],512)],512),T("div",he,[T("div",Te,null,512)],512),e.border?(m(),p("span",{key:1,ref:e.borders.set,class:"border -bottom"},null,512)):C("",!0)]),_:1},512)}const Me=ee(me,[["render",ye],["__scopeId","data-v-241139bc"]]);export{$ as DIRECTION,Me as default};
//# sourceMappingURL=index-C16yAjOn.js.map
