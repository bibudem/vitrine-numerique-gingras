{"version":3,"mappings":"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","names":["defaultEnv","dotEnv","_locales","StringsHelper","string","filename","extract","text","slugify","name","version","description","packageJson","short_name","start_url","screenshots","background","theme_color","id","lang","_a","locales","manifest","parseUriArgs","fromPairs","map","arg","IS_DEV","settings","args","__ENV","merge","KONTROL_ENABLE","getEnv","KontrolPanel","defineAsyncComponent","__vitePreload","pinia","createPinia","useStore","defineStore","state","ref","DEBUG","EVENT","event","action","opts","INSTALL","router","plugins","client","queryParams","gtm","createGtm","onConsentUpdate","updateConsents","necessary","marketing","preferences","statistics","computed","store","_readyExeptPage","setAppReady","setPageReady","ready","ONCE_LOADER","trackingStore","appStore","Cookies","cookies","setGlobalsReady","setInterfaceReady","setIs404","setIsNot404","setLoaderReady","setAppBgColor","color","setPageTransition","value","disableApp","init","server","interactionHandlers","setIntroSeen","toggleInactive","hasTouch","support","feature","motion","webglWrapper","rect","throttle","useModernizr","Modernizr","Detectizr","nextTick","touchevents","webgl","webp","webp_safe","isSafari13AndBelow","major","touch_safe","gsap","CSSPlugin","CSSRulePlugin","ScrollTrigger","SplitText","CustomEase","ScrollToPlugin","DrawSVGPlugin","Draggable","Linear","Back","Bounce","Elastic","Circ","Cubic","Quad","Quart","Quint","Sine","Strong","Expo","Power0","Power1","Power2","Power3","Power4","config","DESKTOP","MOBILE","MAX","PATH","width","toRef","InterfaceStore","useResponsiveEase","updateResponsiveEase","debounce","path","ratioEased","ratio","watch","newRatio","desktop","mobile","diffRatioEasedOrNot","useRangeBetween","rangeVw","between","pxMobile","unit","SHOW_DEBUG","DebugResponsive","storeToRefs","ResponsiveStore","emitter","mitt","EVENTS","cursorColorDefault","cursorColorAccent","cursorColorOther","changeColor","resetColor","setColorAccent","setColorOther","updateCursor","STATES","useFlow","options","uiVendors","_data","setReady","requiredState","waitForState","stateToMatch","unwatch","current","resolve","openState","setHeight","height","setHidden","useSmoothScroll","Lenis","addEvents","setScrollable","scrollable","enableBodyScroll","_b","disableBodyScroll","el","scroll","time","removeEvents","refreshScroll","releaseSmoothScroll","andClean","updateScroll","scrollTo","NavStore","scrollTop","getScroll","getDirection","K_PROPS_OBJECT","K_PROPS_MATERIAL","K_PROPS_LIGHT","K_PROPS_FOG","K_PROPS_CAMERA","K_MATERIAL_OPTIONS","FrontSide","BackSide","DoubleSide","K_LIGHT_OPTIONS","K_FOG_OPTIONS","K_COLOR_OPTIONS","Kontrol","param","values","until","instances","pimpedParam","hasOneValues","optionsWithoutPath","omit","has","isArray","mode","env","n","kontrolErrors","__publicField","wrapperElement","webglRenderer","clock","bounds","activeScenes","backupScenes","isMobile","interfaceStore","hideForMobile","clockDelta","pausedStatus","stopResizeWatcher","initClock","Clock","preInitRenderer","WebGLRenderer","useWebGL","scenes","mergedOptions","addScenes","tick","clearWebGL","each","disabled","glScene","index","scene","resize","_c","_d","gutter","_e","responsiveStore","_f","_g","_h","_i","_j","_k","_l","w","h","updateBgColor","bgColor","alpha","Color","getActiveSceneAt","calculateUnitSize","distance","camera","vFov","syncMeshToDOM","obj3d","resetSync","top","left","Vector3","scrollStore","topProgress","offsetProgress","sx","sy","x","y","assetsToLoad","textureLoader","TextureLoader","ktx2Loader","KTX2Loader","GLTFLoader","dracoLoader","DRACOLoader","svgLoader","modelLoader","useTransition","setLoaded","loaded","AppStore","setDone","done","setRuntime","loadManifest","output","asset","reject","texture","NearestFilter","e","gltf","spritesheetFiles","preloadImageSequence","loader","url","sound","Howl","finishSpriteSheetsLoading","promises","array","undefinedIndex","findIndex","t","_sfc_main$6","defineComponent","toRefs","loaderStore","onInitUi","smoothScroll","tryOnUnmounted","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_hoisted_1","_renderSlot","items","update","theme","isAlreadyUpdated","findTheme","item","section","getObjects","themeId","findObjectBySlug","slug","object","obj","setCurrent","toggleThemeNav","bool","force","toggleIntro","toggleIsListing","setNextVariant","toggleFromListing","data","api","LOAD","locale","skip","payload","req","m","ApiHelper","data2","localesCodes","keyBy","configLocales","messages","mapValues","setLocaleByName","locale2","byName","setLocale","setLocaleByCode","code","setLocaleByUri","uri","byUri","setMessages","messages2","localeCode","fromApi","i18n","createI18n","tr","key","cloneDeepWith","i18n$1","app","pages","Page404","customRoutes","useRouter","routesMap","routes","without","flatten","route","processRoute","createWebHistory","runConsentCheck","observeFirstLocale","callback","to","from","START_LOCATION","tryResolve","getComponentById","UPDATE","dataSeo","dataTranslations","fullUrl","result","i18nStore","seo","computeSeoData","socials","facebook","NAME","_q","twitter","props","k","content","translation","find","SEO","metadata","SEOStore","useHead","Transitions","ThePageTransition","tlPageTransition","end","delay","IconArrow$1","__default__","useRoute","useI18n","templateRef","isCreditRoute","animateIn","animateOut","ArrowSvg","_component_ui_button","_resolveComponent","_openBlock","_createElementBlock","_createVNode","$event","_createElementVNode","_createCommentVNode","HomeSVG","currentVariant","themeStore","isIntro","showThemeNav","isThemeRoute","onBackHome","track","tryOnMounted","_createBlock","_hoisted_2","HorizontalNavigation","isDragging","i18nLocale","variant","showingNav","isForceThemeNav","isAPageTransition","ThemeSwiper","globalsStore","reactive","speed","_component_ui_swiper","_Fragment","_renderList","i","Navigation","isOpen","escapeBinding","closeNav","handleClick","interactWithSceneAt","open","tlOpen","tlClose","_hoisted_3","_hoisted_4","TheHeader","TheNav","useElementSize","textColor","is404","scrollDirection","RAF","checkScroll","toggleNav","globalStore","_component_TheNav","isHidden","_normalizeClass","_hoisted_5","_resolveDynamicComponent","_createTextVNode","_toDisplayString","TIMEOUT","staticGsap","label","_sfc_main$5","type","Loader","Logo","PreloadContent","Progress","showLoaderComputed","SHOW_LOADER","showBg","createPageTransitionTimeline","createNoLoaderTimeline","createLoaderTimelineEnter","tl","ProgressEl","createLoaderTimelineProgress","createLoaderTimelineLeave","TheLoader","tlLoader","isLoaderEnterReady","load","waitAllPromises","_Transition","_withCtx","mounted","STATUS","ADD","message","title","status","duration","important","uniqueId","flash","DELETE","SvgClose","SvgStatusError","SvgStatusInfo","SvgStatusSuccess","SvgStatusWarning","FlashMessages","queue","flashStore","_sfc_main","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_TransitionGroup","_hoisted_9","_withModifiers","RefreshSVG","_sfc_main$3","orops","emit","animate","ArrowSVG","iconBureau","imageBackground","_sfc_main$2","async404","_sfc_main$1","HorizontalNav","TheFlashMessage","TheHeaderThematique","TheHeaderCredit","SmoothScroll","TheResponsiveMagic","KontrolUi","MobileScreen","InactivityScreen","beforeEnterTransition","enterTransition","leaveTransition","viewport","timer","stopTimer","startTimer","onActive","onResetTimer","_component_KontrolUi","readyToRenderView","_component_SEO","_component_TheHeaderCredit","_component_SmoothScroll","_component_router_view","Component","_component_MobileScreen","showInactivity","_component_InactivityScreen","_component_HorizontalNav","_component_TheFlashMessage","_component_TheLoader","_component_TheResponsiveMagic","UiAnimation","anim","played","__variableDynamicImportRuntimeHelper","module","createWatcher","useIntersectionObserver","entry","fromTop","enter","leave","debouncedWatch","UiParallax","st","total","container","scrollSize","containerSize","setHorizontalScroll","destroyHorizontalScroll","element","IconArrow","IconBlank","IconDownload","UiButton","computeTag","computeTheme","computedTitle","tag","src","href","_mergeProps","target","download","arrow","attrTitle","cptTheme","UiThemedButtonIcon","UiButtonSimple","_component_ui_button_simple","dark","selected","highlight","ArrowLinkSVG","UiThemedButtonLink","PointsSVG","UiThemedButtonNav","expand","IconSVG","UiThemedButtonPrimary","UiButtonThemedTheme","UiThemedButton","PrimaryCta","NavCta","LinkCta","ThemeCta","IconCta","BaseCta","component","UiPicture","img","visible","position","focalPoint","mainSrc","onMounted","imgEl","lazyPlaceholder","isActive","lazy","parallax","srcset","components","UiHorizontal","install","VueReCaptcha","whenever","head","TheApp","vToolTip","previewStore","useRecaptcha","userback","plugin","installUiKit"],"ignoreList":[],"sources":["../../src/vue/src/config/env/index.ts","../../src/vue/src/config/locales.ts","../../src/vue/src/utils/helpers/Strings.ts","../../src/vue/src/config/manifest.ts","../../src/vue/src/config/index.ts","../../src/vue/src/components/Kontrol/index.vue","../../src/vue/src/plugins/store/index.ts","../../src/vue/src/plugins/store/tracking.ts","../../src/vue/src/plugins/store/app.ts","../../src/vue/src/plugins/store/interface.ts","../../src/vue/src/vendors/gsap/index.ts","../../src/vue/src/components/Responsive/store.ts","../../src/vue/src/components/Responsive/index.vue","../../src/vue/src/plugins/store/events.ts","../../src/vue/src/components/UiKit/Cursor/store.ts","../../src/vue/src/utils/flow/index.ts","../../src/vue/src/components/ui/Header/store.ts","../../src/vue/src/components/SmoothScroll/store.ts","../../src/vue/src/components/Kontrol/const.ts","../../src/vue/src/plugins/kontrol/index.ts","../../src/vue/src/plugins/webgl/three/index.ts","../../src/vue/src/plugins/webgl/utils.ts","../../src/vue/src/components/ui/Loader/assets.ts","../../src/vue/src/components/ui/Loader/store.ts","../../src/vue/src/components/SmoothScroll/index.vue","../../src/vue/src/pages/Thematique/store.ts","../../src/vue/src/plugins/store/globals/index.ts","../../src/vue/src/plugins/i18n/store.ts","../../src/vue/src/plugins/i18n/index.ts","../../src/vue/src/plugins/router/pages.ts","../../src/vue/src/plugins/router/utils/custom_routes.ts","../../src/vue/src/plugins/router/index.ts","../../src/vue/src/plugins/seo/store.ts","../../src/vue/src/plugins/seo/index.vue","../../src/vue/src/mixins/transitions.ts","../../src/vue/src/assets/svg/arrow.svg?raw","../../src/vue/src/pages/Credit/blocks/Header.vue","../../src/vue/src/assets/svg/home.svg?raw","../../src/vue/src/pages/Thematique/blocks/Header.vue","../../src/vue/src/components/ui/Header/HorizontalNavigation.vue","../../src/vue/src/components/ui/Header/Navigation.vue","../../src/vue/src/components/ui/Header/index.vue","../../src/vue/src/components/ui/Loader/index.vue","../../src/vue/src/components/UiKit/FlashMessage/store.ts","../../src/vue/src/components/UiKit/FlashMessage/assets/close.svg?raw","../../src/vue/src/components/UiKit/FlashMessage/assets/status-error.svg?raw","../../src/vue/src/components/UiKit/FlashMessage/assets/status-info.svg?raw","../../src/vue/src/components/UiKit/FlashMessage/assets/status-success.svg?raw","../../src/vue/src/components/UiKit/FlashMessage/assets/status-warning.svg?raw","../../src/vue/src/components/UiKit/FlashMessage/index.vue","../../src/vue/src/assets/svg/refresh.svg?raw","../../src/vue/src/components/ui/Inactivity/index.vue","../../src/vue/src/assets/svg/bureau.svg?raw","../../src/vue/src/components/ui/Mobile/img/background-mobile.png","../../src/vue/src/components/ui/Mobile/index.vue","../../src/vue/src/components/TheApp.vue","../../src/vue/src/components/UiKit/Animation/index.vue","../../src/vue/src/components/UiKit/Parallax/index.vue","../../src/vue/src/components/UiKit/Horizontal/index.vue","../../src/vue/src/components/UiKit/Button/assets/icon-arrow.svg?raw","../../src/vue/src/components/UiKit/Button/assets/icon-blank.svg?raw","../../src/vue/src/components/UiKit/Button/assets/icon-download.svg?raw","../../src/vue/src/components/UiKit/Button/index.vue","../../src/vue/src/components/UiKit/Button/Icon.vue","../../src/vue/src/assets/svg/arrow-link.svg?raw","../../src/vue/src/components/UiKit/Button/Link.vue","../../src/vue/src/assets/svg/points.svg?raw","../../src/vue/src/components/UiKit/Button/Nav.vue","../../src/vue/src/assets/svg/select.svg?raw","../../src/vue/src/components/UiKit/Button/Primary.vue","../../src/vue/src/components/UiKit/Button/Theme.vue","../../src/vue/src/components/UiKit/Button/Themed.vue","../../src/vue/src/components/UiKit/Picture/index.vue","../../src/vue/src/components/UiKit/index.ts","../../src/vue/src/plugins/recaptcha.ts","../../src/vue/src/plugins/store/preview.ts","../../src/vue/src/main.ts"],"sourcesContent":["/** Front .env variables\n * - declare typings (utils for later completion)\n * - inject .env values in dev mode\n * - in server mode (craft render) those will be injected through `window._ENV`\n * \n * ! please sync all aditionals .env vars here !\n */\n\ndeclare global {\n  interface Window {\n    __ENV: {\n      VITE_SITE_URL?:string\n      VITE_SITE_URL_FR?:string\n      VITE_SITE_URL_EN?:string\n      VITE_API_URL?:string\n      VITE_ENVIRONMENT?:string\n      // 3rd parties\n      VITE_FB_APP_ID?: string\n      VITE_GTM_TRACKING_CODE?: string\n      VITE_GTM_AUTH?: string\n      VITE_GTM_PREVIEW?: string\n      VITE_PRERENDER_TOKEN?: string\n      VITE_RECAPTCHA_ENABLED?: string\n      VITE_RECAPTCHA_CLIENT_KEY?: string\n      VITE_USERBACK_FRONTEND_IS_ACTIVATE?: string\n      VITE_USERBACK_ACCESS_TOKEN?: string\n      // debugs\n      VITE_DEBUG?: string\n      VITE_DEBUG_SW?: string\n      VITE_DEBUG_RESPONSIVE?: string\n      VITE_KONTROLS?: string\n      // apis mocs\n      VITE_MOC_API?: string\n      VITE_MOC_GLOBALS?: string\n      VITE_MOC_HOME?: string\n      VITE_MOC_BIO?: string\n      VITE_MOC_FUND?: string\n      VITE_MOC_LEGAL?: string\n      VITE_MOC_CREDIT?: string\n      VITE_MOC_THEMATIQUE?: string\n    }\n  }\n}\n\n/* magic trick for sw no window issue */\nlet defaultEnv\ntry { defaultEnv = window?.__ENV }\ncatch (e) { console.log(e) }\n\nexport default defaultEnv || {\n  VITE_SITE_URL:import.meta.env.VITE_SITE_URL,\n  VITE_SITE_URL_FR:import.meta.env.VITE_SITE_URL_FR,\n  VITE_SITE_URL_EN:import.meta.env.VITE_SITE_URL_EN,\n  VITE_API_URL:import.meta.env.VITE_API_URL,\n  VITE_ENVIRONMENT:import.meta.env.VITE_ENVIRONMENT,\n  // 3rd parties\n  VITE_FB_APP_ID: import.meta.env.VITE_FB_APP_ID,\n  VITE_GTM_TRACKING_CODE: import.meta.env.VITE_GTM_TRACKING_CODE,\n  VITE_GTM_AUTH: import.meta.env.VITE_GTM_AUTH,\n  VITE_GTM_PREVIEW: import.meta.env.VITE_GTM_PREVIEW,\n  VITE_PRERENDER_TOKEN: import.meta.env.VITE_PRERENDER_TOKEN,\n  VITE_RECAPTCHA_ENABLED: import.meta.env.VITE_RECAPTCHA_ENABLED,\n  VITE_RECAPTCHA_CLIENT_KEY: import.meta.env.VITE_RECAPTCHA_CLIENT_KEY,\n  VITE_USERBACK_FRONTEND_IS_ACTIVATE: import.meta.env.VITE_USERBACK_FRONTEND_IS_ACTIVATE,\n  VITE_USERBACK_ACCESS_TOKEN: import.meta.env.VITE_USERBACK_ACCESS_TOKEN,\n  // debugs\n  VITE_DEBUG: import.meta.env.VITE_DEBUG,\n  VITE_DEBUG_SW: import.meta.env.VITE_DEBUG_SW,\n  VITE_DEBUG_RESPONSIVE: import.meta.env.VITE_DEBUG_RESPONSIVE,\n  VITE_KONTROLS: import.meta.env.VITE_KONTROLS,\n  // apis mocs\n  VITE_MOC_API: import.meta.env.VITE_MOC_API,\n  VITE_MOC_GLOBALS: import.meta.env.VITE_MOC_GLOBALS,\n  VITE_MOC_HOME: import.meta.env.VITE_MOC_HOME,\n  VITE_MOC_BIO: import.meta.env.VITE_MOC_BIO,\n  VITE_MOC_FUND: import.meta.env.VITE_MOC_FUND,\n  VITE_MOC_LEGAL: import.meta.env.VITE_MOC_LEGAL,\n  VITE_MOC_CREDIT: import.meta.env.VITE_MOC_CREDIT,\n  VITE_MOC_THEMATIQUE: import.meta.env.VITE_MOC_THEMATIQUE,\n}\n","/**\n * list of all supported locales, in order\n * \n * code may be `fr-ca`, `en-us` or just `en`\n * but we use `name` for route's names\n **/\n\nimport { find, keyBy, mapValues } from 'lodash';\n\n// export type Locale = {\n//   id: number, // api siteId\n//   name: string, // vue routes names `home.fr`\n//   uri: string, // for url `/fr_ca/contact` - if no defined simply use name\n//   code: string // for html lang `lang=\"fr_CA\"` - if no defined simply use name\n// }\n\ntype SimpleLocale = {\n  id: number,\n  name: string,\n  /* url portion (en | en-CA) */\n  uri?: string,\n  /* iso code - maybe not used in url - fr-CA */\n  code?: string,\n  env: string, // map current domain by locale, \n  i18n: string, // map to i18n locale (in case we have 4 different website FR without the need to have 4 different i18n files)\n  main: boolean,\n}\n\nconst _locales:SimpleLocale[] = [{\n  id: 1,\n  name: 'fr',\n  uri: '/fr/',\n  code: 'fr-CA',\n  env: 'VITE_SITE_URL_FR',\n  i18n: 'fr',\n  main: true,\n}]\n\n// export locales with defaults values\nexport const locales:Koddein.Locale[] = _locales.map(({id, name, uri, code, env, i18n, main})=>({\n  id,\n  name,\n  uri:uri || name,\n  code:code || name,\n  env,\n  i18n,\n  main\n}))\n\nexport const localesByUri = keyBy(locales, 'uri')\nexport const localesBySiteId = keyBy(locales, 'id')\nexport const urisBySiteId = mapValues(localesBySiteId, ({uri})=>uri)\nexport const uris = mapValues(localesBySiteId, ({uri})=>uri)\n\n// @todo default locale\n// export const locale = locales[0]\n\nexport function byName(name:string):Optional<Koddein.Locale>{ return find(locales, (locale:Koddein.Locale)=>name===locale.name) }\nexport function byCode(code:string):Optional<Koddein.Locale>{ return find(locales, (locale:Koddein.Locale)=>code===locale.code) }\nexport function byUri(uri:string):Optional<Koddein.Locale>{ return find(locales, (locale:Koddein.Locale)=>uri===locale.uri) }\nexport function byId(id:number):Optional<Koddein.Locale>{ return find(locales, (locale:Koddein.Locale)=>id===locale.id) }\n\nexport default locales\n","/**\n * # Strings helpers\n * > Some utilities about strings (capitalize etc)\n *\n * @author nicolas husson <nicolas@kffein.com>\n */\n\nexport default class StringsHelper {\n  /**\n   * @returns {String} 1st letter of each words capitalized\n   * @param {String} string\n   */\n  static capitalize(string:string):string {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  /**\n   * @returns {String} file extention\n   * @param {String} filename\n   */\n  static getFileExtension(filename:string):string {\n    const search = /[.]/.exec(filename)\n    if (search) {\n      const extract = /[^.]+$/.exec(filename);\n      return extract ? extract[0] : '';\n    }\n    return '';\n  }\n\n  /**\n   * @returns {String} where `\\n` replaced by `<br>`\n   * @param {String} string - string to format\n   */\n  static nl2br(string:string):string | null {\n    if (typeof string !== 'string') return null;\n\n    return (string).replace(/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g, '$1<br>$2');\n  }\n\n  /**\n   * @returns {String} slugifyed\n   * @param {String} string - string to format\n   * @see https://gist.github.com/mathewbyrne/1280286\n   */\n  static slugify(text:string):string | null {\n    return slugify(text)\n  }\n\n  /**\n   * @returns {String} without p tags\n   * @param {String} string - wysiwyg value with p tags that we don't need\n   */\n  static safeTitle(text:string):string | null {\n    return text.replace(/(<p[^>]+?>|<p>|<\\/p>)/img, \"\");\n  }\n}\n\n//@todo export direct function vs static = easierto import\nexport function slugify(text:string):string | null {\n  if (typeof text !== 'string') return null;\n\n  return text.toString().toLowerCase()\n    /*eslint-disable */\n    .replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n    .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, ''); // Trim - from end of text\n    /* eslint-enable */\n}\n","/** recreate a base manifest with package.json infos\n * standalone class because some logic here (like toLoweCase - name + version etc)\n * \n * - DOC about manifest https://developer.mozilla.org/fr/docs/Web/Manifest\n */\n\nimport packageJson from '../../package.json'\nimport { slugify } from '../utils/helpers/Strings'\nimport { locales } from './locales'\n\nconst {name, version, description} = packageJson\n\n// optional - max 12char - https://developer.chrome.com/docs/extensions/mv2/manifest/name/#short_name\nconst short_name = (packageJson as any).short_name || name\nconst start_url = (packageJson as any).start_url || '/'\nconst screenshots = (packageJson as any).screenshots || undefined\nconst background = (packageJson as any).background || '#fff'\nconst theme_color = (packageJson as any).theme_color || '#fff'\n\n// new for each version...\nconst id = slugify(`${short_name}-${version}-${Date.now()}`)!\nconst lang = locales[0]?.code\n\nconst manifest:Manifest = {\n  id,\n  name,\n  short_name,\n  description,\n  lang,\n  start_url,\n  screenshots,\n  background,\n  theme_color\n}\n\nexport default manifest\n\n/* ############################################################################## TYPINGS */\n\nexport interface Manifest {\n  // idealement contient la version de l'app `koddein-v0.1`\n  id: string\n  name: string\n  short_name: string\n  description?: string\n  // usually `/`\n  start_url?: string\n  // primary locale `fr-CA`\n  lang?: string,\n  screenshots?:PWAScreenshot[],\n  // \"#fff\"\n  theme_color?: string,\n  // \"#fff\"\n  background?: string,\n}\n\n// https://web.dev/patterns/advanced-apps/richer-install-ui/\nexport type PWAScreenshot = {\n  // path from public folder : \"/assets/screenshots/default.jpg\"\n  src: string,\n  // ex: \"1440x650\" /// 320 to 3840 wide | 16/9 = 1.7777... ratio must not exeed 2.3\n  sizes: string,\n  // jpg/png only\n  type: \"image/jpeg\" | \"image/png\",\n  /* 'wide' = desktop | 'narrow' = mobile\n  - All screenshots with the same form factor value must have identical aspect ratios. */\n  form_factor?: \"wide\" | \"narrow\" | undefined\n  label?: string\n}\n","/**\n * # main app settings\n *\n * ## .env\n * > same vars defined in .env will override those defined here\n * \n * @todo improve .env\n * for now you need to add .env vars in `window.__ENV`\n * either here (see below) or in `/public/index_vue.php`\n *\n * @author Nicolas Husson <nicolas@kffein.com>\n */\nimport { fromPairs, map, merge } from 'lodash';\nimport dotEnv from './env';\nimport locales from './locales';\nimport manifest from './manifest';\n\n/** @argument {Array} NAME - app name\n * - used for many things like cookies names etc\n * - must be auto-updated by yeoman '<%= folderName %>'\n */\nconst { name } = manifest\n\n/** return a key/value object of current url search (?hkj&iuji) */\nexport function parseUriArgs() {\n  if (!window?.location?.search) return\n  return fromPairs(\n    map(window.location.search.slice(1).split('&'), (arg: string) => arg.split('='))\n  )\n}\n\nexport const IS_DEV = process.env.NODE_ENV === 'development';\n\nconst settings = {\n  locales,\n  /** @argument {Array} cookies - list of cookies names, please keep locale */\n  cookies: {\n    locale: `${name}_locale`, // for first redirect on path `/` - remember last locale from user \n    token: `${name}_locale_jwt_token`, // for user login system\n    loader: `${name}_loader`, // show main loader only 1 time.\n  },\n\n  /** @argument {Object} server - is server env - must no init ui stuff (window scroll etc) */\n  server: false,\n  /** @argument {Object} client - is client env */\n  client: true,\n  /** **DEPRECATED** please use `withMotion()` - more acurate test\n   * @argument {Object} motion - is client with motion\n   * use this before init tweens - but you can init scroll etc without if client */\n  motion: true,\n  withMotion() {\n    if (settings.motion && settings.storybook) {\n      const args = parseUriArgs()\n      // @ts-expect-error\n      if (args.motion) return true\n      // @ts-expect-error\n      if (args.viewMode === 'docs') return false\n    }\n    return settings.motion\n  },\n  /** if storybook - handle motion with care */\n  storybook: false,\n\n  /** may show a preloader (ui) - but let's try without 🚀 */\n  SHOW_LOADER: true,\n  /** if we want to display the loader only 1 time. (save cookie for this) */\n  ONCE_LOADER: false,\n\n  // activate custom scroll\n  smoothScroll: true,\n\n  /** if we want throwing errors for Kontrol when VITE_KONTROLS = false */\n  kontrolErrors: false,\n\n  /** @argument {String} VITE_SITE_URL - EXPECTED TO BE DEFINED IN .env */\n  VITE_SITE_URL: `http://localhost:3000`,\n  // VITE_SITE_URL: ((env) => {\n  //     switch (env) {\n  //       case 'development': return 'http://yoursite.kffein';\n  //       default: return 'http://yoursite.dev.kffein.work'; \n  //     }\n  //   })(import.meta.env.NODE_ENV),\n  /** @argument {String} API_PREFIX - to construct VITE_API_URL if not defined */\n  API_PREFIX: 'api',\n  /** @argument {String} VITE_API_URL - default to VITE_SITE_URL/API_PREFIX */\n  VITE_API_URL: '',\n\n  NAME: manifest.name,\n  IS_DEV,\n  ...dotEnv,\n  parseUriArgs\n}\n\n/**\n* merge Setting with those injected in dom `window.__ENV`\n*/\nif (typeof (window) !== 'undefined') {\n  (() => {\n    // OVERWRITE PHP ENV (index_vue.php)\n    if (Object.prototype.hasOwnProperty.call(window, '__ENV')) {\n      const { __ENV } = (window as any)\n      merge(settings, __ENV);\n    }\n\n    // SSR friendly\n    // const isPrerender = /PhantomJS/.test(window.navigator.userAgent) -> user agent settings for prerender are here -> https://dashboard.prerender.io/settings#?tab=general\n    const isPrerender = window.isPrerender || navigator.userAgent.toLowerCase().indexOf('prerender') !== -1;\n    if (isPrerender) {\n      settings.client = false;\n      settings.motion = false;\n      settings.server = true;\n      return\n    }\n\n    if (import.meta.env.STORYBOOK) {\n      settings.storybook = true\n    }\n    // console.debug('[config] test if storybook', {window: parseUriArgs(), cli: import.meta.env.STORYBOOK});\n    // const isStorybook = true//\n    // const isStoryDocsMode = parseUriArgs()?\n\n    // no motion but isClient\n    const preferReducedMotion = window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches\n    if (preferReducedMotion) {\n      settings.motion = false;\n    }\n  })()\n}\n\n/**\n* Auto contruct VITE_API_URL\n*/\nconst { VITE_API_URL, API_PREFIX, VITE_SITE_URL } = settings\nif (!VITE_API_URL && API_PREFIX && VITE_SITE_URL) {\n  settings.VITE_API_URL = `${VITE_SITE_URL}/${API_PREFIX}/`;\n}\n\n/**\n * @argument {Function} getEnv - usefull to fetch any env/settings vars\n * - note that `setings` is already binded to this\n * - @param {Boolean} autoBoolean will auto format data to true/false\n */\ndeclare type DotEnv = typeof dotEnv\ndeclare type DotEnvKey = keyof DotEnv\nexport const getEnv = function (settings: DotEnv, key: DotEnvKey, autoBoolean = true, defaultValue?: number | string | boolean) {\n  const value = settings[key] || import.meta.env?.[key] || undefined;\n\n  if (IS_DEV) {\n    if (!Object.prototype.hasOwnProperty.call(settings, key)) {\n      console.warn(`[settings] \\`${key}\\` is not exposed in __ENV - check your settings.js and your .env`);\n    }\n  }\n\n  if (!autoBoolean) return value;\n  switch (value) {\n    case 1:\n    case '1':\n    case 'true':\n      return true;\n    case 0:\n    case '0':\n    case 'false':\n      return false;\n    case undefined:\n    case null:\n      return defaultValue;\n    default:\n      return value;\n  }\n}.bind(null, settings)\n\nexport default settings;\n\n// aditional root exports (for easier imports)\nexport const {\n  client, server, motion, withMotion, storybook, kontrolErrors,\n  cookies,\n  smoothScroll,\n  SHOW_LOADER,\n  ONCE_LOADER,\n  NAME\n} = settings\nexport const DEBUG = (IS_DEV || getEnv('VITE_DEBUG')) && client\nexport { locales };\n\n\n\n/**\n * SOME USEFULL SNIPETS\n */\n\n\n// /** old config\n//  * don't know if smart to use this now... will see later\n//  */\n// const todoOrRetestConfig = {\n//   /** @argument {Boolean} sendSiteIdInHeader - ad dheader wyith siteid for api */\n//   sendSiteIdInHeader: true,\n//   /** @argument {Boolean} reloadOnSwitchLangue - if false, be sur to update all your datas */\n//   reloadOnSwitchLangue: true,// ALWAYS TRUE FOR NOW\n//   /**@todo handle trailing slash ? */\n//   trailingSlash: false,\n//   /** @argument {Object} axios - axios config on create */\n//   axios: {\n//     withCredentials: IS_DEV,\n//   },\n// }\n","<docs>\n# Kontrol\n> A Tweakpane Control Panel to help by exposing and updating specific properties during the dev env\n\n@author Guillaume Tomasi <guillaume@kffein.com>\n</docs>\n\n<script lang=\"ts\" setup>\nimport { getEnv } from \"config\";\nimport { defineAsyncComponent } from 'vue';\n  \nconst KONTROL_ENABLE = getEnv('VITE_KONTROLS');\nconst KontrolPanel = defineAsyncComponent(() => import(/* webpackChunkName: \"kontrol-pannel\" */'./Panel.vue'));\n</script>\n    \n<template>\n  <KontrolPanel v-if=\"KONTROL_ENABLE\" />  \n</template>\n","import { createPinia } from 'pinia';\n\nexport const pinia = createPinia();\nexport type PiniaInstance = typeof pinia;\n","/**\n * # Tracking store\n * > Manage our tracking events && install && init\n *\n * @TODO:\n *  - add more third party libs ?\n *  - add more prefilled actions...\n *\n * @author Kevin Bastien <kevin@kffein.com>\n */\n//  import { each } from 'lodash';\nimport { createGtm, /* useGtm */ } from '@gtm-support/vue-gtm';\nimport { DEBUG, client, getEnv } from 'config';\nimport { defineStore } from 'pinia';\nimport { pinia } from 'plugins/store/index';\nimport { /* watch, */ computed, ref } from 'vue';\n\n// add declaration for gtag\ndeclare global { interface Window { gtag:any } }\n\ntype Consents = {\n  necessary: true\n  marketing: boolean\n  preferences: boolean\n  statistics: boolean\n}\ninterface ITrackingStore extends Obj {\n  client?: any,\n  consents: Consents,\n}\n\nconst useStore = defineStore('tracking', () => {\n  const state = ref<ITrackingStore>({\n    client: {\n      gtm: undefined,\n      ga: undefined,\n    },\n    consents:{\n      necessary: true,\n      marketing: DEBUG || false,\n      preferences: DEBUG || false,\n      statistics: DEBUG || false\n    }\n  });\n\n  //actions\n  const EVENT = (event:string, action:string, opts:any) => {\n    // gtm track event\n    if (state.value.client.gtm && window.dataLayer) {\n      window.dataLayer.push({\n        'event': event,\n        ...opts\n      });\n    }\n    // ga track event\n    else if (state.value.client.ga && window.gtag) {\n      window.gtag(event, action, opts);\n    }\n  }\n\n  const INSTALL = (router: any) => {\n    const plugins: Array<any> = [];\n\n    // skip install if not client\n    if (!client) return plugins;\n\n    // install GTM\n    if (getEnv('VITE_GTM_TRACKING_CODE') && getEnv('VITE_GTM_TRACKING_CODE') !== 'GTM-XXXXXX-XX') {\n      const queryParams:any = {};\n\n      // Add URL query string when loading gtm.js with GTM ID (required when using custom environments)\n      if (getEnv('VITE_GTM_PREVIEW')\n          && getEnv('VITE_GTM_AUTH')\n          && getEnv('VITE_GTM_AUTH') !== 'X0xXX0XXXXxXxxXxXX0xxX') {\n        queryParams.gtm_auth = getEnv('VITE_GTM_AUTH');\n        queryParams.gtm_preview = getEnv('VITE_GTM_PREVIEW');\n        //   gtm_cookies_win: 'x'\n      }\n\n      const gtm = createGtm({\n        id: getEnv('VITE_GTM_TRACKING_CODE'), // Your GTM single container ID, array of container ids ['GTM-xxxxxx', 'GTM-yyyyyy'] or array of objects [{id: 'GTM-xxxxxx', queryParams: { gtm_auth: 'abc123', gtm_preview: 'env-4', gtm_cookies_win: 'x'}}, {id: 'GTM-yyyyyy', queryParams: {gtm_auth: 'abc234', gtm_preview: 'env-5', gtm_cookies_win: 'x'}}], // Your GTM single container ID or array of container ids ['GTM-xxxxxx', 'GTM-yyyyyy']\n        queryParams,\n        defer: true, // Script can be set to `defer` to speed up page load at the cost of less accurate results (in case visitor leaves before script is loaded, which is unlikely but possible). Defaults to false, so the script is loaded `async` by default\n        compatibility: false, // Will add `async` and `defer` to the script tag to not block requests for old browsers that do not support `async`\n        // nonce: '2726c7f26c', // Will add `nonce` to the script tag\n        enabled: true, // defaults to true. Plugin can be disabled by setting this to false for Ex: enabled: !!GDPR_Cookie (optional)\n        debug: false, // Whether or not display console logs debugs (optional)\n        loadScript: true, // Whether or not to load the GTM Script (Helpful if you are including GTM manually, but need the dataLayer functionality in your components) (optional)\n        vueRouter: router, // Pass the router instance to automatically sync with router (optional)\n        ignoredViews: [], // Don't trigger events for specified router names (optional)\n        trackOnNextTick: true // Whether or not call trackView in Vue.nextTick\n      })\n      state.value.client.gtm = true;\n      plugins.push({ \n        install: gtm, \n        opts: null\n      });\n    }\n\n    const onConsentUpdate = updateConsents();\n    //@ts-expect-error\n    window.addEventListener('CookiebotOnAccept', onConsentUpdate, false);\n    //@ts-expect-error\n    window.addEventListener('CookiebotOnDecline', onConsentUpdate, false);\n\n\n    return plugins;\n  }\n\n  const updateConsents = () => {\n    if (!window.Cookiebot?.consent) return\n    const { necessary, marketing, preferences, statistics } = window.Cookiebot.consent as Consents\n    // console.log(window.Cookiebot.consent);\n    state.value.consents = {necessary, marketing, preferences, statistics}\n  }\n\n  return {\n    state,\n\n    //getters\n    consents: computed(() => state.value.consents),\n\n    //actions\n    EVENT,\n    INSTALL,\n  }\n});\n\nexport const store = useStore(pinia);\nexport default store;\n\n//  /** Watch cookie consent answer */\n//  watch(\n//   ()=>cookieStore.status,\n//   (status:any) => { \n    \n//     // gtm thingy\n//     if (getEnv('VITE_GTM_TRACKING_CODE')) {\n//       const gtm = useGtm();\n//       if (status === 'allow' && gtm) {\n//         gtm.enable(true);\n//       } else if (gtm) {\n//         gtm.enable(false);\n//       }\n\n//     }\n//   },\n//   { immediate:true }\n// )\n","import { cookies, ONCE_LOADER, server } from 'config';\nimport Cookies from 'js-cookie';\nimport { defineStore } from 'pinia';\nimport { pinia } from 'plugins/store/index';\nimport { store as appStore } from 'store/app';\nimport { store as trackingStore } from 'store/tracking';\nimport { computed, ComputedRef, ref } from 'vue';\n\ninterface App extends Obj {\n  ready:{\n    app:boolean, // like router and app init\n    globals:boolean, //may be mandatory to display website :/\n    interface: boolean, // mandatory to display website\n    loader:boolean, // new one here @todo ready when manifest etc loaded - usefull because may wait some uilib; manifest etc\n    page:boolean, // page data\n    firstPage:boolean, // set true only once\n  }\n  pageTransition?: object;\n  is404: boolean,\n  interaction: boolean;\n  bgColor: string;\n  disabled: boolean;\n  introSeen: boolean;\n  isInactive: boolean;\n}\n\nconst useStore = defineStore('app', () => {\n  \n  const state = ref<App>({\n    ready: {\n      app:false,\n      firstPage:false,\n      page:false,\n      globals:false,\n      interface:false,\n      loader:false\n    },\n    pageTransition: undefined,\n    is404: false,\n    interaction: false,\n    bgColor: \"#FFEAF9\",\n    disabled: false,\n    introSeen:false,\n    isInactive: false\n  });\n\n  // Getters\n  const _readyExeptPage: O<ComputedRef<boolean>> = computed(()=> {\n    return state.value.ready.app && state.value.ready.globals\n  });\n\n\n  //Actions\n\n  // must init app entrypoint + router ready + locale loaded + routeCpn loaded\n  const setAppReady = () => {\n    state.value.ready.app = true;\n  };\n\n  // Pass specific color name from our colors array\n  const setPageReady = (ready=true) => {\n    state.value.ready.page = ready;\n    if(ready && !state.value.ready.firstPage){\n      state.value.ready.firstPage = true;\n\n      if (ONCE_LOADER && trackingStore.consents.preferences && appStore.firstPageReady) {\n        Cookies.set(cookies.loader, 'true');\n      } \n    }\n  }\n\n  // Pass specific color name from our colors array\n  const setGlobalsReady = () => {\n    state.value.ready.globals = true;\n  }\n  // Pass specific color name from our colors array\n  const setInterfaceReady = () => {\n    state.value.ready.interface = true;\n  }\n\n  // set is 404\n  const setIs404 = () => {\n    state.value.is404 = true;\n  }\n\n  // set is no longer 404\n  const setIsNot404 = () => {\n    state.value.is404 = false;\n  }\n  \n  const setLoaderReady = () => {\n    state.value.ready.loader = true;\n  }\n\n  const setAppBgColor = (color: string) => {\n    state.value.bgColor = color;\n    document.body.style.backgroundColor = `rgb(${color})`;\n  }\n\n  const setPageTransition = (value? : object) => {\n    state.value.pageTransition = value;\n  }\n\n  // Disable the whole app (no more buttons)\n  const disableApp = (value : boolean) => {\n    state.value.disabled = value;\n  };\n\n  const init = () => {\n    if (server) return\n    \n    const interactionHandlers = () => {\n      document.removeEventListener('click', interactionHandlers)\n      document.removeEventListener('touch', interactionHandlers)\n      state.value.interaction = true;\n    }\n    document.addEventListener('click', interactionHandlers)\n    document.addEventListener('touch', interactionHandlers)\n  }\n\n  const setIntroSeen = (value: boolean) => {\n    state.value.introSeen = value;\n  }\n\n  const toggleInactive = (value: boolean) => {\n    state.value.isInactive = value;\n  }\n\n  return  {\n    state,\n\n    // getters\n    is404: computed(() => state.value.is404),\n    globalsReady: computed(() => state.value.ready.globals),\n    firstPageReady: computed( () => state.value.ready.firstPage),\n    ready: () => computed(() => {\n      return state.value.ready.app && state.value.ready.page && state.value.ready.globals && state.value.ready.interface\n    }),\n    /** ready to render - all loaded but page */\n    appReady: _readyExeptPage,\n\n    //get current background color\n    bgColor: computed(() => state.value.bgColor),\n    isAPageTransition: computed(() => state.value.pageTransition),\n    disabled: computed(() => state.value.disabled),\n    introSeen: computed(() => state.value.introSeen),\n    isInactive: computed(() => state.value.isInactive),\n\n    // actions\n    setAppReady,\n    setPageReady,\n    setGlobalsReady,\n    setInterfaceReady,\n    setIs404,\n    setIsNot404,\n    setLoaderReady,\n    setAppBgColor,\n    setPageTransition,\n    disableApp,\n    setIntroSeen,\n    toggleInactive,\n    init,\n  }\n});\nexport const store = useStore(pinia);\nexport default store;\nstore.init();\n","/**\n * InterfaceStore\n * our store about interface (window size, browser supports etc)\n */\nimport { client, motion, server } from 'config';\nimport { throttle } from 'lodash';\nimport { defineStore } from 'pinia';\nimport appStore from 'plugins/store/app';\nimport { pinia } from 'plugins/store/index';\n\nimport { computed, nextTick, ref } from 'vue';\ntype Supports = {\n  touch: boolean,\n  webp: boolean,\n  webgl: boolean,\n}\ninterface Interface extends Obj {\n  ready: boolean,\n  viewport: { width: number, height: number, innerHeight: number, webglHeight: number }\n  device: 'mobile' | 'tablet' | 'desktop',\n  /* list features supported by browser */\n  supports: Supports,\n  toobig: boolean,\n  webglHidden: boolean,\n  highResVersion: boolean\n}\n\nconst useStore = defineStore('interface', () => {\n  const state = ref<Interface>({\n    ready: false,\n    /** @argument {Object} viewport - uptodate viewport sizes */\n    viewport: {\n      width: client ? window.innerWidth : 1900,\n      height: client ? window.innerHeight : 1200, // stay always the same\n      innerHeight: client ? window.innerHeight : 1200, // updates on scroll\n      webglHeight: client ? window.innerHeight : 1200\n    },\n    /** @argument {Object} device - Detectizr device */\n    device: 'mobile',\n    toobig: false,\n    webglHidden: true,\n    highResVersion: false,\n    supports: {\n      touch: true,\n      webp: true,\n      webgl: true,\n\n    }\n  });\n\n  const hasTouch = () => {\n    return matchMedia(\"(pointer: coarse)\").matches;\n  }\n\n\n  const support = (feature: keyof Supports) => {\n    return state.value.supports[feature];\n  }\n\n  const init = async () => {\n    if (server) {\n      appStore.setInterfaceReady()\n\n      return;\n    }\n\n    // add some dataset to html for usefull tests (`html[data-motion=\"true\"] &`)\n    document.documentElement.dataset.client = client.toString()\n    document.documentElement.dataset.motion = motion.toString()\n    // document.documentElement.dataset.server = server.toString()\n\n    state.value.toobig = window.innerWidth > 1920 || window.innerHeight > 1080;\n\n\n    // Patch for webgl resize on mobile\n    setTimeout(() => {\n      const webglWrapper = document.querySelector('.webgl-wrapper');\n      const rect = webglWrapper?.getBoundingClientRect();\n      if (rect?.height) {\n        state.value.viewport.webglHeight = rect.height;\n      }\n    }, 200);\n\n    window.addEventListener('resize', throttle(() => {\n      state.value.viewport.width = window.innerWidth;\n      state.value.viewport.height = document.documentElement.offsetHeight;\n      state.value.viewport.innerHeight = window.innerHeight;\n      state.value.toobig = state.value.viewport.width > 1920 || state.value.viewport.height > 1080;\n\n      // Patch for webgl resize on mobile\n      const webglWrapper = document.querySelector('.webgl-wrapper');\n      const rect = webglWrapper?.getBoundingClientRect();\n\n      if (rect?.height && state.value.viewport.webglHeight !== rect.height) {\n        state.value.viewport.webglHeight = rect.height;\n      }\n    }, 250));\n\n    useModernizr();\n  }\n\n  const useModernizr = async () => {\n    const { Modernizr, Detectizr } = await import(/* webpackChunkName: \"vendor-modernizr\" */'vendors/modernizr')\n\n    state.value.device = Detectizr.device.type\n    // supports may take some time to compute...\n    // also, we may ensure some supports here\n    return nextTick(() => {\n      const { name, major } = Detectizr.browser\n      // Modernizr est weird, pas stable, on assume qu'on webp est supporter partout sauf pour <safari13 \n      const { touchevents, webgl, /* webp */ } = Modernizr\n      const webp = true;\n      const webp_safe = (() => {\n        const isSafari13AndBelow = name === 'safari' && parseInt(major, 10) <= 13\n        return webp?.valueOf() && !isSafari13AndBelow\n      })()\n\n      const touch_safe = touchevents && state.value.device !== 'desktop'\n      state.value.supports = {\n        webgl,\n        touch: touchevents || hasTouch(),\n        webp: webp_safe\n      }\n\n      // also add `.no-touch` in `<html>` so .no-touch is always true on desktop event for touch ones\n      // vs .no-touchevent may still be true on such devices\n\n      document.documentElement.classList.add(name)\n      document.documentElement.classList.add(state.value.device)\n      document.documentElement.classList.add(`${motion ? '' : 'no-'}motion`)\n      document.documentElement.classList.add(`${client ? '' : 'no-'}client`)\n      document.documentElement.classList.add(`${server ? '' : 'no-'}server`)\n      document.documentElement.classList.add(`${webp_safe ? '' : 'no-'}webp-safe`)\n      document.documentElement.classList.add(`${touch_safe ? '' : 'no-'}touch`)\n      state.value.ready = true;\n      appStore.setInterfaceReady()\n    });\n  }\n\n  const showWebGL = () => {\n    state.value.webglHidden = false;\n  }\n\n  const forceHighResVersion = () => {\n    state.value.highResVersion = true;\n  }\n\n  return {\n    state,\n\n    //getters\n    // those values are sync with our koddein styling settings... be carefull with those\n    isMobile: computed(() => state.value.viewport.width <= 600),\n    isTablet: computed(() => state.value.viewport.width > 600 && state.value.viewport.width < 1280),\n    isDesktop: computed(() => state.value.viewport.width >= 1280),\n    // just like our +layout(desktop)\n    isLayoutDesktop: computed(() => state.value.viewport.width >= 1000),\n\n    isDesktopDevice: computed(() => state.value.device === 'desktop'),\n    viewport: computed(() => state.value.viewport),\n    isViewportTooBig: computed(() => state.value.toobig),\n    hasTouch: computed(() => state.value.supports.touch),\n    hasWebP: computed(() => state.value.supports.webp),\n   \n    highResVersion: computed(() => \n      state.value.highResVersion || (window.devicePixelRatio > 1 && state.value.viewport.width >= 1920)\n    ),\n\n    //actions\n    init,\n    support,\n    showWebGL,\n    forceHighResVersion,\n  }\n});\n\nexport const store = useStore(pinia);\nexport default store;\n\n// @ts-expect-error\nwindow.interface = store\n","/**\n * easier to manage all gsap dependencies\n * !IMPORTANT - make sure to remove every plugins that you don't need in production, i'm looking at you `GSDevTools`\n */\nimport {\n  Back, Bounce, Circ, Cubic, Elastic, Expo, gsap, Linear, Power0, Power1, Power2, Power3, Power4,\n  Quad, Quart, Quint, Sine, Strong\n} from 'gsap';\nimport { CSSPlugin } from 'gsap/CSSPlugin';\nimport { CSSRulePlugin } from 'gsap/CSSRulePlugin';\nimport { CustomEase } from 'gsap/CustomEase';\n// import { GSDevTools } from 'gsap/GSDevTools';\nimport { Draggable } from \"gsap/Draggable\";\nimport { DrawSVGPlugin } from 'gsap/DrawSVGPlugin';\nimport { ScrollToPlugin } from 'gsap/ScrollToPlugin';\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\nimport { SplitText } from 'gsap/SplitText';\n// arke, this is not ready\n// import { ScrollSmoother } from 'gsap/ScrollSmoother';\n\ngsap.registerPlugin(CSSPlugin, CSSRulePlugin)\ngsap.registerPlugin(ScrollTrigger)\ngsap.registerPlugin(SplitText)\n// gsap.registerPlugin(GSDevTools)\ngsap.registerPlugin(CustomEase);\ngsap.registerPlugin(ScrollToPlugin);\ngsap.registerPlugin(DrawSVGPlugin);\ngsap.registerPlugin(Draggable);\n// gsap.registerPlugin(MotionPathPlugin);\n// gsap.registerPlugin(MotionPathHelper);\n\n// gsap.registerPlugin(ScrollSmoother)\n\n// ¯\\_(ツ)_/¯ avoid weird bug on build - `Linear not found`\n// @ts-expect-error\nwindow.eases = {\n  Linear, Back, Bounce, Elastic,\n  Circ, Cubic, Quad, Quart, Quint, Sine, Strong, Expo,\n  Power0, Power1, Power2, Power3, Power4\n};\n\nexport {\n  Back, Bounce, Circ, Cubic,\n  // GSDevTools,\n  CustomEase, Draggable, Elastic, Expo, gsap,\n  // ScrollSmoother,\n  Linear,\n  // MotionPathHelper, MotionPathPlugin,\n  Power0, Power1, Power2, Power3, Power4, Quad, Quart, Quint, ScrollTrigger, Sine, SplitText, Strong\n};\n\n","/** RESPONSIVE CURVE store\n * contain all data + logic to control our responsive ratios\n * \n * then will use a vue cpn to render css vars in dom\n */\nimport { DEBUG } from 'config';\nimport { debounce } from 'lodash';\nimport { defineStore } from 'pinia';\nimport { pinia } from 'plugins/store/index';\nimport InterfaceStore from 'store/interface';\nimport { CustomEase, gsap } from 'vendors/gsap';\nimport { computed, nextTick, readonly, ref, toRef, watch } from 'vue';\n\nconst config = {\n  // design viewport desktop\n  desktop: 1440,\n  // design viewport mobile\n  mobile:375,\n  // when we switch layout desktop/mobile\n  layout:1000,\n  // max grid ref when creating the svg...\n  // @todo better...\n  max:10000,\n  // default path (svg) - this one is our best curve\n  path: 'M0,10000s0-375.03,375-375c903.84-.02,56.55-290.64,1065-1065.14,723.37-555.55,2408.29-1365.28,6347.95-2471.16C9251.93,5677.75,10000,0,10000,0',\n} as const\n\ninterface ResponsiveStore extends Obj {\n  config: typeof config,\n  ratios: {\n    desktop: number,\n    mobile: number,\n  },\n  path: string\n}\n\nconst useStore = defineStore('Responsive', () => {\n  // shortcuts\n  const {\n    desktop:DESKTOP,\n    mobile: MOBILE,\n    max:    MAX,\n    path:   PATH,\n  } = config\n  const width = toRef(InterfaceStore.viewport, 'width')\n\n  const state = ref<ResponsiveStore>({\n    config,\n    ratios: {\n      desktop: DESKTOP / MAX,\n      mobile: MOBILE / MAX,\n    },\n    path: PATH\n  });\n\n\n  // * ------------------------------------------------------------------------- Curve creation\n\n  // Create our ease function only if not created, specific for storybook bug on story switch\n  if (!CustomEase.get('responsive')) {\n    CustomEase.create('responsive', state.value.path);\n  }\n  let useResponsiveEase = gsap.parseEase('responsive');\n  const updateResponsiveEase = debounce((path)=>{\n    CustomEase.create('responsive', path);\n    useResponsiveEase = gsap.parseEase('responsive');\n    state.value.path = path\n\n    nextTick(()=>{\n      ratioEased.value = useResponsiveEase(ratio.value)\n    })\n  }, 100)\n\n  // * ------------------------------------------------------------------------- RATIOS\n\n  /** compute base ratio (and eased ratio) :\n   * > current vw from 0 to MAX\n   */\n  const ratio = computed(()=>width.value / MAX)\n  const ratioEased = ref(useResponsiveEase(ratio.value))\n  watch(()=>ratio.value, newRatio=>{\n    ratioEased.value = useResponsiveEase(newRatio)\n  })\n  /** mobile / desktop related ratios\n   * > v-mobile * ratio-mobile */\n  const desktop = computed(()=>ratioEased.value / state.value.ratios.desktop)\n  const mobile =  computed(()=>ratioEased.value / state.value.ratios.mobile)\n  // just remember diff between ratios - we will multiply this to our diff ratio for a eased version\n  const diffRatioEasedOrNot = computed(()=>ratioEased.value / ratio.value)\n  const useRangeBetween = gsap.utils.mapRange(MOBILE, DESKTOP, 0,1)\n  const rangeVw = computed(()=>useRangeBetween(width.value))\n  // EASED RATIO BETWEEN MOBILE / DESKTOP from 0 to 1\n  const between = computed(()=>rangeVw.value * diffRatioEasedOrNot.value)\n\n\n  // * ------------------------------------------------------------------------- EXPORTS\n  /** compute responsive value */\n  function useResponsive(pxDesktop:number, pxMobile?:number, unit?:'px'|boolean){\n    const value = (()=>{\n      if (!pxMobile) {\n        return pxDesktop * desktop.value\n      }\n      if (pxMobile && !pxDesktop) {\n        return pxMobile * mobile.value\n      }\n\n      if(width.value > DESKTOP)\n        return pxDesktop * desktop.value\n      if(width.value < MOBILE)\n        return pxMobile * mobile.value\n\n      const diff = pxDesktop - pxMobile\n      return pxMobile + (diff * between.value)\n    })()\n\n    return unit ? `${value}px` : value\n  }\n\n  return {\n    state: readonly(state),\n    path: computed(()=>state.value.path),\n    \n    // * ratios\n    desktop,\n    mobile,\n    between,\n\n    // * get responsive value\n    useResponsive,\n    r:useResponsive,\n\n    // * internal stuff\n    ratio,\n    ratioEased,\n    updateResponsiveEase,\n  }\n})\nexport const store = useStore(pinia);\nexport default store;\n\n// @ts-expect-error\nif(DEBUG) window.storeResponsive = store\n","<docs>\n  # Responsive\n  > responsive magic with custom easing based on a svg curve\n  \n  @author Nicolas Husson <nicolas@kffein.com>\n</docs>\n\n<script lang=\"ts\" setup>\n  import { getEnv } from 'config';\nimport { storeToRefs } from 'pinia';\nimport { defineAsyncComponent } from 'vue';\nimport ResponsiveStore from './store';\n  \n  const SHOW_DEBUG = getEnv('VITE_DEBUG_RESPONSIVE')\n  const DebugResponsive = defineAsyncComponent(() => import(/* webpackChunkName: \"desbug-responsive\" */'./Debug.vue'))\n\n  // display debug tools\n  // const DEBUG = true\n\n  const {\n    path,\n    desktop,\n    mobile,\n    between,\n    ratio,\n    ratioEased,\n    // updateResponsiveEase\n  } = storeToRefs(ResponsiveStore)\n</script>\n    \n<template>\n  <component :is=\"'style'\">\n    :root {\n    --ratio-desktop: {{ desktop }};\n    --ratio-mobile: {{ mobile }};\n    --ratio-between: {{ between }};\n    }\n  </component>\n  <DebugResponsive v-if=\"SHOW_DEBUG\"\n                   :path=\"path\"\n                   :ratio=\"ratio\"\n                   :ratio-eased=\"ratioEased\"\n                   @update=\"ResponsiveStore.updateResponsiveEase\"\n  />  \n</template>\n","import mitt from 'mitt';\n\n// basic mitt instance\nconst emitter = mitt()\nexport default emitter;\n\n// Events listing\nexport const EVENTS = {\n  // UiKit - Cursor\n  CURSOR_UPDATE: 'cursor-update', // reset window events listener mouseover binding\n\n  // UiKit - Videos\n  VIDEO_STOP_ALL: 'video-stop-all', // force stop every video\n\n  // UiKit - Lightbox\n  LIGHTBOX_CLOSE_ALL: 'lightbox-close-all', // force close every lightbox\n\n  // WebGLSpritesheet TextureLoaded\n  SPRITESHEET_FRAME_LOADED: 'webglspritesheet-frame-loaded', // a frame is loaded \n  SPRITESHEET_READY: 'webglspritesheet-ready', // everything is loaded \n  SPRITESHEET_FRAME_EVENT: 'webglspritesheet-frame-event', // an event on a frame \n  SPRITESHEET_LAST_FRAME: 'webglspritesheet-last-frame', // an event on the last frame \n\n  SHOW_LISTING: 'show-listing', // show the listing\n  HIDE_SPRITESHEET: 'hide-spritesheet', // hide and dispose the intro spritesheet (with the webgl scene)\n\n  THEME_SWITCHING: 'switch-theme-start',\n  CLICK_THEME: 'click-theme',\n  CLICK_OBJECT: 'click-object',\n  PAGE_TRANSITION: 'page-transition',\n\n  OBJECT_DETAIL_READY: 'object-detail-ready',\n  OBJECT_SHOW_ARTICLE: 'object-show-article',\n  \n  STOP_INACTIVE: 'stop-inactive',\n  RESET_INACTIVE: 'reset-inactive',\n};\n","import { computed, ref } from 'vue';\nimport { defineStore } from 'pinia';\nimport emitter, { EVENTS } from 'plugins/store/events';\nimport { pinia } from 'plugins/store/index';\n\n// available colors\nexport const cursorColorDefault = 'black';\nexport const cursorColorAccent = '#ff3377';\nexport const cursorColorOther = '#00664f';\n\n// for typing purpose, or if we wanna change the cursor with some random color from these ->\nexport const cursorColors = <const>[\n  cursorColorDefault,\n  cursorColorAccent,\n  cursorColorOther\n];\n\ninterface ICursor extends Obj {\n  color: typeof cursorColors[number];\n}\n\nconst useStore = defineStore('cursor', () => {\n  const state = ref<ICursor>({\n    color: cursorColorDefault\n  });\n\n  //Actions\n  // Pass specific color name from our colors array\n  const changeColor = (value:typeof cursorColors[number]) => {\n    state.value.color = value;\n  }\n\n  // do we prefer something like this ? ->\n  const resetColor = () => {\n    state.value.color = cursorColorDefault;\n  }\n  \n  const setColorAccent = () => {\n    state.value.color = cursorColorAccent;\n  }\n\n  const setColorOther = () => {\n    state.value.color = cursorColorOther;\n  }\n\n  const updateCursor = () => {\n    setTimeout(() => {\n      emitter.emit(EVENTS.CURSOR_UPDATE);\n    }, 500);\n  }\n\n  return {\n    state,\n\n    //getters\n    color: computed( () => state.value.color),\n\n    //actions\n    changeColor,\n    resetColor,\n    setColorAccent,\n    setColorOther,\n    updateCursor\n  }\n});\n\nexport const store = useStore(pinia);\nexport default store;\n","/**\n * # FlowPage\n * > a custom lifecycle for our pages\n * \n * like simple flow but handle more stuff for page\n * - loading + app ready etc\n * - @TODO SEO metas\n * \n */\nimport { tryOnMounted } from '@vueuse/core';\nimport { store as cursorStore } from 'components/UiKit/Cursor/store';\nimport { client, server, withMotion } from 'config';\nimport { keys, map, merge, zipObject } from 'lodash';\nimport { ComputedRef, Ref, computed, nextTick, readonly, ref, unref, watch } from 'vue';\n\n/**\n* STATES are incrmental values\n* *onLoaded will be triggered even if current state higher like READY*\n* (destroy states may be negative so super specific)\n*/\nexport const STATES = {\n  DEFAULT:0,\n  LOADED:1,\n  INIT:2,\n  INIT_UI:3,\n  READY:4\n}\n\n\nexport interface FlowOptions<T extends Obj> {\n  data?:()=>Ref<T>\n  api?:{\n    url: string,\n    moc?: ()=>Promise<Obj>\n  }\n  /** load your data\n  * will wait this loader, store data, then setState(LOADED)\n  * > HOOK: ON_INIT avaible aftre this complete\n  */\n  load?: ()=>Promise<Obj>\n  /** preload ui dependencies + wait tryOnMounted\n    * triggered only if `motion`- start loading on setup but do not bloack maiin loading state\n    * > HOOK: ON_INIT_UI avaible after completion\n    * ui:{\n    *   gsap: ()=>import('gsap').then(m=>m.default)\n    * }\n  **/\n  ui?: {\n    [key:string]:()=>Promise<any>\n  }\n  /** if true, log flow etc */\n  debug?:boolean|string\n}\n\nexport type FlowHookArgs = {\n  client:boolean, server:boolean, motion:boolean\n}\n// type FlowCallback = (arg0:{\n//   client:boolean, server:boolean, motion:boolean\n// })=>unknown\n\nexport interface Flow<T> {\n  /** \n  * ready to render CPN\n  * - actualy event before STATES.READY (when ui hidden)\n  * - true when INIT/INIT_UI\n  */\n  ready:ComputedRef<boolean>\n  readyToRender:ComputedRef<boolean>\n  //  loaded:ComputedRef<boolean>\n  state:Ref<number>\n  /** return api data - if response = {meta, data} then getData will return only the `data` node (without seo) */\n  getData:()=>Ref<T>\n  /**\n  * data loaded - like a tryOnMounted()\n  * - if server = right after loaded\n  * - if client = loaded + mounted\n  */\n  onInit: (next: (arg: FlowHookArgs & {data:T}) => unknown) => Promise<unknown>\n  /**\n  * init ui stuff (init + preload ui + moUnted)\n  * **only if motion**\n  */\n  onInitUi: (next: (arg: FlowHookArgs & {data:T} & {ui:Obj}) => unknown) => Promise<unknown>\n}\n\n\nexport function useFlow<T extends Obj>(options:FlowOptions<T>={}):Flow<T>{\n  const state = ref<number>(STATES.DEFAULT)\n  let uiVendors = {}\n  const motion = withMotion()\n  \n  const _data = ref(options.data?.() ?? {} as T) // store the response `meta` node (like no meta or data.data)\n  function getData(){\n    // const ensured:unknown = readonly(_data)\n    return readonly(_data)\n  }\n\n  /**\n  * to be triggered once loading ready\n  * May wait some required states before\n  */\n  function setReady(){\n    if(state.value === STATES.READY) return\n    const requiredState = motion ? STATES.INIT_UI : STATES.INIT\n    waitForState(requiredState)\n    .then(()=>{\n      state.value = STATES.READY\n    })\n  }\n  \n  function waitForState(stateToMatch:number){\n    return new Promise(resolve=>{\n      const unwatch = watch(state, (current)=>{\n        if (current>=stateToMatch){\n          nextTick(()=>unwatch())\n          resolve(true)\n        }\n      }, {immediate:true, flush:'post'})\n    })\n  }\n\n  async function load(){\n    return new Promise(resolve=>{\n      if (typeof options.load === 'function')\n        return resolve(options.load())\n      return resolve({})\n    })\n    .then((response?:any)=>{\n      function mergeWithOptionsData(data:any){\n        if (!options.data) return data\n        return merge({}, options.data(), data??{})\n      }\n      if(typeof response === 'object' && response){\n        _data.value = mergeWithOptionsData(response)\n      }\n      state.value = STATES.LOADED\n      return response\n    })\n  }\n  \n  async function preloadUi(){\n    return new Promise(resolve=>{\n      if (options.ui) {\n        return Promise.all(map(options.ui, i=>i()))\n        .then((args)=>zipObject(keys(options.ui), args))\n        .then(resolve)\n      }\n      return resolve(undefined)\n    })\n    .then(payload=>{\n      if(payload && typeof payload === 'object'){ \n        uiVendors = payload // no reactive shits here\n      }\n      return payload\n    })\n  }\n  \n\n  Promise.all([\n    load(),\n    new Promise(resolve=>{\n      if(server) return resolve(true)\n      tryOnMounted(()=>resolve(true))\n    })\n  ])\n  .then((data)=>{\n    nextTick(()=>{ state.value = STATES.INIT })\n    return data\n  })\n\n  if (motion) {\n    Promise.all([\n      preloadUi(),\n      waitForState(STATES.INIT),\n      new Promise(resolve=>tryOnMounted(()=>resolve(true)))\n    ]).then((ui)=>{\n      nextTick(()=>{ state.value = STATES.INIT_UI })\n      return ui\n    })\n  }\n  \n  setReady()\n\n  return {\n    loaded:computed(()=>state.value >= STATES.LOADED),\n    ready:computed(()=>state.value >= STATES.READY),\n    readyToRender:computed(()=>state.value >= (motion?STATES.INIT_UI:STATES.INIT)),\n    getData,\n    setReady,\n    waitForState,\n    state,\n    /** data loaded - like a tryOnMounted() */\n    onInit:async function(next:(arg:FlowHookArgs & {data:T})=>unknown){\n      await waitForState(STATES.INIT)\n      return next({client, server, motion, data:(unref(_data) as T)})\n    },\n    onInitUi:async function(next:(arg:FlowHookArgs & {data:T} & {ui:Obj})=>unknown){\n      if (!motion) return\n      await waitForState(STATES.INIT_UI)\n\n      // update cursor\n      if (client) {\n        cursorStore.updateCursor();\n      }\n\n      return next({client, server, motion, data:(unref(_data) as T), ui:uiVendors})\n    },\n\n  } as Flow<T>\n}\n\nexport default useFlow\n\n","import { defineStore } from 'pinia';\nimport { pinia } from 'plugins/store/index';\nimport { computed, ref } from 'vue';\n\ninterface Nav extends Obj {\n  isOpen: boolean;\n  height: number;\n  hidden: boolean;\n}\n\nconst useStore = defineStore('nav', () => {\n  const state = ref<Nav>({\n    isOpen: false,\n    height: 0,\n    hidden: false,\n  });\n\n  //Actions\n  // update nav state\n  const openState = (value: boolean) => {\n    state.value.isOpen = value;\n  }\n\n  // define the header height (for scrolling limits)\n  const setHeight = (height: number) => {\n    state.value.height = height;\n  }\n\n  const setHidden = (value: boolean) => {\n    state.value.hidden = value;\n  }\n\n  return {\n    state,\n\n    //getters\n    /**\n     * get isOpen state\n     */\n    isOpen: computed(() => state.value.isOpen),\n\n    /**\n     * get height state\n     */\n    height: computed(() => state.value.height),\n    hidden: computed(() => state.value.hidden),\n    //actions\n    openState,\n    setHidden,\n    setHeight,\n  }\n});\n\nexport const store = useStore(pinia);\nexport default store;\n","import Lenis from '@studio-freight/lenis';\n// import { each } from 'lodash';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock-upgrade';\nimport { store as NavStore } from 'components/ui/Header/store';\nimport { defineStore } from 'pinia';\nimport { pinia } from 'plugins/store/index';\nimport { gsap, ScrollTrigger } from 'vendors/gsap';\nimport { computed, nextTick, ref } from 'vue';\n\ninterface ScrollState extends Obj {\n  scrollable: boolean,\n  mainScroll?: Lenis,\n  ready: boolean,\n  // on top of the page -> y = 0\n  isTop: boolean,\n  // on bottom of the page -> y = document height\n  isBottom: boolean,\n  // 1 == down /// -1 == up\n  direction?: 1|-1,\n  // scroll y position\n  y: number,\n}\n\nconst useStore = defineStore('scroll', () => {\n  const state = ref<ScrollState>({\n    scrollable: false,\n    mainScroll: undefined,\n    ready: false,\n    isTop: true,\n    isBottom: false,\n    direction: undefined,\n    y: 0,\n  });\n\n  /** \n   * Create and register a new smooth scroll\n   * @el HTMLElement who will be the scroll wrapper\n   * @options ScrollOptions\n  */\n  const useSmoothScroll = (): void => {\n    if (state.value.mainScroll) return;\n\n    // window.scrollTo(0, 0);\n\n    state.value.mainScroll = new Lenis({\n      wrapper: document.body,\n      // Lerp OR duration OR easing, duration will override lerp and if either of them are defined easing will be useless.\n      lerp: 0.08,\n      // duration: 3,\n      // The easing function to use for the scroll animation, our default is custom but you can pick one from Easings.net. Useless if lerp defined\n      // easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      orientation: 'vertical',\n      gestureOrientation: 'vertical',\n      smoothWheel: true,\n      syncTouch: true,\n      syncTouchLerp: 0.1,\n      touchInertiaMultiplier: 35,\n      wheelMultiplier: 1,\n      touchMultiplier: 2,\n      infinite: false,\n      autoResize: true,\n      // Help safari with flickering issue\n      wheelEventsTarget: document.body\n    });\n\n    addEvents();\n\n    nextTick(() => {\n      if (!state.value.scrollable) {\n        state.value.mainScroll?.stop();\n      }\n\n      state.value.ready = true;\n    });\n  }\n\n  const setReady = ():void => {\n    setScrollable(true);\n    state.value.ready = true;\n  }\n\n  const setScrollable = (scrollable: boolean): void => {\n    // state.value.mainScroll?.paused(!scrollable);\n    if (scrollable) {\n      if (state.value.mainScroll) {\n        state.value.mainScroll?.start()\n      } else {\n        enableBodyScroll(document.body)\n      }\n    } else {\n      if (state.value.mainScroll) {\n        state.value.mainScroll?.stop()\n      } else {\n        disableBodyScroll(document.body, {\n          reserveScrollBarGap: true,\n          //@ts-expect-error\n          allowTouchMove: el => {\n            while (el && el !== document.body) {\n              //@ts-expect-error\n              if (el.getAttribute('data-lenis-prevent') !== null) {\n                return true;\n              }\n              //@ts-expect-error\n              el = el.parentElement;\n            }\n          },\n        })\n      }\n    }\n    state.value.scrollable = scrollable;\n    document.documentElement.dataset.scrollable = scrollable.toString()\n  }\n\n  /**\n   * Add events for both ScrollTrigger and LocomotiveScroll\n   */\n  const addEvents = () : void => {\n    if (state.value.mainScroll) {\n      state.value.mainScroll.on('scroll', (scroll:any) => {\n        state.value.isTop = scroll.targetScroll === 0;\n        state.value.isBottom = scroll.targetScroll === scroll.limit;\n        state.value.direction = scroll.direction;\n        state.value.y = scroll.targetScroll;\n      });\n  \n      gsap.ticker.add((time)=>{\n        state.value.mainScroll?.raf(time * 1000);\n      })\n  \n      gsap.ticker.lagSmoothing(0);\n    } else {\n      document.addEventListener('scroll', () => {\n        state.value.isTop = window.scrollY === 0;\n        state.value.isBottom = window.scrollY + window.innerHeight >= document.body.scrollHeight\n        state.value.direction = state.value.y < window.scrollY ? 1 : -1;\n        state.value.y = window.scrollY;\n      });\n    }\n  }\n\n  /**\n   * Remove events for both ScrollTrigger and LenisScroll\n   */\n  const removeEvents = () : void => {\n    if (!state.value.mainScroll) return;\n  }\n\n  /**\n   * Destroy and Reinit the scroll to refresh with the new size of the wrapper\n   */\n  const refreshScroll = () : void => {\n    if (!state.value.mainScroll) return;\n    ScrollTrigger.refresh();\n\n    nextTick(() => {\n      if (!state.value.scrollable) {\n        state.value.mainScroll?.stop();\n      }\n    });\n  }\n\n  /**\n   * Clean and destroy the smooth scroll instancr\n   */\n  const releaseSmoothScroll = (andClean = false) : void => {\n    if (!state.value.mainScroll) return;\n\n    removeEvents();\n    state.value.mainScroll.destroy();\n\n    if(andClean) {\n      state.value.mainScroll = undefined;\n    }\n  }\n\n  const updateScroll = ():void=>{\n    if (!state.value.mainScroll) return;\n    ScrollTrigger.refresh();\n  }\n\n  const scrollTo = (value: number | string | HTMLElement): void => {\n    if (!state.value.mainScroll) {\n      gsap.to(window, { duration: 2, scrollTo: {y: value, offsetY: NavStore.height || 0, autoKill: false} });\n    } else {\n      state.value.mainScroll?.scrollTo(value, {duration: 2, offset: -NavStore.height || 0, force: true, lock: true});\n    }\n  }\n  \n  const scrollTop = (): void => {\n    if (!state.value.mainScroll) {\n      gsap.to(window, { duration: 0, scrollTo: { y: 0, autoKill: false } });\n      // patch for iphone :boom:\n      setTimeout(() => {\n        gsap.to(window, { duration: 0, scrollTo: { y: 0, autoKill: false } });\n      }, 300);\n      // window.scrollTo(0, 0);\n    } else {\n      state.value.mainScroll?.scrollTo(0, { duration: 0, force: true, immediate: true, lock: true });\n    }\n  }\n  \n  const getScroll = ():number => {\n    return window.scrollY || 0;\n  };\n\n  const getDirection = ():number => {\n    return state.value.direction || 0;\n  };\n\n  return {\n    state,\n\n    //getters\n    ready: state.value.ready,\n    scrollable: state.value.scrollable,\n    scrollLimits: state.value.limits,\n    mainScroll: computed(() => state.value.mainScroll),\n\n    //actions\n    useSmoothScroll,\n    addEvents,\n    setReady,\n    releaseSmoothScroll,\n    setScrollable,\n    refreshScroll,\n    updateScroll,\n    scrollTo,\n    scrollTop,\n    getScroll,\n    getDirection\n\n  }\n});\n\nexport const store = useStore(pinia);\nexport default store;\n","import { BackSide, DoubleSide, FrontSide } from \"three\";\n\n//------------------------------ CONSTANTS\n\n// Const for targetting specific threejs properties\n\n//Object3D\nexport const K_PROPS_OBJECT = [\n  'position',\n  'scale',\n  'rotation',\n  'castShadow',\n  'receiveShadow',\n  'visible'\n];\n\n// All popular Materials \nexport const K_PROPS_MATERIAL = [\n  'color',\n  'emissive',\n  'roughness',\n  'metalness',\n  'clipShadows',\n  'depthTest',\n  'depthWrite',\n  'opacity',\n  'side',\n  'transparent',\n  'visible',\n  'wireframe'\n];\n\n// All popular lights\nexport const K_PROPS_LIGHT = [\n  'color',\n  'groundColor',\n  'intensity',\n  'decay',\n  'distance',\n  'power',\n  'height',\n  'width',\n  'angle',\n  'penumbra',\n  'castShadow',\n  'receiveShadow',\n  'position'\n];\n\n// Fog\nexport const K_PROPS_FOG = ['color','near', 'far'];\n\n// All popular cameras\nexport const K_PROPS_CAMERA = [\n  'far',\n  'near',\n  'bottom',\n  'left',\n  'right',\n  'top',\n  'zoom','aspect',\n  'focus',\n  'fov',\n  'filmGauge',\n  'filmOffset',\n  'position',\n  'rotation',\n  'castShadow',\n  'frustumCulled',\n  'quaternion',\n  'receiveShadow',\n  'visible'\n];\n\n\n//------------------------------ OPTIONS\n\n// Material binding options\nexport const K_MATERIAL_OPTIONS = {\n  opacity:    { min:0, max:1, step:0.1 },\n  color:      { color: { type: 'float' }},\n  emissive:   { color: { type: 'float' } },\n  roughness:  { min:0, max:1, step:0.1 },\n  metalness:  { min:0, max:1, step:0.1 },\n  side:       { options:{ front:FrontSide, back:BackSide, double:DoubleSide } },\n};\n\n// Light binding options\nexport const K_LIGHT_OPTIONS = {\n  intensity:  { min:0 },\n};\n\n// Light binding options\nexport const K_FOG_OPTIONS = {\n  near:       { min:0 },\n};\n\nexport const K_COLOR_OPTIONS = {\n  color:      {type: 'float'}\n}\n","import { until } from '@vueuse/core';\nimport { K_COLOR_OPTIONS, K_FOG_OPTIONS, K_LIGHT_OPTIONS, K_MATERIAL_OPTIONS, K_PROPS_CAMERA, K_PROPS_FOG, K_PROPS_LIGHT, K_PROPS_MATERIAL, K_PROPS_OBJECT } from 'components/Kontrol/const';\nimport { getEnv, kontrolErrors } from 'config';\nimport { find, has, isArray, isPlainObject, keys, merge, without, omit } from 'lodash';\nimport { computed } from 'vue';\nimport { K_AddOption, K_Param, K_StoreMethods, K_TWOption } from \"./types\";\n\n\n// Param transformed\ntype PimpedParam = {\n  values?: string | string[];\n  options: K_AddOption;\n}\n\n// String or Array of String ==> To include or exclude properties (internal use)\ntype PropertyValues = string | string[];\n\n/**\n * Static class to access the Kontrol store\n * only if we have the env VITE_KONTROLS = true, otherwise it's a blank tool  \n **/\nexport class Kontrol {\n\n  // Store refs with only accessible methods\n  private static store : K_StoreMethods;\n\n  /**\n   * Add a whole object or specific properties to the Kontrol panel\n   * @param param Object of props\n   * @param values String or Array of properties to include or Tweakpane and path customisation + change event\n   * @param options Tweakpane and path customisation + change event\n   */\n  static async add(param : K_Param, values?: PropertyValues | K_AddOption, options?:K_AddOption | K_TWOption) {\n    const enabled = await this._isEnabled();\n    if(!enabled) return;\n\n    //wait for kontrol ready\n    await until(computed( () => this.store.ready)).toBe(true)\n\n    // check options\n    const instances = [isArray(values), isPlainObject(values)];\n    \n    // params transformed\n    let pimpedParam : PimpedParam;\n    \n    // string or array\n    if(!instances[1]) {\n      pimpedParam = this._pimpMyParam(param, values as PropertyValues);\n      \n      // transform options if we have only one value (better syntax for the user)\n      const hasOneValues = !instances[0] || (instances[0] && (values as string[]).length === 1);\n\n      //we want to keep the path settings outside the options, otherwise we lose it\n      let optionsWithoutPath = omit(options, ['path']);\n\n      if(hasOneValues && !has(optionsWithoutPath, values as string)) {\n        optionsWithoutPath = {[values as string] : optionsWithoutPath};\n      }\n\n      //merge the both options (options for the value and for the path (if necessary))\n      options = {...options, ...optionsWithoutPath};\n\n      this.store.addParam(param, pimpedParam.values, merge(pimpedParam.options, options || {}));\n    }\n    // K_AddOptions\n    else{\n      pimpedParam = this._pimpMyParam(param);\n      this.store.addParam(param, pimpedParam.values, merge(pimpedParam.options, options || values || {}));\n    }\n  }\n\n  /**\n   * Add whole object without specific properties to the Kontrol panel\n   * @param param Object of props\n   * @param values String or Array of properties to exclude\n   * @param options Tweakpane and path customisation + change event\n   */\n  static async addWithout(param: K_Param, values: string | string[], options?: K_AddOption) {\n    const enabled = await this._isEnabled();\n    if(!enabled) return;\n    \n    //wait for kontrol ready\n    await until(computed( () => this.store.ready)).toBe(true);\n    \n    // be sure to have a dynamic arguments list\n    if(!isArray(values)) values = [values as string]\n\n    const pimpedParam = this._pimpMyParam(param, values, true);\n\n    //add through the store\n    this.store.addParam(param, pimpedParam.values, merge(pimpedParam.options, options || {}));\n  }\n\n  /**\n   * Clear the whole Kontrol panel\n   */\n  static async clear() {\n    const enabled = await this._isEnabled();\n    if(!enabled) return;\n    \n    await until(computed( () => this.store.ready)).toBe(true)\n    this.store.clear();\n  }\n  \n  /**\n   * Dispose the whole Kontrol panel (removed it from the dom)\n   */\n  static async dispose() {\n    const enabled = await this._isEnabled();\n    if(!enabled) return;\n    \n    await until(computed( () => this.store.ready)).toBe(true)\n    this.store.dispose();\n  }\n  \n  /**\n   * For webgl plugin only (begin and start to watch fps between raf renders)\n   * @param mode begin or end\n   */\n  static async watchFps(mode:string) {\n    const enabled = await this._isEnabled();\n    if(!enabled) return;\n\n    await until(computed( () => this.store.ready)).toBe(true)\n    this.store.fps(mode);\n  }\n\n  //------------------------------------ Private\n\n  /**\n   * Check if the Kontrol env is true\n   */\n  private static async _isEnabled() {\n    const env = getEnv('VITE_KONTROLS');\n\n    // Import the store one time only if it's enabled\n    if(env && !this.store) {\n      this.store = (await import(\"components/Kontrol/store\")).store; \n    }\n    else if(!env && kontrolErrors){\n      throw new Error(\"KONTROL: you need to set VITE_KONTROLS to 'true' in your env because you forgot a Kontrol reference in your code!!\")\n    }\n    \n    return env;\n  } \n\n  /**\n   * Pre-transform webgl parameters to have popular and useful properties\n   * @param param Param to be pimped\n   * @param param Param values (or p) to be pimped\n   * @return new Param pimped\n   */\n  private static _pimpMyParam(param : K_Param, values?: string | string[], withoutMode : boolean = false) : PimpedParam {\n    \n    let options = {};\n\n    const exceptions = ['isObject3D', 'isMaterial', 'isLight', 'isFog', 'isCamera', 'isColor'];\n    const isThree = find(exceptions, key => has(param, key));\n    \n    // Uniform exceptions\n    if(withoutMode && !isThree) {\n      values = without(keys(param), ...values as string[]);\n    }\n    \n    // Object3D exceptions\n    if(param.isObject3D && !param.isLight && !param.isCamera) {\n      if(!values) {\n        values = K_PROPS_OBJECT;\n      } else {\n        if(withoutMode) values = without(K_PROPS_OBJECT, ...values);\n      }\n    }\n\n    // Material exceptions\n    if(param.isMaterial) {\n      if(!values){\n        values = K_PROPS_MATERIAL;\n      } else {\n        if(withoutMode) values = without(K_PROPS_MATERIAL, ...values);\n      }\n\n      options = K_MATERIAL_OPTIONS;\n    }\n\n    // Lights exceptions\n    if(param.isLight) {\n      if(!values) {\n        values = K_PROPS_LIGHT;\n      } else {\n        if(withoutMode) values = without(K_PROPS_LIGHT, ...values);\n      }\n\n      options = K_LIGHT_OPTIONS;\n    }\n\n    // Fog exceptions\n    if(param.isFog) {\n      if(!values) {\n        values = K_PROPS_FOG;\n      } else {\n        if(withoutMode) values = without(K_PROPS_FOG, ...values);\n      }\n\n      options = K_FOG_OPTIONS;\n    }\n\n    // Camera exceptions    \n    if(param.isCamera) {\n      if(!values) {\n        values = K_PROPS_CAMERA;\n      } else {\n        if(withoutMode) values = without(K_PROPS_CAMERA, ...values);\n      }\n    }\n\n    // Color exceptions\n    //uniform exceptions\n    const hasUniformColor = find(keys(param), key => {\n      return has(param[key], 'value') && has(param[key]?.value, 'isColor');\n    });\n\n    if(param.isColor || hasUniformColor) {\n      options = K_COLOR_OPTIONS;\n\n      if(hasUniformColor) {\n        options = {[hasUniformColor] : K_COLOR_OPTIONS};\n      }\n    }\n\n    return {\n      values,\n      options,\n    }\n  }\n}\n","import responsiveStore from 'components/Responsive/store';\nimport { WebGLBounds, WebGLInteractOptions, WebGLOptions, WebGLSceneDefinition, WebGLSceneInterface } from \"components/WebGL/gl\";\nimport { getEnv } from \"config\";\nimport { each } from \"lodash\";\nimport { Kontrol } from \"plugins/kontrol\";\nimport interfaceStore from 'plugins/store/interface';\nimport { Clock, Color, WebGLRenderer } from 'three';\nimport { WatchStopHandle, computed, watch } from \"vue\";\n\nlet wrapperElement: HTMLElement; // the div which contain the canvas for the webglrenderer (can be specified in the DomGLOptions or the default one is used)\nlet webglRenderer: WebGLRenderer | null; // the only instance of THREE.WebGLRenderer\nlet clock: Clock | null; //Clock\nlet bounds : WebGLBounds;\nlet activeScenes: WebGLSceneInterface[] = []; // Current Actives scenes\nlet backupScenes: WebGLSceneDefinition[]; // Save the scenes definition for mobile swapping\n\n//Manage mobile\nconst isMobile = computed(() => !(interfaceStore.isLayoutDesktop));\nlet hideForMobile = false;\nlet clockDelta: number;\nlet pausedStatus = true;\n\n\n//Manage resizing\nlet stopResizeWatcher: WatchStopHandle;\n\n/** \n * Create/Start the clock\n*/\nconst initClock = () => {\n  if (!clock) {\n    clock = new Clock();\n  }\n  else {\n    clock.start();\n  }\n}\n\n// Needs this to check if the renderer can support ktx2 image \nconst preInitRenderer = () => {\n  if(!webglRenderer) {\n    webglRenderer = new WebGLRenderer({\n      antialias: true,\n    });\n    webglRenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n  }\n\n  return webglRenderer;\n}\n\n/** \n * Create and register a new Dom to WebGL instance and scenes\n * @scenes Array of GLSceneDefinition ( @see GLSceneDefinition )\n * @options optional settings ( @see WebGLOptions )\n*/\nconst useWebGL = (scenes: WebGLSceneDefinition[], options?: WebGLOptions): void => {\n  const mergedOptions = {\n    clearForMobile: false,\n    alpha: false,\n    antialias: false,\n    bgColor: \"#000\",\n    ...options\n  };\n\n  //default bounds (fullscreen)\n  bounds = {\n    width: { gutter: 0 },\n    height: { gutter: 0},\n    gutterResponsive: true,\n    el: undefined,\n    ...options?.sizeBounds\n  }\n\n  //save mobile options\n  hideForMobile = mergedOptions?.clearForMobile || false;\n\n  //Creation of the WEBGLRenderer instance\n  if (!webglRenderer) {\n    webglRenderer = new WebGLRenderer({\n      antialias: mergedOptions.antialias,\n    });\n    webglRenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n  }\n\n  webglRenderer.setClearColor(new Color(mergedOptions.bgColor));\n  webglRenderer.setClearAlpha(mergedOptions.alpha ? 0 : 1);\n  wrapperElement = mergedOptions.canvasContainer || document.querySelector(\".webgl-wrapper\")!;\n\n  if (!wrapperElement) throw new Error(\"options.canvasContainer is missing. Or add a <div class='webgl-wrapper' /> to the root (App.vue) of the project\")\n\n  if (!wrapperElement.children.length) {\n    wrapperElement.appendChild(webglRenderer.domElement);\n  }\n\n  // Add the custom gl scenes\n  addScenes(scenes);\n\n  // Continue if only we are not mobile or we allow the mobile to have webgl\n  if (!hideForMobile || (hideForMobile && !isMobile.value)) {\n\n    initClock();\n\n    tick(); //start the render loop\n  }\n\n  //Manage swap device\n  watch(\n    () => isMobile.value,\n    (mobile) => {\n      if (hideForMobile) {\n        clock?.stop()\n        //stop everything\n        if (mobile) {\n          clearWebGL();\n        }\n        // recreate everything because we kill it for mobile\n        else {\n          addScenes(backupScenes);\n          initClock();\n          tick();\n        }\n      }\n    }\n  )\n}\n\n/**\n * Add the required scenes to the DomGL instance\n * @param scenes Array of GLScenesDefinition\n */\nconst addScenes = (scenes: WebGLSceneDefinition[]) => {\n  // Add the custom gl scenes\n  activeScenes = [];\n  each(scenes, ({ selector, disabled, name, glScene, settings }: WebGLSceneDefinition, index: number) => {\n    const scene = new glScene({\n      name: name || `scene-${index}`,\n      settings: {\n        ...settings\n      },\n      disabled,\n      elmts: !selector ? undefined : document.querySelectorAll?.(selector),\n    });\n\n    activeScenes.push(scene as WebGLSceneInterface);\n  });\n\n  // Resize observer\n  stopResizeWatcher = watch(\n    () => interfaceStore.viewport,\n    () => {\n      resize();\n    },\n    {\n      deep: true,\n      immediate: true\n    }\n  );\n\n  backupScenes = scenes.slice();\n}\n\n/** \n * Resize Handler Callback\n*/\nconst resize = () => {\n  if (!webglRenderer) return;\n\n  let width = interfaceStore.viewport.width; // fullscreen\n  if(bounds.width?.min) width =  Math.max(bounds.width.min, width); // minimum width\n  if(bounds.width?.max) width =  Math.min(bounds.width.max, width); // maximum width\n  if(bounds.width?.fixed) width = bounds.width.fixed; //fixed width\n  if(bounds.width?.gutter) { // remove gutter * 2\n    const gutter = bounds.gutterResponsive ?  bounds.width?.gutter * responsiveStore.desktop : bounds.width?.gutter;\n    width = (width - gutter * 2);\n  }\n  \n  let height = interfaceStore.viewport.webglHeight; // fullscreen\n  if(bounds.height?.min) height =  Math.max(bounds.height.min, height); // minimum height\n  if(bounds.height?.max) height =  Math.min(bounds.height.max, height); // maximum height\n  if(bounds.height?.fixed) height = bounds.height.fixed; //fixed height\n  if(bounds.height?.gutter) { //remove gutter * 2\n    const gutter = bounds.gutterResponsive ?  bounds.height?.gutter * responsiveStore.desktop : bounds.height?.gutter;\n    height = (height - gutter * 2);\n  }\n\n  if(bounds.el) {\n    const {width:w, height:h} = bounds.el.getBoundingClientRect();\n    width = parseInt(w.toFixed(0));\n    height = parseInt(h.toFixed(0));\n  }\n\n  webglRenderer.setSize(width, height);\n\n  each(activeScenes, scene => {\n    if (scene.visible && !scene.disabled) scene.resize()\n  });\n}\n//receive bgColor and alpha, if no alpha, uses the mergedOptions.alpha\nconst updateBgColor = (bgColor: string, alpha?: boolean) => {\n  webglRenderer?.setClearColor(new Color(bgColor));\n  if (alpha) webglRenderer?.setClearAlpha(alpha ? 0 : 1);\n}\n\n/** \n * Return the scene at a specific index on activeScenes\n * @index index number in activeScenes array\n*/\nconst getActiveSceneAt = (index: number): WebGLSceneInterface | null => {\n  return activeScenes.length > index ? activeScenes[index] as WebGLSceneInterface : null;\n}\n\n/** \n * Interact the scene at a specific index on activeScenes. Useful if you want to call a method registered in your custom glScene class\n * @index index number in activeScenes array\n * @options Callback name + Callback arguments\n*/\nconst interactWithSceneAt = (index: number, options: WebGLInteractOptions): void => {\n  const glScene: any = getActiveSceneAt(index);\n  if (glScene && options.callback) glScene[options.callback]?.(options.params);\n}\n\n\n/** \n * Render Loop\n*/\nlet raf: any;\nconst tick = () => {\n  if (!webglRenderer || !activeScenes) return;\n  if (!webglRenderer) return;\n  if (!activeScenes) return;\n\n  // Kontrol FPSGraph\n  if (getEnv('VITE_KONTROLS')) {\n    Kontrol.watchFps(\"begin\");\n  }\n\n  each(activeScenes, (glScene) => {\n    if (!glScene.disabled) {\n      clockDelta = clock?.getDelta() as number\n\n      glScene.render({\n        time: clock?.getElapsedTime() as number,\n        delta: clockDelta,\n      });\n    }\n\n    // if scene is visible\n    if (glScene.visible) {\n      // is scene is not disabled\n      if (!glScene.disabled) {\n\n        // effect composer or not?\n        if (!glScene.effectComposer) {\n          webglRenderer?.render(glScene.getActiveScene(), glScene.getActiveCamera());\n        }\n        else {\n          glScene.effectComposer.render(clock?.getDelta() as number);\n        }\n\n        // zIndex configuration needed?\n        const zIndex = glScene.settings?.zIndex;\n        if (zIndex !== undefined && wrapperElement.style.zIndex !== zIndex) {\n          wrapperElement.style.zIndex = zIndex;\n        }\n      }\n    }\n  });\n\n  pausedStatus = false;\n\n  // Kontrol FPSGraph\n  if (getEnv('VITE_KONTROLS')) {\n    Kontrol.watchFps(\"end\");\n  }\n\n  raf = requestAnimationFrame(tick);\n}\n\n/**\n * Pause the status\n */\nconst pause = () => {\n  if (pausedStatus) return;\n\n  cancelAnimationFrame(raf);\n  pausedStatus = true;\n}\n\n/** \n * Clear the GL ressources and scenes\n * Useful if we need to use DOMGL later in the website.\n */\nconst clearWebGL = (clearBackup = false): void => {\n  pause();\n  stopResizeWatcher?.();\n  each(activeScenes, (scene) => scene.dispose());\n  webglRenderer?.clear();\n  clock?.stop();\n  activeScenes = [];\n\n  if (clearBackup) backupScenes = [];\n}\n\n/**\n * Pause the webgl\n * @param value Pause or not\n */\nconst pauseWebGL = (value: boolean): void => {\n  if ((value && pausedStatus) || (!value && !pausedStatus)) return;\n  value ? pause() : tick();\n}\n\n\n/** \n * Dipose and Release the GL ressources and scenes\n * use it only if we don't need DOMGL because the WebGLRenderer is null after that\n */\nconst releaseWebGL = (): void => {\n  console.warn('Don\\'t call this method if you still need the mainWebGLRenderer later. Call `clearDomWebGL()` instead');\n  clearWebGL();\n\n  wrapperElement.removeChild(wrapperElement.children[0]);\n  webglRenderer?.dispose();\n  webglRenderer = null;\n  activeScenes = [];\n  clock = null;\n}\n\nexport {\n  clearWebGL, getActiveSceneAt,\n  interactWithSceneAt, clock as mainClock, webglRenderer as mainWebGLRenderer, pauseWebGL, preInitRenderer, releaseWebGL, updateBgColor,\n  useWebGL\n};\n\n","import { store as scrollStore } from \"components/SmoothScroll/store\";\nimport { WebGLSize, WebGLSyncData } from \"components/WebGL/gl\";\nimport { map } from \"lodash\";\nimport { store as interfaceStore } from 'store/interface';\nimport { Box3, Camera, Object3D, PerspectiveCamera, Vector3 } from 'three';\nimport { store as loaderStore } from \"ui/Loader/store\";\nimport { mainWebGLRenderer } from \"./three\";\n\n/**\n * Return the unit size of the viewport (threejs unit)\n * @param distance Distance between the object3D position and the camera position\n * @param camera Camera of the Scene\n * @returns WebGLSize\n */\nconst calculateUnitSize = (distance:number, camera:PerspectiveCamera) : WebGLSize => {\n  const vFov = camera.fov * (Math.PI / 180);\n  const height = 2 * Math.tan(vFov / 2) * distance;\n  const width = height * camera.aspect;\n\n  return { width, height };\n}\n\n/**\n * Sync the object3D and an HTMLElement. Will write a WebGLSyncData object into the userData of the object3D\n * Available here: object3D.userData.sync<WebGLSyncData>\n * @param obj3d Object3D instance\n * @param el HTMLelement\n * @param camera Camera of the scene\n * @param resetSync If we need to reset the userData sync object. Needs this if we resize the viewport (bounds changed after that)\n */\nconst syncMeshToDOM = (obj3d : Object3D, el : HTMLElement, camera : PerspectiveCamera, resetSync = false) : void => {\n  \n  const unit = calculateUnitSize(camera.position.z - obj3d.position.z, camera);\n  \n  if(!obj3d.userData.sync || resetSync) {\n    const top = el.offsetTop;\n    const left = el.offsetLeft;\n    const width = el.offsetWidth;\n    const height = el.offsetHeight;\n\n    obj3d.userData.sync = {\n      scale: new Vector3(1,1,1),\n      position: new Vector3(0,0,0),\n      ref_bounds: { left, top}, \n      bounds: {width, height, left, top}, \n      progress: NaN,\n    } as WebGLSyncData;\n  }\n  else{\n    obj3d.userData.sync.bounds.top = obj3d.userData.sync.ref_bounds.top - scrollStore.getScroll();\n    \n    //basic progress\n    const topProgress = (obj3d.userData.sync.bounds.top) / interfaceStore.viewport.webglHeight;\n    const offsetProgress = (obj3d.userData.sync.bounds.height) / interfaceStore.viewport.webglHeight;\n    obj3d.userData.sync.progress = topProgress + (offsetProgress/2);\n  }\n \n  const sx = obj3d.userData.sync.bounds.width / interfaceStore.viewport.width;\n  const sy = obj3d.userData.sync.bounds.height / interfaceStore.viewport.webglHeight;\n  obj3d.userData.sync.scale.set(unit.width * sx, unit.height * sy, obj3d.scale.z);\n\n  let x = -(unit.width / 2) + (obj3d.userData.sync.scale.x / 2);\n  x += (obj3d.userData.sync.bounds.left / interfaceStore.viewport.width) * unit.width;\n\n  let y = (unit.height / 2) - (obj3d.userData.sync.scale.y / 2);\n  y -= (obj3d.userData.sync.bounds.top / interfaceStore.viewport.webglHeight) * unit.height;\n\n  obj3d.userData.sync.position.set(x,y,obj3d.position.z);\n}\n\n/**\n * Get the progression of the object3D inside the whole smooth scroll section.\n * @param obj3d Object3D instance\n * @returns Number Progress ratio\n */\nconst getScrollProgress = () : number =>  {\n  const scrollWrapperEL = document.documentElement as HTMLElement;\n  return scrollStore.getScroll() / (scrollWrapperEL.offsetHeight - interfaceStore.viewport.webglHeight);\n}\n\n/**\n * Get the 3d relative point to 2d coordinates\n * @param p 2d coordinates\n * @param viewport Screen Resolution\n * @return [x,y] axis normalized coordinates \n */\nconst transform2DPointTo3D = (p : {x:number,y:number}, viewport:WebGLSize) : {x:number,y:number} =>  {\n  return {\n    x: (p.x / viewport.width) * 2 - 1,\n    y: -(p.y / viewport.height) * 2 + 1\n  }\n}\n\n\n//---- Spritesheet\n/**\n * Preload all image from an image sequence\n * @param totalFrames Number instance\n * @param path WebGLSpritesheetPath object \n */\nconst preloadImageSequence = (\n  config:{total:number, startAt:number, requested:number},\n  path : WebGLSpritesheetPath\n) => {\n\n  const isHighResVersion = interfaceStore.highResVersion;\n  let folderImage = isHighResVersion ? \"ktx2/\" : \"png/\";\n  \n  let loader = loaderStore.getLoader(\"spritesheet\");\n  \n  if(!loader) {\n    loader = loaderStore.getLoader(\"texture\");\n    folderImage = \"png/\";\n  }\n  //custom filename\n  path.url += folderImage;\n\n  if(folderImage === \"ktx2/\") {\n    path = {...path, files_extension: path.files_extension + \".ktx2\"};\n  }\n\n  const imagesUrls = map(new Array(config.requested), (val, index) => {\n    const filename = getImageFilename(config.total, config.startAt + index, path);\n    return `${path.url}${filename}`;\n  });\n\n  return {loader, urls:imagesUrls};\n}\n\n/**\n * Preload all JSON Spritesheet file and load image texture associated\n * @param path WebGLSpritesheetPath object \n */\n// const preloadJSONSpritesheets = async (path : WebGLSpritesheetPath) => {\n  // const output : { json : WebGLSpritesheetJSON[], textures : Texture[] } = {\n  //   json: [],\n  //   textures: []\n  // };\n\n  // await path.json?.reduce( async (previousPromise : Promise<any>, nextImage : any) => {\n  //   await previousPromise;\n  //   return (async (path:string) => {\n  //     const jsonContent = await axios.get(path);\n  //     const assetFolder = path.replace(/(\\w|[-.])+$/, '');\n      \n  //     return new Promise<Texture>((resolve) => textureLoader.load(`${assetFolder}${jsonContent.data.meta.image}`, (texture) => {\n  //       texture.colorSpace = SRGBColorSpace\n  //       // texture.minFilter = NearestFilter;\n  //       texture.generateMipmaps = false;\n        \n  //       // emitter.emit(EVENTS.SPRITESHEET_FRAME_LOADED, `${assetFolder}${jsonContent.data.meta.image}`);\n        \n  //       output.json.push({frames:jsonContent.data.frames, size:jsonContent.data.meta.size});\n  //       output.textures.push(texture);\n\n  //       return resolve(texture);\n  //     }));\n  //   })(nextImage)\n  // }, Promise.resolve());\n\n  // return output;\n// }\n\n/**\n * Get the right filename for an image sequence (000.png if > 100 frames), (00.png if > 10 and < 100 frames)\n * @param totalFrames Total frame number\n * @param frameNumber The frame number\n * @param path WebGLSpritesheetPath object \n * @returns String\n */\nconst getImageFilename = (totalFrames:number, frameNumber : number, path : WebGLSpritesheetPath) : string => {\n  const prefixNames = totalFrames > 100 ? '00' : '0';\n  const pathUserPrefix = path.prefix_filename ?? '';\n\n  let filename = `${pathUserPrefix}${frameNumber}.${path.files_extension}`;\n    \n  if(frameNumber < 10) {\n    filename = `${pathUserPrefix}${prefixNames}${frameNumber}.${path.files_extension}`;\n  }\n\n  if(frameNumber >= 10 && frameNumber < 100) {\n    filename = `${pathUserPrefix}${prefixNames.substring(1)}${frameNumber}.${path.files_extension}`;\n  }\n\n  return filename;\n}\n\nconst getPixelSize = (object : Object3D, camera:Camera) => {\n  // Get the bounding box of the hotspot in world coordinates\n  const boundingBox = new Box3().setFromObject(object);\n  // Get the min and max world coordinates\n  const minWorld = boundingBox.min.clone();\n  const maxWorld = boundingBox.max.clone();\n\n  // Convert world coordinates to screen coordinates\n  minWorld.project(camera);\n  maxWorld.project(camera);\n\n  // Calculate the screen width and height\n  return {\n    width: (Math.abs(maxWorld.x - minWorld.x) * mainWebGLRenderer!.domElement.offsetWidth) / 2,\n    height: (Math.abs(maxWorld.y - minWorld.y) * mainWebGLRenderer!.domElement.offsetHeight) / 2\n  }\n}\n\n\n\nexport {\n  calculateUnitSize, getImageFilename, getPixelSize, getScrollProgress,\n  //spritesheet utils\n  preloadImageSequence, syncMeshToDOM, transform2DPointTo3D\n};\n\n","export default [\n\n  // Models --\n  {\n    id: \"vinyl\",\n    type: \"model\",\n    url: \"/models/vinyl/scene.gltf\",\n  },\n  {\n    id: \"cd\",\n    type: \"model\",\n    url: \"/models/cd/scene.gltf\",\n  },\n  \n  // library --\n  {\n    id: \"foreground\",\n    type: \"texture\",\n    url: \"/assets/foreground.png\",\n    mipmaps:true\n  },\n  {\n    id: \"sideLeft\",\n    type: \"texture\",\n    url: \"/assets/left-side.png\",\n    mipmaps:true\n  },\n  {\n    id: \"sideRight\",\n    type: \"texture\",\n    url: \"/assets/right-side.png\",\n    mipmaps:true\n  },\n  {\n    id: \"background\",\n    type: \"texture\",\n    url: \"/assets/background.png\",\n    mipmaps:true\n  },\n  {\n    id: \"box\",\n    type: \"texture\",\n    url: \"/assets/box.png\",\n  },\n  {\n    id: \"box_glow\",\n    type: \"texture\",\n    url: \"/assets/box_glow.png\",\n  },\n  {\n    id: \"record\",\n    type: \"texture\",\n    url: \"/assets/record_player.png\",\n  },\n  {\n    id: \"record_glow\",\n    type: \"texture\",\n    url: \"/assets/record_player_glow.png\",\n  },\n  {\n    id: \"partitions\",\n    type: \"texture\",\n    url: \"/assets/partitions.png\",\n  },\n  {\n    id: \"partitions_glow\",\n    type: \"texture\",\n    url: \"/assets/partitions_glow.png\",\n  },\n  {\n    id: \"typewriter\",\n    type: \"texture\",\n    url: \"/assets/typewriter.png\",\n  },\n  {\n    id: \"typewriter_glow\",\n    type: \"texture\",\n    url: \"/assets/typewriter_glow.png\",\n  },\n  {\n    id: \"poster\",\n    url: \"/assets/poster.png\",\n    type: \"texture\",\n  },\n  {\n    id: \"poster_glow\",\n    type: \"texture\",\n    url: \"/assets/poster_glow.png\",\n  },\n  {\n    id: \"carnet\",\n    url: \"/assets/carnet.png\",\n    type: \"texture\",\n  },\n  {\n    id: \"carnet_glow\",\n    type: \"texture\",\n    url: \"/assets/carnet_glow.png\",\n  },\n  {\n    id: \"livre\",\n    url: \"/assets/livre-charles.png\",\n    type: \"texture\",\n  },\n  {\n    id: \"livre_glow\",\n    type: \"texture\",\n    url: \"/assets/livre-charles_glow.png\",\n  },\n  {\n    id: \"violon\",\n    type: \"texture\",\n    url: \"/assets/violon.png\",\n  },\n  {\n    id: \"violon_glow\",\n    type: \"texture\",\n    url: \"/assets/violon_glow.png\",\n  },\n  {\n    id: \"ligne-home\",\n    type: \"svg\",\n    url: \"/home/ligne.svg\",\n  },\n\n  // Thematique --\n  // YNS\n  {\n    id: \"yns-svg\",\n    type: \"svg\",\n    url: \"/thematiques/yannick-nezet-seguin/lines.svg\",\n  },\n  {\n    id: \"yns-spritesheet\",\n    type: \"spritesheet\",\n    url: \"/thematiques/yannick-nezet-seguin/animation/\",\n  },\n  //Oeuvres preferees\n  {\n    id: \"art-svg\",\n    type: \"svg\",\n    url: \"/thematiques/oeuvres-preferees/lines.svg\",\n  },\n  {\n    id: \"art-spritesheet\",\n    type: \"spritesheet\",\n    url: \"/thematiques/oeuvres-preferees/animation/\",\n  },\n  //Charles Dutoit\n  {\n    id: \"charles-svg\",\n    type: \"svg\",\n    url: \"/thematiques/charles-dutoit/lines.svg\",\n  },\n  {\n    id: \"charles-spritesheet\",\n    type: \"spritesheet\",\n    url: \"/thematiques/charles-dutoit/animation/\",\n  },\n  //Festival de Lanaudiere\n  {\n    id: \"festival-svg\",\n    type: \"svg\",\n    url: \"/thematiques/festival-de-lanaudiere/lines.svg\",\n  },\n  {\n    id: \"festival-spritesheet\",\n    type: \"spritesheet\",\n    url: \"/thematiques/festival-de-lanaudiere/animation/\",\n  },\n  //Metier de critique\n  {\n    id: \"metier-svg\",\n    type: \"svg\",\n    url: \"/thematiques/metier-role-de-critique/lines.svg\",\n  },\n  {\n    id: \"metier-spritesheet\",\n    type: \"spritesheet\",\n    url: \"/thematiques/metier-role-de-critique/animation/\",\n  },\n  //UDM\n  {\n    id: \"university-svg\",\n    type: \"svg\",\n    url: \"/thematiques/universite-de-montreal/lines.svg\",\n  },\n  {\n    id: \"university-spritesheet\",\n    type: \"spritesheet\",\n    url: \"/thematiques/universite-de-montreal/animation/\",\n  },\n  //Les raretes\n  {\n    id: \"rarete-svg\",\n    type: \"svg\",\n    url: \"/thematiques/les-raretes/lines.svg\",\n  },\n  {\n    id: \"rarete-spritesheet\",\n    type: \"spritesheet\",\n    url: \"/thematiques/les-raretes/animation/\",\n  },\n  //Maria Callas\n  {\n    id: \"maria-svg\",\n    type: \"svg\",\n    url: \"/thematiques/maria-callas/lines.svg\",\n  },\n  {\n    id: \"maria-spritesheet\",\n    type: \"spritesheet\",\n    url: \"/thematiques/maria-callas/animation/\",\n  },\n\n  // Sounds --\n  {\n    id: \"home-track\",\n    type: \"sound\",\n    url: \"/home/track.mp3\",\n  },\n  {\n    id: \"yns-track\",\n    type: \"sound\",\n    url: \"/thematiques/yannick-nezet-seguin/animation/yns-track.mp3\",\n  },\n  {\n    id: \"charles-track\",\n    type: \"sound\",\n    url: \"/thematiques/charles-dutoit/animation/charles-track.mp3\",\n  },\n  {\n    id: \"art-track\",\n    type: \"sound\",\n    url: \"/thematiques/oeuvres-preferees/animation/art-track.mp3\",\n  },\n  {\n    id: \"festival-track\",\n    type: \"sound\",\n    url: \"/thematiques/festival-de-lanaudiere/animation/festival-track.mp3\",\n  },\n  {\n    id: \"rarete-track\",\n    type: \"sound\",\n    url: \"/thematiques/les-raretes/animation/rarete-track.mp3\",\n  },\n  {\n    id: \"metier-track\",\n    type: \"sound\",\n    url: \"/thematiques/metier-role-de-critique/animation/metier-track.mp3\",\n  },\n  {\n    id: \"university-track\",\n    type: \"sound\",\n    url: \"/thematiques/universite-de-montreal/animation/university-track.mp3\",\n  },\n  {\n    id: \"maria-track\",\n    type: \"sound\",\n    url: \"/thematiques/maria-callas/animation/maria-track.mp3\",\n  },\n\n  // UI\n  {\n    id: \"sprite-object\",\n    type: \"texture\",\n    url: \"/assets/interaction.png\",\n  },\n];\n\n","import { until } from '@vueuse/core';\nimport scrollStore from 'components/SmoothScroll/store';\nimport { Howl } from 'howler';\nimport { each, findIndex } from 'lodash';\nimport { defineStore } from 'pinia';\nimport AppStore from 'plugins/store/app';\nimport { pinia } from 'plugins/store/index';\nimport { preInitRenderer } from 'plugins/webgl/three';\nimport { preloadImageSequence } from 'plugins/webgl/utils';\nimport { store as interfaceStore } from 'store/interface';\nimport { CompressedTexture, Group, NearestFilter, SRGBColorSpace, Texture, TextureLoader } from 'three';\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { KTX2Loader } from 'three/examples/jsm/loaders/KTX2Loader';\nimport { SVGLoader, SVGResult } from \"three/examples/jsm/loaders/SVGLoader.js\";\nimport { computed, nextTick, ref } from 'vue';\nimport assetsToLoad from \"./assets\";\n\ninterface ILoader extends Obj {\n  /** is data ready ? */\n  loaded: boolean,\n  /** is loader hidden (loaded + leave) */\n  done: boolean,\n  /** because use same cpn fr both - but different aim */\n  type: 'loader' | 'transition',\n  /**  Before first loader animation */\n  runtime: boolean,\n  /** Flag if we call the finish spritesheet method */\n  spritesheetIsLoading: boolean,\n  percent:{total:number, loaded:number},\n  assets: {\n    textures: {\n      [name: string]: Texture;\n    },\n    spritesheets: {\n      [name: string]: CompressedTexture[] | Texture[];\n    }\n    models: {\n      [name: string]: Group;\n    },\n    svg: {\n      [name: string]: SVGResult\n    },\n    sounds: {\n      [name: string]: Howl\n    }\n  }\n\n  // useTransition: boolean,\n  /** is loader in a transition state ? can be usefull - at least in loader cpn */\n  // isAnimating: boolean,\n  /** use page transition after 1st loader done\n   * > start false so use Loader\n   * > then true so use PageTransition\n   */\n}\n\n// for texture\nconst textureLoader = new TextureLoader();\nlet ktx2Loader = new KTX2Loader().setTranscoderPath(\"/libs/basis/\");\n\n// for model\nconst modelLoader = new GLTFLoader();\nconst dracoLoader = new DRACOLoader();\nconst svgLoader = new SVGLoader();\ndracoLoader.setDecoderPath('/libs/draco/');\ndracoLoader.setDecoderConfig({ type: 'js' });\nmodelLoader.setDRACOLoader(dracoLoader);\n\nconst useStore = defineStore('loader', () => {\n  const state = ref<ILoader>({\n    loaded: false,\n    done: false,\n    runtime: false,\n    type: 'loader',\n    spritesheetIsLoading: false,\n    percent: {total:0, loaded:0},\n    assets: {\n      textures: {},\n      spritesheets: {},\n      models: {},\n      svg: {},\n      sounds: {},\n    },\n  });\n\n  //Actions\n  const useTransition = () => {\n    if (state.value.type === 'transition') return\n    state.value.type = 'transition'\n  }\n\n  /** loader is loaded\n   * if main loader means app/globals/page etc loaded\n   * if page transition, means page api loaded\n   * \n   * !!! loaded will trigger loader hide\n   * you can render stuff now, but the loader is still visible (leave transition)\n   * > START RENDER HERE (and maybe init anim paused (hide))\n   */\n  const setLoaded = (loaded = true) => {\n    state.value.loaded = loaded\n    if (loaded) {\n      nextTick(scrollStore.refreshScroll)\n      AppStore.setLoaderReady()\n    }\n    if (!loaded && state.value.done) {\n      setDone(false)\n    }\n  }\n\n  /** called after leave loader/transition anim\n   * It is loaded + leaved\n   * > START ANIMS HERE (already render/init etc) */\n  const setDone = (done = true) => {\n    if (done === state.value.done) return\n    state.value.done = done\n    if (!done) return\n    nextTick(scrollStore.updateScroll)\n\n    useTransition()\n  }\n\n  /**\n   * Set the first loader animation flag\n   */\n  const setRuntime = () => {\n    state.value.runtime = true;\n  }\n\n  // setAnimating(animating=true){\n  //   this.state.isAnimating = animating\n  // }\n\n  const loadManifest = async () => {\n    // check if it's supported or not first\n    ktx2Loader = await ktx2Loader.detectSupport(preInitRenderer());\n\n    // @todo load manifest\n    const output = Promise.resolve();\n\n\n    state.value.percent.total = assetsToLoad.length - 8 + (8*20);\n\n    // @todo load manifest\n    const promises: Promise<any>[] = [];\n\n    await each(assetsToLoad, async asset => {\n    \n      // --- Load Single Textures\n      if (asset.type === \"texture\") {\n        const pr = new Promise((resolve, reject) => {\n          return textureLoader.load(asset.url, (texture => {\n            if(!asset.mipmaps) {\n              texture.generateMipmaps = false;\n              texture.magFilter = NearestFilter;\n            }\n            state.value.assets.textures[asset.id] = texture;\n            state.value.percent.loaded ++;\n            return resolve(texture);\n          }),\n            undefined,\n            (e) => reject(e)\n          );\n        });\n\n        promises.push(pr)\n      }\n\n      // --- Load GLTF Model\n      if (asset.type === \"model\") {\n\n        const pr = new Promise((resolve, reject) => {\n          return modelLoader.load(asset.url, (gltf => {\n            state.value.assets.models[asset.id] = gltf.scene;\n            state.value.percent.loaded ++;\n            return resolve(gltf);\n          }),\n            undefined,\n            (e) => reject(e)\n          );\n        });\n\n        promises.push(pr)\n      }\n\n      // --- Load SVG Files\n      if (asset.type === \"svg\") {\n\n        const pr = new Promise((resolve, reject) => {\n          return svgLoader.load(asset.url, (path => {\n            state.value.assets.svg[asset.id] = path;\n            state.value.percent.loaded ++;\n            return resolve(path);\n          }),\n            undefined,\n            (e) => reject(e)\n          );\n        });\n\n        promises.push(pr)\n      }\n\n      // --- Load Spritesheet Files (only a few, not the whole spriteshet)\n      // would be too long to load 8 * 120 images\n      if (asset.type === \"spritesheet\") {\n        state.value.assets.spritesheets[asset.id] = [...Array(120)];\n\n        const spritesheetFiles = preloadImageSequence(\n          {total:120, startAt:0, requested:20},\n          {url:asset.url, files_extension: 'png'},\n        );\n        \n        const loader = spritesheetFiles.loader;\n        \n        each(spritesheetFiles.urls, (url, index) => {\n          const pr = new Promise((resolve, reject) => {\n            return loader!.load(url, (texture:any) => {\n              state.value.percent.loaded ++;\n              texture.colorSpace = SRGBColorSpace\n              texture.generateMipmaps = false;\n              texture.userData.compressed = texture?.isCompressedTexture;\n              state.value.assets.spritesheets[asset.id][index] = texture;\n              \n              return resolve(texture);\n            },\n              undefined,\n              (e) => reject(e)\n            );\n          });\n\n          promises.push(pr)\n        });\n      }\n\n      // --- Load SOunds\n      if (asset.type === \"sound\") {\n        const pr = new Promise((resolve) => {\n          const sound = new Howl({\n            src: [asset.url],\n            autoplay: false,\n            preload: true,\n            volume: .5\n          });\n          \n          state.value.assets.sounds[asset.id] = sound;\n          state.value.percent.loaded ++;\n\n          return sound.on('load', () => resolve(sound));\n        });\n\n        promises.push(pr)\n      }\n    });\n\n    return output;\n  }\n\n  /**\n   * Load the remaining spritesheets\n   * @returns \n   */\n  const finishSpriteSheetsLoading = () => {\n\n    // do it only once\n    if(state.value.spritesheetIsLoading) return;\n\n    const promises: Promise<any>[] = [];\n    \n    each(assetsToLoad, asset => {\n      \n      // --- Load Single Textures\n      if (asset.type === \"spritesheet\") {\n        \n        const array = state.value.assets.spritesheets[asset.id];\n        const undefinedIndex = findIndex(array, (t) => t === undefined);\n\n        const spritesheetFiles = preloadImageSequence(\n          {total:120, startAt:undefinedIndex, requested:120 - undefinedIndex},\n          {url:asset.url, files_extension: 'png'}\n        );\n        \n        const loader = spritesheetFiles.loader;\n        each(spritesheetFiles.urls, (url, index) => {\n          const pr = new Promise((resolve, reject) => {\n            loader!.load(url, (texture:any) => {\n              texture.colorSpace = SRGBColorSpace\n              texture.generateMipmaps = false;\n              texture.userData.compressed = texture?.isCompressedTexture;\n              array[undefinedIndex + index] = texture;\n\n              resolve(texture);\n            },\n              undefined,\n              (e) => reject(e)\n            );\n          });\n\n          promises.push(pr)\n        });\n      }\n    });\n\n    state.value.spritesheetIsLoading = true;\n    return Promise.all(promises)\n  }\n\n  const waitAppReady = () => {\n    return until(AppStore.ready()).toBe(true)\n  }\n\n  const getAsset = (id: string, type: string) => {\n    switch (type) {\n      case \"svg\":\n        return state.value.assets.svg[id] as SVGResult\n      case \"spritesheet\":\n        return state.value.assets.spritesheets[id] as CompressedTexture[] | Texture[];\n      case \"texture\":\n        return state.value.assets.textures[id] as Texture;\n      case \"model\":\n        return state.value.assets.models[id] as Group;\n      default:\n        return state.value.assets.textures[id] as Texture;\n    }\n  }\n\n  const getTexture = (id: string): Texture => {\n    return state.value.assets.textures[id] as Texture;\n  }\n  const getModel = (id: string): Group => {\n    return state.value.assets.models[id] as Group;\n  }\n  const getSvg = (id: string): SVGResult => {\n    return state.value.assets.svg[id] as SVGResult;\n  }\n  const getSpritesheet = (id: string): CompressedTexture[] | Texture[] => {\n    return state.value.assets.spritesheets[id] as CompressedTexture[] | Texture[] ;\n  }\n  const getSound = (id: string): Howl => {\n    return state.value.assets.sounds[id] as Howl ;\n  }\n\n  const getLoader = (type:string): O<TextureLoader | KTX2Loader> => {\n    switch(type) {\n      default:\n      case \"texture\":\n      return textureLoader;\n\n      case \"spritesheet\":\n      return ktx2Loader.workerConfig.etc1Supported && interfaceStore.highResVersion ? ktx2Loader : undefined;\n    }\n  }\n\n  return {\n    state,\n\n    //getters\n    loaded: state.value.loaded,\n    done: state.value.done,\n    type: state.value.type,\n    runtime: state.value.runtime,\n    isSpritesheetLoading: state.value.spritesheetIsLoading,\n    percentProgress: computed( () => state.value.percent),\n    allPreloaded: computed( () => state.value.percent.loaded === state.value.percent.total),\n\n    //actions\n    useTransition,\n    setLoaded,\n    setDone,\n    loadManifest,\n    waitAppReady,\n    setRuntime,\n    getAsset,\n    getTexture,\n    getModel,\n    getSvg,\n    getLoader,\n    getSound,\n    getSpritesheet,\n    finishSpriteSheetsLoading,\n  }\n});\n\nexport const store = useStore(pinia);\nexport default store;\n","<docs>\n  # Lenis SmoothScroll - https://github.com/studio-freight/lenis\n  using lenis scroll in our way\n\n  - it will only init if activated in our config.js\n  - it will only init on desktop device\n\n  @author Kevin Bastien <kevin@kffein.com>\n</docs>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, toRefs } from 'vue';\n// import { useDebounceFn } from '@vueuse/core';\nimport { tryOnUnmounted, until } from '@vueuse/shared';\nimport { smoothScroll } from 'config';\nimport useFlow from 'utils/flow';\nimport { store as interfaceStore } from 'plugins/store/interface';\nimport loaderStore from 'components/ui/Loader/store';\nimport scrollStore from './store';\n\nexport default defineComponent({\n  name: \"SmoothScroll\",\n  setup() {\n    const el = ref<HTMLElement>()\n    const { done } = toRefs(loaderStore.state);\n    // const { isDesktopDevice } = toRefs(interfaceStore);\n\n    const { onInitUi } = useFlow()\n\n    onInitUi( () => {\n      // since this is inside our initUi, with without motion this will never be called.\n      // init custom scroll only if activated inside our config file.\n      // init custom scroll only on desktop device please\n      if (!smoothScroll || !interfaceStore.isDesktopDevice) {\n        until(done).toBe(true).then(() => {\n          scrollStore.addEvents();\n          scrollStore.setReady();\n        });\n      } else {\n        until(done).toBe(true).then(() => {\n          // const scroller: HTMLElement = document.querySelector(`body`) as HTMLElement;\n          scrollStore.useSmoothScroll();\n          \n          // start observing a DOM node\n          // resizeObserver.observe(scroller)\n            // scrollStore.setScrollable(true);\n          // });\n        });\n      }\n      \n    })\n\n    tryOnUnmounted(()=>{\n      scrollStore.releaseSmoothScroll(true)\n    })\n\n    // create an Observer instance\n    // const resizeObserver = new ResizeObserver(useDebounceFn(() => {\n    //   scrollStore.updateScroll()\n    // }, 400))\n\n    return {\n      el,\n    }\n  }\n});\n</script>\n\n<template>\n  <div ref=\"el\">\n    <slot>\n      App views here\n    </slot>\n  </div>\n</template>\n\n<style lang=\"stylus\">\n\n</style>\n","/**\n * InterfaceStore\n * our store about interface (window size, browser supports etc)\n */\nimport { map } from 'lodash';\nimport { defineStore } from 'pinia';\nimport { pinia } from 'plugins/store/index';\nimport { computed, ref } from 'vue';\n\ninterface Thematique extends Obj {\n  items: PageThematique[],\n  current?: PageThematique,\n  isIntro: boolean;\n  isListing: boolean;\n  showThemeNav: boolean;\n  forceThemeNav: boolean;\n  nextVariant?: string;\n  fromListing?: boolean;\n}\n\nconst useStore = defineStore('thematique', () => {\n  const state = ref<Thematique>({\n    items: [],\n    current: undefined,\n    isIntro: false,\n    isListing: false,\n    showThemeNav: false,\n    forceThemeNav: false,\n    nextVariant: undefined,\n    fromListing: false,\n    objects: {}, // Centralized objects store keyed by themeId\n  });\n\n  const init = (items: PageThematique[]): void => {\n    state.value.items = items.slice();\n  }\n\n  const update = (theme: PageThematique) => {\n    const isAlreadyUpdated = findTheme(theme.id);\n    if (isAlreadyUpdated && isAlreadyUpdated.bgColor) return;\n\n    state.value.items = map(state.value.items, (item) => {\n      if (item.id === theme.id) {\n        return { ...item, ...theme };\n      }\n      return item;\n    });\n\n    // Update the `objects` structure\n    if (theme.listing?.section) {\n      state.value.objects[theme.id] = theme.listing.section.flatMap((section) => section.objects || []);\n    }\n\n  }\n  const getObjects = (themeId: string): any[] => {\n    return state.value.objects[themeId] || [];\n  };\n\n  const findObjectBySlug = (slug: string): any | undefined => {\n    // Search across all objects in the centralized `objects`\n    for (const themeId in state.value.objects) {\n      const object = state.value.objects[themeId].find((obj: any) => obj.slug === slug);\n      if (object) {\n        return object;\n      }\n    }\n    return undefined;\n  };\n\n  const findTheme = (value: string) => {\n    return state.value.items.find((item: any) => (item as any)?.url === value || item.id === value);\n  }\n\n  const setCurrent = (id?: string): void => {\n    state.value.current = !id ? undefined : findTheme(id);\n  }\n\n  const toggleThemeNav = (bool: boolean, force = false) => {\n    state.value.showThemeNav = bool;\n    state.value.forceThemeNav = bool ? false : force;\n  }\n\n  const toggleIntro = (bool: boolean) => {\n    state.value.isIntro = bool;\n  }\n\n  const toggleIsListing = (bool: boolean) => {\n    state.value.isListing = bool;\n  }\n\n\n  const setNextVariant = (id?: string) => {\n    state.value.nextVariant = id;\n  }\n\n  const toggleFromListing = (bool: boolean) => {\n    state.value.fromListing = bool;\n  }\n\n  return {\n    state,\n\n    //getters\n    items: computed(() => state.value.items),\n    current: computed(() => state.value.current),\n    isIntro: computed(() => state.value.isIntro),\n    isListing: computed(() => state.value.isListing),\n    currentColor: computed(() => state.value.current ? state.value.current.bgColor : '#ffeaf9'),\n    showThemeNav: computed(() => state.value.showThemeNav),\n    forceThemeNav: computed(() => state.value.forceThemeNav),\n    nextVariant: computed(() => state.value.nextVariant),\n    fromListing: computed(() => state.value.fromListing),\n    getBgColorFromURL: (url: string) => {\n      switch(url) {\n        case \"/collection/\":\n          return \"255, 234, 249\";\n\n        case \"/biographie/\":\n          return \"25, 32, 150\";\n\n        case \"/credits/\":\n          return \"229, 240, 248\";\n\n        default:\n        case \"/\":\n          return \"255, 234, 249\";\n      }\n    },\n\n    //actions\n    init,\n    update,\n    findTheme,\n    setCurrent,\n    findObjectBySlug,\n    getObjects,\n    toggleIntro,\n    toggleIsListing,\n    toggleThemeNav,\n    setNextVariant,\n    toggleFromListing\n  }\n});\n\nexport const store = useStore(pinia);\nexport default store;\n\n// @ts-expect-error\nwindow.interface = store\n","import { map } from 'lodash';\nimport { store as themeStore } from \"pages/Thematique/store\";\nimport { defineStore, StoreDefinition } from 'pinia';\nimport { pinia } from 'plugins/store/index';\nimport { computed, ref } from 'vue';\n\ndeclare global {\n  interface Window {\n    __GLOBALS:Globals\n  }\n}\ninterface Globals {\n  navigations: O<Obj>,\n  themes : ThemeItemCTA[]\n}\n\nconst data = window.__GLOBALS ?? {\n  navigations: undefined,\n}\n\nconst api = window.__GLOBALS ? undefined : {\n  url: 'globals',\n  moc: true,\n  getMoc(){\n    return import(  `./moc/fr` )\n  }\n}\n\ninterface App extends Obj {\n  ready: boolean,\n  api?: ApiRequestConfig,\n  data: Globals,\n  messages: any,\n}\n\nconst useStore: StoreDefinition = defineStore('globalsKffein', () => {\n  const state = ref<App>({\n    ready: false,\n    api,\n    data,\n    messages: undefined,\n  })\n\n  // Actions\n  const LOAD = async (locale: string, skip?: boolean):Promise<any> => {\n    if (!locale) return null;\n\n    const request = new Promise(resolve=>{\n      if(window.__GLOBALS || !state.value.api){\n        return resolve(window.__GLOBALS)\n      }\n      \n      const payload = { ...state.value.api }\n      if(skip) payload.moc = true\n      // async import because use i18n and i18n use this - storybook dev would bug\n      const req = import('plugins/api').then(m=>m.default)\n      .then(ApiHelper=> ApiHelper.get(payload)\n      .then(({ data }: any) => {\n        state.value.data = data;\n        return data\n      })\n      )\n      return resolve(req)\n    })\n    \n    request\n      .then(({ i18n }: any) => {\n        if (!i18n) return;\n        themeStore.init(map(state.value.data.themes, (item) => item as any));\n        \n        state.value.messages = {...i18n};\n        state.value.ready = true; \n      })\n\n    return request; \n  }\n\n  return {\n    state,\n\n    //getters\n    themes: computed( () => state.value.data.themes),\n    navigations: computed( () => state.value.data.navigations),\n    messages: computed( () => state.value.messages),\n    ready: computed( () => state.value.ready),\n    \n    //actions\n    LOAD,\n  }\n});\n\nexport const store = useStore(pinia) as ReturnType<typeof useStore>;\nexport default store;\n","/**\n * # I18n store\n * > Manage our locales\n *\n * !!! FLOW !!!\n *\n * wait to load local + api messages\n * then setappStore.setI18nReady\n *\n * changes must be made if do not load from api (end of `setMessages()` function)\n *\n * @author nusson <nicolas@kffein.com>\n */\nimport messages from '@intlify/unplugin-vue-i18n/messages';\nimport { until } from '@vueuse/core';\nimport { filter, keyBy, mapValues, merge } from 'lodash';\nimport { defineStore } from 'pinia';\nimport appStore from 'plugins/store/app';\nimport { store as globalsStore } from 'plugins/store/globals';\nimport { pinia } from 'plugins/store/index';\nimport { byCode, byId, byName, byUri, locales as configLocales } from 'src/config/locales';\nimport { computed, nextTick, ref, toRaw } from 'vue';\nimport { LocaleMessageDictionary, VueMessageType } from 'vue-i18n';\n\n\n// those will always be loaded - like fallback\n// vs globals may only use distant datas\n// async function loadEnMessages(){ return import(/* @vite-ignore */ `./en`) }\n// async function loadFrMessages(){ return import(/* @vite-ignore */ `./fr`) }\n\n/** messages because */\ntype LocaleMessages = LocaleMessageDictionary<VueMessageType>\ntype Messages = {\n  [localeCode: string]: LocaleMessages\n}\n\ntype LoadedState = boolean | 'loading' | 'local' | 'api' // false if none, true if both\nexport interface I18NState extends Obj {\n  locales: Koddein.Locale[]\n  locale: Optional<Koddein.Locale>\n  data: {\n    messages: Messages,\n    datetimeFormats: {\n      [localeCode: string]: Obj\n    }\n  }\n  loaded: {\n    [localeCode: string]: LoadedState\n  },\n  ready: boolean\n}\n\nconst localesCodes = keyBy(configLocales, 'code')\n\n\nconst useStore = defineStore('i18n', () => {\n\n  const state = ref<I18NState>({\n    loaded: mapValues(localesCodes, () => false),\n    data: {\n      // @ts-expect-error\n      messages: messages as Messages,\n      datetimeFormats: mapValues(localesCodes, () => ({})),\n    },\n    locales: configLocales,\n    locale: undefined,\n    ready: false\n  });\n\n  // Getters (here because called from other getters)\n  const locales = computed( () => state.value.locales);\n  const locale = computed<Optional<Koddein.Locale>>( () => state.value.locale);\n\n  //Actions\n\n  /**\n  * update locale by... something (name, uri etc)\n  * relative to our config/locales.ts config\n  * (may be used in main.ts to set router with current locale)\n  * ```\n  *  const _locales:SimpleLocale[] = [{\n  *    id: 1,\n  *    name: 'fr',\n  *    uri: 'fr',\n  *    code: 'fr-CA',\n  *  },...]\n  * ```\n  */\n  const setLocaleByName = (name: string): void => {\n    const locale = byName(name)\n    if (!locale) return\n    setLocale(locale)\n  }\n  // by code `\n  const setLocaleByCode = (code: string): void => {\n    const locale = byCode(code)\n    if (!locale) return\n    setLocale(locale)\n  }\n  const setLocaleByUri = (uri: string): void => {\n    const locale = byUri(uri)\n    if (!locale) return\n    setLocale(locale)\n  }\n\n\n  /**\n  * set locales messages - from local or api\n  */\n   const setMessages = (messages: LocaleMessages, localeCode: string, fromApi = true) => {\n    // fromApi would override local messages\n    const current = state.value.data.messages[localeCode];\n    \n    const merged = fromApi\n      ? merge({}, toRaw(current), messages)\n      : merge({}, messages, toRaw(current));\n    state.value.data.messages[localeCode] = merged\n\n    // update loading state\n    const loadingState = (() => {\n      const loadingState = state.value.loaded[localeCode]\n      if (fromApi) return loadingState === 'local' ? true : 'api'\n      return loadingState === 'api' ? true : 'local'\n    })()\n    state.value.loaded[localeCode] = loadingState\n    \n    // ready when both local AND api loaded for current locale\n    setReady(loadingState === true && localeCode === state.value.locale?.code)\n  }\n\n  //Private\n\n  /**\n  * please check `setMessages()`\n  * here wait t load both local and api messages before setready here\n  * @param ready \n  */\n   const setReady = (ready=true) => {\n    state.value.ready = ready\n    nextTick(()=>{\n      appStore.setGlobalsReady()\n    })\n  }\n\n  /**\n  * setter will also load local/api messages (cached)\n  * and check if valid locale\n  */\n  const setLocale = (locale: Koddein.Locale) => {\n    const isSame = locale.id === state.value.locale?.id\n    if (isSame) return\n\n    state.value.locale = locale\n    const code = locale.code ?? ''\n    if (!state.value.loaded[code]) {\n      state.value.loaded[code] = 'loading'\n\n      loadLocale(code)\n        .then(()=>{\n          state.value.loaded[code] = true\n          nextTick(()=>{ setReady() })\n        })\n\n      // this.loadApiMessages(code)\n      // this.loadLocalMessages(code)\n    }\n  }\n\n  /**\n   * @todo : wait global loaded (api call)\n   * - fetch those messages\n   * - merge with existant\n   * - retrieve DATE_TIMES\n   * - store both msg and dates\n   */\n   const loadLocale = async (code: string) => {\n    // await until(toRef(globalsStore, 'ready') as boolean).toBe(true)\n    await until(() => globalsStore.ready as boolean).toBe(true)\n\n    const {DATE_TIME_FORMATS, ...messages} = (()=>{\n      const fromApi = globalsStore.messages as Obj\n      const fromLocal = toRaw(state.value.data.messages[code]) as Obj\n      return merge({}, fromLocal, fromApi)\n    })()\n\n    state.value.data.messages[code] = messages as LocaleMessages\n    state.value.data.datetimeFormats[code] = DATE_TIME_FORMATS\n  }\n\n  return {\n    state,\n\n    //getters\n    locale, \n    locales,\n    localeName: computed( () => state.value.locale?.name ?? 'en' ),\n    otherLocales: computed<Optional<Koddein.Locale[]>>( () =>  filter(locales.value, (i) => i.id !== locale.value?.id) as Koddein.Locale[]),\n    ready: computed( () => state.value.ready ),\n    byName: (name:string) => computed<Optional<Koddein.Locale>>(() => byName(name)),\n    byCode: (code:string) => computed<Optional<Koddein.Locale>>(() => byCode(code)),\n    // because we may use no iso uri code...\n    byUri: (uri:string) => computed<Optional<Koddein.Locale>>(() => byUri(uri)),\n    byId: (id:number) => computed<Optional<Koddein.Locale>>(() => byId(id)),\n\n    //actions\n    setLocaleByName,\n    setLocaleByCode,\n    setLocaleByUri,\n    setMessages,\n  }\n\n});\n\nexport const store = useStore(pinia);\nexport default store;\n\n// private async loadLocalMessages(code: string) {\n//   return new Promise<{messages:Obj, datetimeFormats:Obj}>(resolve=>{\n//     switch(code){\n//       case 'fr':\n//         return resolve(loadFrMessages())\n//       default:\n//         return resolve(loadEnMessages())\n//     }\n//   })\n//     .then(({ messages, datetimeFormats }) => {\n//       this.setMessages(<LocaleMessages>messages, code, false)\n//       this.state.data.datetimeFormats[code] = datetimeFormats\n//     })\n// }\n\n// private async loadApiMessages(code: string) {\n//   // await (async () => appStore.globalsReady.value\n//   //   ? Promise.resolve(true)\n//   //   : until(appStore.globalsReady).toBe(true)\n//   // )()\n//   await until(appStore.globalsReady).toBe(true)\n//   return this.setMessages(<LocaleMessages>toRaw(globalsStore.getState().messages), code, true)\n// }\n","import messages from '@intlify/unplugin-vue-i18n/messages';\nimport { cookies } from 'config';\nimport Cookies from 'js-cookie';\nimport { cloneDeepWith, isEmpty } from 'lodash';\nimport { store as trackingStore } from 'store/tracking';\nimport { App, watch } from 'vue';\nimport { createI18n /*, IntlDateTimeFormat */ } from 'vue-i18n';\n\nimport store from './store';\n\n// const datetimeFormats:any = {\n//   fr: timeFr,\n//   en: timeEn,\n// }\n\nconst i18n = createI18n({\n  legacy: false,\n  formatFallbackMessages: true,\n  silentFallbackWarn: true,\n  silentTranslationWarn: true,\n  fallbackWarn: false,\n  missingWarn: false,\n  // useScope: 'global'\n  globalInjection: true, // no need of `const {t} = useI18n()`\n  // datetimeFormats\n  messages\n})\n\n/** easier $t that returns anything (for v-for etc) */\nexport function tr(key:string): any | any[] | {[key:string]:any}{\n  //@ts-ignore\n  return cloneDeepWith(i18n.global.tm(key) as Obj, (value:string) => {\n    if(typeof value === \"function\") {\n      return i18n.global.rt(value);\n    }\n  });\n}\n\n/** override install to add $tr */\nexport default {\n  ...i18n,\n  install: (app:App/*, options:unknown[]*/):void => {\n    i18n.install(app)\n    app.config.globalProperties.$tr = tr\n  }\n}\n\nexport { store };\nconst state = store.state;\n\n/** always sync messages */\nwatch(\n  () => {\n    const {code} = state.locale ?? {code: ''}\n    return {\n      code,\n      loaded: state.loaded[code!],\n      messages:state.data.messages[code!]\n    }\n  },\n  ({messages, code}) => {\n    if (!code || isEmpty(messages)) return\n    if (trackingStore.consents.preferences) {\n      Cookies.set(cookies.locale, code);\n    }\n    i18n.global.setLocaleMessage(code, messages)\n  },\n  { immediate:true }\n)\n\n// watch(\n//   () => {\n//     const {code} = state.locale ?? {}\n//     return {\n//       code,\n//       formats:state.data.datetimeFormats[code||''] as IntlDateTimeFormat\n//     }\n//   },\n//   ({formats, code}) => {\n//     if (!code) return\n//     i18n.global.setDateTimeFormat(code, formats)\n//   },\n//   { immediate:true }\n// )\n\n/** always sync locale */\nwatch(\n  ()=> state.locale?.code,\n  (code) => {\n    if (!code) return\n    i18n.global.locale.value = code\n  },\n  { immediate:true }\n)\n","/**\n * list route-id > component\n * - key id will be the one of that route - no concat with parent etc\n * - value can be direct cpn or dyna import promise\n */\nconst pages: {\n  [routeId: string]: AsyncImportVue\n} = {\n  // required\n  home: () => import(/* webpackChunkName: \"page-home\" */ 'pages/Home/index.vue'),\n  fourofour: () => import(/* webpackChunkName: \"pages-404\" */ 'pages/FourOFour.vue'),\n\n  // custom pages\n  bio: () => import(/* webpackChunkName: \"page-biography\" */ 'pages/Biography/index.vue'),\n  collection: () => import(/* webpackChunkName: \"page-fund\" */ 'pages/Fund/index.vue'),\n  credit: () => import(/* webpackChunkName: \"page-credit\" */ 'pages/Credit/index.vue'),\n  thematique: () => import(/* webpackChunkName: \"page-thematique\" */ 'pages/Thematique/index.vue'),\n  object: () => import(/* webpackChunkName: \"page-thematique\" */ 'pages/Thematique/single.vue'),\n\n  termsofuse: () => import(/* webpackChunkName: \"pages-termsofuse\" */ 'pages/Legal/index.vue'),\n  privacyPolicy: () => import(/* webpackChunkName: \"pages-privacy_policy\" */ 'pages/Legal/index.vue'),\n\n}\n\n\nexport default pages\nexport const Page404 = pages.fourofour\n","/**\n * Permet de facilement ajouter des pages au router front\n * (cas de page demo / site sans craft etc)\n * \n * !!! be carefull !!!\n * ces routes ne sont probablement pas dans craft\n * donc craft generera probablement des 404 en arriere\n * ! donc faites attention avec ca !\n */\n\nexport default [\n  {\n    \"id\": 1,\n    \"section\": \"home\",\n    \"sites\": [{\n      \"id\": 1,\n      \"url\": \"\",\n      \"slug\": \"home\",\n      \"title\": \"home\"\n    }]\n  },\n  {\n    \"id\": 2,\n    \"section\": \"bio\",\n    \"sites\": [{\n      \"id\": 1,\n      \"url\": \"biographie/\",\n      \"slug\": \"bio\",\n      \"title\": \"Biographie\"\n    }]\n  },\n  {\n    \"id\": 4,\n    \"section\": \"collection\",\n    \"sites\": [{\n      \"id\": 1,\n      \"url\": \"collection/\",\n      \"slug\": \"collection\",\n      \"title\": \"La collection\"\n    }]\n  },\n  {\n    \"id\": 5,\n    \"section\": \"credit\",\n    \"sites\": [{\n      \"id\": 1,\n      \"url\": \"credits/\",\n      \"slug\": \"credits\",\n      \"title\": \"Crédits\"\n    }]\n  },\n  {\n    \"id\": 6,\n    \"section\": \"thematique\",\n    \"sites\": [{\n      \"id\": 1,\n      \"url\": \":slug/\",\n      \"slug\": \"thematique\",\n      \"title\": \"Thematique\"\n    }]\n  },\n  {\n    \"id\": 7,\n    \"section\": \"object\",\n    \"sites\": [{\n      \"id\": 1,\n      \"url\": \":thematique/:slug/\",\n      \"slug\": \"object\",\n      \"title\": \"object\"\n    }]\n  },\n]\n","/**\n * # Router service\n * > manage our routes (pages)\n *\n * - use routes.json\n * - may code split / async load with `() => import(/* webpackChunkName: \"demo\" * / 'components/pages/Demo/Home')``\n *\n *  @todo :\n * - stop using local within name - prefere a smart service to just bind the locale with default one if not specified\n *\n * @author Nicolas Husson <nicolas@kffein.com>\n */\nimport { assign, camelCase, flatten, /* fromPairs, */ get, map, without } from 'lodash';\nimport { store as appStore } from 'plugins/store/app';\nimport { byId } from 'src/config/locales';\nimport { RouteRecordRaw, Router, START_LOCATION, createRouter, createWebHistory } from 'vue-router';\nimport pages, { Page404 } from './pages';\nimport customRoutes from './utils/custom_routes';\n\n// /**\n//  * @argument {Array} routes - put debug / default routes here\n//  * when calling /api/globals, we may add new routes\n//  */\n// const defaultRoutes: RouteRecordRaw[] = [\n//   {\n//     path: '/',\n//     redirect: { name: `home` },\n//   },\n// ];\n\nlet router:Router\nexport function useRouter(){\n  if(router) return router\n  \n  /** use our routes.json */\n  // const routesMap = routesJson as RouteMapEntry[]\n  /** or use our craft_routes.json */\n  const routesMap = []; //useRoutesCraft(payload as RouteCraftMain)\n\n  // add custom routes\n  if (customRoutes && customRoutes.length) {\n    routesMap.push(...customRoutes as RouteMapEntry[])\n  }\n\n  let routes = without(flatten(\n    map(routesMap, (route) => processRoute(route)),\n  ), undefined) as RouteRecordRaw[];\n\n  \n  // Add / for 1st level routes paths - else not working\n  routes = map(routes, (route) => {\n    route.path = `/${route.path}`;\n    return route;\n  });\n  // routes.push(...defaultRoutes);\n\n  /**\n   * @argument {VueRouter} router - our vue router instance\n   */\n  router = createRouter({\n    // 4. Provide the history implementation to use. We are using the hash history for simplicity here.\n    history: createWebHistory(),\n    routes\n  })\n  return router\n}\n\nexport default useRouter\n\n// may run consent check\nfunction runConsentCheck(){\n  window.Cookiebot?.runScripts?.()\n}\n\n/** return locale (name) param based on url */\nexport function observeFirstLocale(callback: () => void): void {\n  router.beforeEach((to, from) => {\n    runConsentCheck()\n\n    if (to.matched.length <= 0) {\n      appStore.setIs404();\n    } else {\n      appStore.setIsNot404();\n    }\n\n    if (from === START_LOCATION) {\n     \n      // if guess a local - continue our flow (main.ts)\n      callback();\n    }\n  })\n\n  router.afterEach(() => {\n    runConsentCheck()\n  })\n}\n\n/** resolve route UNLESS we know il will fail (avoid unecessary warning)\n * - if path is external url => we know it will fail\n */\nexport function tryResolve(path:any){\n  if (typeof path === 'string'\n    && path.startsWith('http')\n    && !path.startsWith(location.origin)) return false\n\n  return router.resolve(path)\n}\n\n//* *********** PRIVATE */\n\n/**\n * return component by route handle\n * @param {String} id - route handle\n * @returns {VueComponent}\n */\nfunction getComponentById(id: string): AsyncImportVue {\n  // if (pages.hasOwnProperty(id)) { // eslint-disable-line no-prototype-builtins\n  if (Object.prototype.hasOwnProperty.call(pages, camelCase(id))) {\n    return (pages as any)[camelCase(id)];\n  }\n  return Page404\n}\n\n/**\n * @returns {Object[]} routes\n * @param {Object} route shema (like route.json)\n * @param {String} parentLocale - if defined, ignore other locales for that route - because setted on its parent\n * compute our routes array\n * by looping our routes.json within all our locales\n *\n * Attention - this config aim to be compatible with multi ou single brand\n * so may skip some routes deppending\n * /:brand/library may be /library if only 1 brand\n */\nfunction processRoute(route: RouteMapEntry, parentLocale: string | null = null) {\n  const {\n    id, sites, meta, section, entry_type, name, component\n  } = route;\n\n  // by default, route aren't public\n  // const auth = {meta} ?? false\n\n  // because a route has many locales, we create one per locale\n  // return map(urls, (url, locale) => {\n  return map(sites, (site) => {\n    const locale = byId(site.id)?.name;\n    // if child route, ignore other local than the one of its parent\n    if (parentLocale && parentLocale !== locale) {\n      return undefined;\n    }\n    // retrieve our component within the id (handle)\n    const cpn = component ?? getComponentById(name || section as string);\n    if (!cpn) { return undefined; }\n\n    // may recursive children\n    const children = without(flatten(\n      map(get(route, 'children', []), (childRoute) => processRoute(childRoute, locale)),\n    ), undefined) as RouteRecordRaw[];\n\n    const path = `${parentLocale ? '/' : ''}${site.url}`;\n    \n    // give us the chance to still have some unique route without any ids, can make our life simpler for our basic pages.\n    // const regex_channel = new RegExp(/(channel_)/gi);\n    // const isChannel = regex_channel.test(section);\n\n    // finaly, this is ONE route\n    const finalRoute: RouteRecordRaw = {\n      name: `${name || section}`,\n      // name: `${entry_type}.${locale}`,\n      path,\n      children,\n      // mix lots of useful metas\n      meta: assign({}, meta, {\n        locale,\n        slug: site.slug,\n        title: site.title,\n        section,\n        name,\n        entry_type,\n        id, // handle\n        // auth,\n        // child: !!parentLocale\n      }),\n      component: cpn,\n    };\n    return finalRoute;\n  });\n}\n","import { getEnv, NAME } from 'config';\nimport { each, find } from 'lodash';\nimport { defineStore } from 'pinia';\nimport i18n, { tr } from 'plugins/i18n';\nimport { store as i18nStore } from 'plugins/i18n/store';\nimport useRouter from 'plugins/router';\nimport appStore from 'plugins/store/app';\nimport { pinia } from 'plugins/store/index';\nimport { computed, ref } from 'vue';\ninterface ISEO extends Obj {\n  metadata: any,\n  translations?: any,\n}\n\nconst useStore = defineStore('seo', () => {\n  const state = ref<ISEO>({\n    metadata: {},\n    translations: undefined,\n  });\n\n  //Actions\n  const UPDATE = (dataSeo?: SeoData, dataTranslations?: any) => {\n    // @todo check why seo reset\n    // if(!data) return\n    const router = useRouter()\n    const route = router.currentRoute.value.meta.id;\n    const isRedirectedFrom = router.currentRoute.value.redirectedFrom;\n    const fullUrl = `${getEnv('VITE_SITE_URL')}${router.currentRoute.value.fullPath}`;\n    \n    const result: any = {\n      title: undefined,\n      htmlAttrs: {},\n      meta: [],\n      link: [],\n    };\n\n    // set current lang html\n    if (i18nStore.localeName) {\n      result.htmlAttrs.lang = i18nStore.localeName;\n    }\n\n    // check default seo title from i18n files\n    if (i18n.global.te(`SEO.${route}`, i18nStore.locale?.i18n) && i18n.global.te(`SEO.${route}.title`, i18nStore.locale?.i18n)) {\n      result.title = i18n.global.t(`SEO.${route}.title`);\n    } else if (i18n.global.t('SEO.default.title')) {\n      result.title = i18n.global.t('SEO.default.title');\n    }\n\n    // check default seo meta from i18n files\n    if (i18n.global.te(`SEO.${route}`, i18nStore.locale?.i18n) && i18n.global.te(`SEO.${route}.meta`, i18nStore.locale?.i18n)) {\n      result.meta = tr(`SEO.${route}.meta`)\n    } else if (i18n.global.te('SEO.default', i18nStore.locale?.i18n) && i18n.global.te('SEO.default.meta', i18nStore.locale?.i18n)) {\n      result.meta = tr('SEO.default.meta')\n    }\n\n    // check default seo link from i18n files -> alternate links\n    if (i18n.global.te(`SEO.${route}`, i18nStore.locale?.i18n) && i18n.global.te(`SEO.${route}.link`, i18nStore.locale?.i18n)) {\n      result.link = tr(`SEO.${route}.link`)\n    } else if (i18n.global.te('SEO.default', i18nStore.locale?.i18n) && i18n.global.te('SEO.default.link', i18nStore.locale?.i18n)) {\n      result.link = tr('SEO.default.link')\n    }\n    \n    // check if api return actual seo data..\n    if (dataSeo) {\n      const seo = computeSeoData(dataSeo)\n      const socials: Obj = {};\n\n      if (seo.title) {\n        result.title = seo.title;\n      }\n\n      // we can push here because vueuse will add only the last occurence from each og tag with the same name if there is no :key\n      if (seo.description) {\n        result.meta.push({\n          name: 'description',\n          content: seo.description,\n        });\n      }\n\n      socials.fb = {\n        app_id: getEnv('VITE_FB_APP_ID') || '',\n      };\n\n      if (seo.socials?.facebook) {\n        const facebook = seo.socials.facebook;\n        socials.og = {\n          title: facebook.title,\n          description: facebook.description,\n          image: facebook.image?.src,\n          'image:alt': facebook.image?.alt,\n          'image:width': facebook.image?.width,\n          'image:height': facebook.image?.height,\n          url: fullUrl,\n          locale: i18nStore.locale?.name,\n          type: 'website',\n          site_name: NAME,\n        };\n      }\n\n      if (seo.socials?.twitter) {\n        const twitter = seo.socials.twitter;\n        socials.twitter = {\n          title: twitter.title,\n          description: twitter.description,\n          image: twitter.image?.src,\n          'image:alt': twitter.image?.alt,\n          card: 'summary_large_image',\n          url: fullUrl,\n        };\n      }\n\n      each(socials, (props, k) => {\n        each(props, (content, name) => {\n          if (content) {\n            const key = `${k}:${name}`;\n            result.meta.push({\n              key: `${key}:${content}`,\n              name: key,\n              content,\n            });\n          }\n        });\n      });\n    }\n\n    // load althernate link from api data. if needed\n    if (i18nStore.otherLocales && i18nStore.otherLocales.length >= 1) {\n      // add current locale\n      if (i18nStore.locale) {\n        result.meta.push({\n          key: `og:locale:alternate:${i18nStore.locale.name}`,\n          name: 'og:locale:alternate',\n          content: i18nStore.locale.name,\n        });\n        \n        result.link.push({\n          key: `alternate:${i18nStore.locale.name}`,\n          rel: 'alternate',\n          href: `${window.location.origin}${window.location.pathname}`,\n          hreflang: i18nStore.locale.name,\n        });\n        \n        result.link.push({\n          key: `canonical:${i18nStore.locale.name}`,\n          rel: 'canonical',\n          href: `${window.location.origin}${window.location.pathname}`,\n          hreflang: i18nStore.locale.name,\n        });\n\n        if (i18nStore.locale.name === i18nStore.locales[0].name) {\n          result.link.push({\n            key: `alternate:${i18nStore.locale.name}`,\n            rel: 'alternate',\n            href: `${window.location.origin}${window.location.pathname}`,\n            hreflang: 'x-default',\n          });\n        }\n      }\n\n      // looop every other locales\n      each(i18nStore.otherLocales, (locale) => {\n        result.meta.push({\n          key: `og:locale:alternate:${locale.name}`,\n          name: 'og:locale:alternate',\n          content: locale.name,\n        });\n        // if we ever receive an object instead of an array when there is only 2 locale on the website\n        if (dataTranslations && dataTranslations.id === locale.id) {\n          result.link.push({\n            key: `alternate:${locale.name}`,\n            rel: 'alternate',\n            href: dataTranslations.url.indexOf(getEnv(locale.env)) > -1 ? dataTranslations.url : `${getEnv(locale.env)}${dataTranslations.url}`,\n            hreflang: locale.name,\n          });\n\n          if (locale.name === i18nStore.locales[0].name) {\n            result.link.push({\n              key: `alternate:${locale.name}`,\n              rel: 'alternate',\n              href: dataTranslations.url.indexOf(getEnv(locale.env)) > -1 ? dataTranslations.url : `${getEnv(locale.env)}${dataTranslations.url}`,\n              hreflang: 'x-default',\n            });\n          }\n        }\n        \n        // normal behavior on multi locales website.\n        if (dataTranslations) {\n          const translation = find(dataTranslations, { 'siteId': locale.id });\n          if (translation) {\n            result.link.push({\n              key: `alternate:${locale.name}`,\n              rel: 'alternate',\n              href: translation.url.indexOf(getEnv(locale.env)) > -1 ? translation.url : `${getEnv(locale.env)}${translation.url}`,\n              hreflang: locale.name,\n            });\n            if (locale.name === i18nStore.locales[0].name) {\n              result.link.push({\n                key: `alternate:${locale.name}`,\n                rel: 'alternate',\n                href: translation.url.indexOf(getEnv(locale.env)) > -1 ? translation.url : `${getEnv(locale.env)}${translation.url}`,\n                hreflang: 'x-default',\n              });\n            }\n          }\n        }\n\n      });\n    }\n\n    if (dataTranslations) {\n      state.value.translations = dataTranslations;\n    } else {\n      state.value.translations = undefined;\n    }\n\n    // handle 404\n    if (appStore.is404) {\n      result.meta.push({\n        name: 'prerender-status-code',\n        content: '404',\n      });\n    }\n\n    // handle redirection\n    if (isRedirectedFrom) {\n      result.meta.push(\n        {\n          name: 'prerender-status-code',\n          content: '301',\n        },\n        {\n          name: 'prerender-header', \n          content: `Location: ${document.location.origin}${router.currentRoute.value.path}`\n        }\n      );\n    }\n\n    state.value.metadata = result;\n  }\n\n  return {\n    state,\n\n    // getters\n    metadata: computed( () => state.value.metadata),\n    translations: computed( () => state.value.translations),\n\n    //actions\n    UPDATE,\n  }\n});\n\nexport const store = useStore(pinia);\nexport default store;\n\n/** compute SEO DATA\n * here data can be quite simple {title, description, image} OR full SeoData {title, description, socials: {facebook...}}\n */\nfunction computeSeoData(data:Obj): SeoData{\n  if (!data || typeof data !== 'object') {\n    return {}\n  }\n  if(data.seo) return data.seo\n  \n  const {title, description, image} = data\n  return {\n    title, description,\n    socials: {\n      facebook: {title, description, image},\n      twitter: {title, description, image},\n    }\n  }\n}\n","<docs>\n# SEO\n\nSEO component, data is fetched from store and it will update everything by itself.\nall the magic will happen inside the SEOStore.\n\n</docs>\n\n<script lang=\"ts\">\nimport { useHead } from '@vueuse/head';\nimport { store as SEOStore } from 'plugins/seo/store';\nimport { defineComponent, toRefs } from 'vue';\n\nconst SEO = defineComponent({\n  name: \"SEO\",\n  setup(){\n    const { metadata } = toRefs(SEOStore.state);\n    \n    useHead(metadata);\n\n    return {\n      seo: metadata,\n    }\n  },\n});\nexport default SEO\n\n</script>\n\n<template>\n  <slot />\n</template>\n","/**\n * Mixin Transitions\n * allow us to call Loader's pageTransition\n * from our router-view transition\n */\nimport { until } from '@vueuse/core';\nimport loaderStore from 'components/ui/Loader/store';\nimport appStore from 'plugins/store/app';\nimport { nextTick, ref, Ref } from 'vue';\n\ntype Transition = (el: Element, done: () => void) => void;\ntype TransitionBefore = (el: Element) => void;\n\nexport default function():{\n  beforeEnterTransition: TransitionBefore\n  enterTransition: Transition\n  leaveTransition: Transition\n  ThePageTransition: Ref<any>;\n} {\n  const ThePageTransition = ref<Optional<any>>()\n\n  /** leave old page */\n  const leaveTransition:Transition = (el, done) => {\n    loaderStore.setLoaded(false);\n    appStore.setPageReady(false);\n    nextTick(() => { // nexttick to let time to set timeline\n      const {tlPageTransition} =  ThePageTransition.value\n\n      if(!tlPageTransition) return done()\n\n      // weird bug client reported on EMVI\n      if(typeof tlPageTransition?.time !== 'function'){\n         \n        console.warn(`[transitions] unexpected - why tlPageTransition.time isn't a function ???`, tlPageTransition);\n        return done()\n      }\n\n      const time = tlPageTransition.time()\n      const end = tlPageTransition.labels.enter\n      const delay = Math.max(end - time, 0) * 1000\n      setTimeout(done, delay) // intro duration\n    })\n  }\n\n  /** show new page */\n  const beforeEnterTransition:TransitionBefore = () => {\n    //\n  };\n\n  /** show new page */\n  const enterTransition:Transition = (el, done) => {\n    if (loaderStore.type !== 'transition') return done();\n    until(appStore.ready()).toBe(true).then(() => {\n      return done();\n    })\n  };\n\n  return {\n    beforeEnterTransition,\n    enterTransition,\n    leaveTransition,\n    ThePageTransition,\n  }\n}\n","export default \"<svg fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 50 50\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M42.495 23.355.075 23.13 0 26.532h41.738L29.787 38.484l2.647 2.648L49 24.642l-.076-.076-2.572-2.572L32.434 8l-2.647 2.648 12.708 12.707Z\\\" fill=\\\"currentColor\\\"/></svg>\\n\"","<docs>\n  # HeaderCredit\n  > The Header for credit page\n  \n  @author Kffein <contact@kffein.com>\n</docs>\n\n<script lang=\"ts\">\nimport { templateRef } from \"@vueuse/core\";\nimport ArrowSvg from \"assets/svg/arrow.svg?raw\";\nimport useRouter from 'plugins/router';\nimport { store as appStore } from \"store/app\";\nimport useFlow from 'utils/flow';\nimport { gsap } from \"vendors/gsap\";\nimport { computed, defineComponent } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { useRoute } from \"vue-router\";\n\nexport default defineComponent({\n  name: \"HeaderCredit\",\n  setup() {\n\n    const route = useRoute();\n    const { onInitUi } = useFlow();\n    const router = useRouter()\n    const { t } = useI18n();\n    const el = templateRef<HTMLElement>(\"el\");\n\n    const disabled = computed(() => appStore.disabled);\n    const isCreditRoute = computed(() => route.name === 'credit')\n    console.log(isCreditRoute)\n    onInitUi(() => {\n      animateIn()\n    });\n\n\n\n    // Tween to display elements \n    const animateIn = () => {\n      gsap.timeline()\n        .add(() => {\n          el.value.classList.remove(\"hidden\");\n        }, 0)\n        .from(el.value, { yPercent: -150, ease: \"power4.out\", duration: 0.75 }, 0.2)\n    }\n\n    // Tween to hide elements \n    const animateOut = () => {\n      el.value.classList.add(\"hidden\");\n    }\n\n    const onBack = (e: PointerEvent) => {\n      e.preventDefault();\n      animateOut();\n\n      if (window.history.length > 1) {\n        router.back();\n      } else {\n        appStore.setPageTransition({ name: 'home' });\n      }\n    }\n\n\n    return {\n      t,\n      isCreditRoute,\n      disabled,\n      ArrowSvg,\n      onBack,\n      gradientColor1: computed(() => `rgba(${appStore.bgColor}, 0)`),\n      gradientColor2: computed(() => `rgba(${appStore.bgColor}, .79)`),\n      gradientColor3: computed(() => `rgba(${appStore.bgColor}, 1)`),\n    };\n  },\n});\n</script>\n\n<template>\n  <header v-if=\"isCreditRoute\"\n          ref=\"el\"\n          class=\"HeaderCredit hidden\"\n  >\n    <ui-button :label=\"t('LABELS.home')\"\n               :theme=\"'icon'\"\n               class=\"home\"\n               :to=\"{ name: 'home' }\"\n               :icon=\"ArrowSvg\"\n               direction=\"left\"\n               tag=\"a\"\n               @click=\"onBack($event)\"\n    />\n    <h4 class=\"title\"\n        :data-dark=\"false\"\n        v-html=\"'Crédits'\"\n    />\n  </header>\n</template>\n\n<style lang=\"stylus\" scoped>\n  .HeaderCredit\n    fixed top $gutter left $gutter\n    f(center)\n    width \"calc(100% - ( 2* %s ))\" % $gutter\n    z-index $z-header\n    opacity 1\n    color $c-main\n    trans(opacity)\n    &:after\n      position absolute\n      content ''\n      display block\n      top 'calc(%s * -1)' % ($gutter)\n      left 'calc(%s * -1)' % ($gutter)\n      width 100vw\n      z-index -1\n      rp(height, 90px)\n      trans(height)\n      trans(background, $duration:1.5s)\n      pointer-events none\n      background 'linear-gradient(0deg, %s 0%, %s 49%, %s 100%)' % (v-bind(gradientColor1) v-bind(gradientColor2) v-bind(gradientColor3))\n    &[data-intro=\"true\"]\n      opacity 1\n    &[data-disabled=\"true\"]\n      pointer-events none\n\n    &.hidden\n      opacity 0\n      pointer-events none\n\n  .home.UiButton\n    position absolute\n    left 0px\n    rp(width, 40px)\n    rp(height, 30px)\n    rp(padding-top, 10px)\n    rp(padding-bottom, 10px)\n    rp(padding-left, 15px)\n    rp(padding-right, 15px)\n    :deep()\n      .inner\n        size 100%\n        display block\n      .icon \n        display block\n        svg\n          position relative\n          color currentColor\n          size 10px\n          display block\n\n  .title\n    text-align center\n    f-style(\"text16_thematique\")\n    text-transform uppercase\n    margin 0 auto\n    trans(transform, $duration:1.5s)\n  </style>\n","export default \"<svg fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 50 50\\\">\\n  <path d=\\\"M8.82178 0H2.17822C.975221 0 0 .994923 0 2.22222v6.55556C0 10.0051.975221 11 2.17822 11h6.64356C10.0248 11 11 10.0051 11 8.77778V2.22222C11 .994923 10.0248 0 8.82178 0Z\\\" fill=\\\"currentColor\\\"/>\\n  <path d=\\\"M8.82178 39H2.17822C.975221 39 0 39.9949 0 41.2222v6.5556C0 49.0051.975221 50 2.17822 50h6.64356C10.0248 50 11 49.0051 11 47.7778v-6.5556C11 39.9949 10.0248 39 8.82178 39Z\\\" fill=\\\"currentColor\\\"/>\\n  <path d=\\\"M47.8218 0h-6.6436C39.9752 0 39 .994923 39 2.22222v6.55556C39 10.0051 39.9752 11 41.1782 11h6.6436C49.0248 11 50 10.0051 50 8.77778V2.22222C50 .994923 49.0248 0 47.8218 0Z\\\" fill=\\\"currentColor\\\"/>\\n  <path d=\\\"M47.8218 39h-6.6436C39.9752 39 39 39.9949 39 41.2222v6.5556C39 49.0051 39.9752 50 41.1782 50h6.6436C49.0248 50 50 49.0051 50 47.7778v-6.5556C50 39.9949 49.0248 39 47.8218 39Z\\\" fill=\\\"currentColor\\\"/>\\n</svg>\\n\"","<docs>\n  # HeaderThematique\n  > The Header for thematique page\n  \n  @author Kffein <contact@kffein.com>\n</docs>\n\n<script lang=\"ts\">\nimport { templateRef, tryOnMounted, tryOnUnmounted } from \"@vueuse/core\";\nimport HomeSVG from \"assets/svg/home.svg?raw\";\nimport { store as themeStore } from \"pages/Thematique/store\";\nimport emitter, { EVENTS } from \"plugins/store/events\";\nimport { store as appStore } from \"store/app\";\nimport { store as loaderStore } from \"ui/Loader/store\";\nimport { gsap } from \"vendors/gsap\";\nimport { computed, defineComponent, watch } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { useRoute } from \"vue-router\";\n\nexport default defineComponent({\n  name: \"HeaderThematique\",\n  setup() {\n\n    const route = useRoute();\n\n    const { t } = useI18n();\n    const el = templateRef<HTMLElement>(\"el\");\n\n    const currentVariant = computed(() => themeStore.current);\n    const isIntro = computed(() => themeStore.isIntro);\n    const showThemeNav = computed(() => themeStore.showThemeNav);\n    const disabled = computed(() => appStore.disabled);\n    const isThemeRoute = computed(() => route.name === 'thematique')\n\n    // Check when a theme is active and we want to see the themeNav => so show the header\n    watch(\n      showThemeNav,\n      (bool) => {\n        if (bool) {\n          if (el.value.classList.contains(\"hidden\")) animateIn();\n        }\n      }\n    )\n\n    // Tween to display elements \n    const animateIn = () => {\n      gsap.timeline()\n        .add(() => {\n          el.value.classList.remove(\"hidden\");\n        }, 0)\n        .from(el.value, { yPercent: -150, ease: \"power4.out\", duration: 0.75 }, 0.2)\n    }\n\n    // Tween to hide elements \n    const animateOut = () => {\n      el.value.classList.add(\"hidden\");\n    }\n\n    const onBackHome = (e: PointerEvent) => {\n      e.preventDefault();\n      animateOut();\n\n      appStore.setPageTransition({ name: 'home' });\n      themeStore.toggleThemeNav(false);\n\n      const track = loaderStore.getSound(`${themeStore.current?.id}-track`);\n      if(track && track.playing()) {\n        track.fade(track.volume(), 0, 1000);\n      }\n    }\n\n    tryOnMounted( () => {\n      emitter.on(EVENTS.CLICK_OBJECT, animateOut);\n    })\n\n    tryOnUnmounted(() => {\n      emitter.off(EVENTS.CLICK_OBJECT, animateOut);\n      themeStore.toggleIntro(false);\n    })\n\n    return {\n      t,\n      currentVariant,\n      isThemeRoute,\n      disabled,\n      isIntro,\n      HomeSVG,\n      onBackHome,\n      gradientColor1: computed(() => `rgba(${appStore.bgColor}, 0)`),\n      gradientColor2: computed(() => `rgba(${appStore.bgColor}, .79)`),\n      gradientColor3: computed(() => `rgba(${appStore.bgColor}, 1)`),\n    };\n  },\n});\n</script>\n\n<template>\n  <header v-if=\"isThemeRoute\"\n          ref=\"el\"\n          class=\"headerThematique hidden\"\n          :data-intro=\"isIntro\"\n          :data-disabled=\"disabled\"\n  >\n    <ui-button :key=\"`header-thematique-${isIntro}`\"\n               :label=\"t('LABELS.home')\"\n               :theme=\"isIntro ? 'icon' : 'primary'\"\n               class=\"home\"\n               :to=\"{ name: 'home' }\"\n               :icon=\"HomeSVG\"\n               tag=\"a\"\n               :variant=\"currentVariant?.id\"\n               @click=\"onBackHome($event)\"\n    />\n    <h4 class=\"title\"\n        :data-variant=\"currentVariant?.id\"\n        :data-dark=\"false\"\n        v-html=\"currentVariant?.title\"\n    />\n  </header>\n</template>\n\n<style lang=\"stylus\" scoped>\n  .headerThematique\n    fixed top $gutter left $gutter\n    f(center, $align:flex-start)\n    width \"calc(100% - ( 2* %s ))\" % $gutter\n    z-index $z-header\n    opacity 1\n    trans(opacity)\n    &:after\n      position absolute\n      content ''\n      display block\n      top 'calc(%s * -1)' % ($gutter)\n      left 'calc(%s * -1)' % ($gutter)\n      width 100vw\n      z-index -1\n      rp(height, 90px)\n      trans(height)\n      trans(background, $duration:1.5s)\n      pointer-events none\n      background 'linear-gradient(0deg, %s 0%, %s 49%, %s 100%)' % (v-bind(gradientColor1) v-bind(gradientColor2) v-bind(gradientColor3))\n    &[data-intro=\"true\"]\n      opacity 1\n    &[data-disabled=\"true\"]\n      pointer-events none\n\n    &.hidden\n      opacity 0\n      pointer-events none\n\n  .home\n    position absolute\n    left 0px\n\n  .title\n    text-align center\n    f-style(\"text16_thematique\")\n    addVariantProps($dark:false)\n    margin 0 auto\n    trans(transform, $duration:1.5s)\n    [data-intro=\"false\"] &\n      pointer-events none\n      opacity 0\n      user-select none\n      transform translateY(-120%)\n  </style>\n","<docs>\n# TheHorizontalNavigation\n> The horizontal nav in the theme page\n\n@author Kffein <contact@kffein.com>\n</docs>\n\n\n<script lang=\"ts\">\nimport { templateRef } from '@vueuse/core';\nimport { findIndex } from \"lodash\";\nimport { store as themeStore } from 'pages/Thematique/store';\nimport { store as i18nStore } from 'plugins/i18n/store';\nimport emitter, { EVENTS } from 'plugins/store/events';\nimport { store as globalsStore } from 'plugins/store/globals';\nimport { store as appStore } from 'store/app';\nimport { store as interfaceStore } from 'store/interface';\nimport { gsap } from \"vendors/gsap\";\nimport { computed, defineComponent, reactive, ref, toRefs, watch } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\n\nconst HorizontalNavigation = defineComponent({\n  name: 'TheHorizontalNavigation',\n  setup() {\n\n    const router = useRouter();\n    const route = useRoute();\n    const isDragging = ref(false);\n\n    const el = templateRef<HTMLElement>(\"el\");\n    const i18nLocale: Koddein.Locale = i18nStore.locale as Koddein.Locale;\n\n    const disabled = computed(() => appStore.disabled);\n    const hasTouch = computed(() => interfaceStore.hasTouch);\n    const variant = computed(() => themeStore.current?.id);\n    const showingNav = computed(() => themeStore.showThemeNav);\n    const isForceThemeNav = computed(() => themeStore.forceThemeNav);\n    const isIntro = computed(() => themeStore.isIntro);\n    const isAPageTransition = computed(() => appStore.isAPageTransition);\n    const isThemeRoute = computed(() => route.name === 'thematique')\n    const ThemeSwiper = ref<any>();\n\n    // Check if we need to display or not the \n    watch(\n      showingNav,\n      (bool) => {\n        if (bool) {\n          if (el.value.classList.contains(\"hidden\") && !themeStore.fromListing) animateIn();\n        }\n        else {\n          if (!isThemeRoute.value || isIntro.value || isAPageTransition.value || isForceThemeNav.value) animateOut();\n        }\n      }\n    )\n\n    // Watch route to slide to a specific direction\n    watch(\n      route,\n      () => {\n        const index = findIndex(globalsStore.themes, (theme: any) => theme.url === `/${route.params.slug}/`);\n        if (index !== -1) {\n          setTimeout(() => {\n            ThemeSwiper.value?.swiper?.slideTo(index, 1200);\n          }, 500);\n        }\n      },\n      {\n        deep: true,\n        immediate: true\n      }\n    )\n\n    const data = reactive({\n      optionsSlider: {\n        loop: false,\n        cursor: false,\n        freeMode: {\n          enabled: true,\n          sticky: false,\n        },\n        touchStartForcePreventDefault: true,\n        mousewheel: !hasTouch.value ? {\n          invert: false,\n        } : undefined,\n        spaceBetween: 10,\n        pagination: false,\n        centeredSlides: false,\n        slidesPerView: 'auto',\n        on: {\n          touchStart: () => {\n            isDragging.value = false;\n          },\n          touchMove: () => {\n            isDragging.value = true;\n          },\n          touchEnd: () => {\n            setTimeout(() => {\n              isDragging.value = false;\n            }, 0);\n          },\n          sliderFirstMove: () => {\n            isDragging.value = true;\n          },\n          transitionEnd: () => {\n            isDragging.value = false;\n          },\n        },\n      },\n    })\n\n    // Tween to display elements \n    const animateIn = () => {\n      gsap.timeline()\n        .add(() => {\n          el.value.classList.remove(\"hidden\");\n        }, 0)\n        .from(el.value.querySelectorAll(\".link-wrapper\"), { yPercent: 150, ease: \"power4.out\", duration: .75, stagger: 0.05 }, 0.1)\n    }\n\n    // Tween to hide elements \n    const animateOut = () => {\n      const speed = !isForceThemeNav.value ? 1 : 0.7;\n\n      gsap.timeline()\n        .to(el.value, { yPercent: 130, ease: \"power4.inOut\", clearProps: \"all\", duration: speed }, 0)\n        .add(() => {\n          el.value.classList.add(\"hidden\");\n        }, speed - 0.2)\n    }\n\n    // Switch thematique\n    const onClick = (e: PointerEvent, theme: ThemeItemCTA) => {\n      e.preventDefault();\n      if (isDragging.value) {\n        return\n      }\n\n      //same route - do nothing\n      if (route.path === theme.url) return;\n\n      gsap.timeline()\n        .add(() => {\n          emitter.emit(EVENTS.THEME_SWITCHING);\n        }, 0)\n        .add(() => {\n          themeStore.setNextVariant(theme.id);\n          router.push({ path: theme.url });\n        }, .8)\n    }\n\n    return {\n      ...toRefs(data),\n      disabled,\n      currentVariant: computed(() => themeStore.nextVariant || variant.value),\n      locale: i18nLocale?.name,\n      themes: computed(() => globalsStore?.themes),\n      onClick,\n      ThemeSwiper,\n    }\n  },\n})\nexport default HorizontalNavigation\n</script>\n\n<template>\n  <div ref=\"el\"\n       class=\"TheHorizontalNavigation hidden\"\n       :data-disabled=\"disabled\"\n       :data-debug=\"currentVariant\"\n       data-lenis-prevent\n  >\n    <nav v-if=\"themes\" class=\"nav\">\n      <ui-swiper ref=\"ThemeSwiper\"\n                 class=\"links\"\n                 :options=\"optionsSlider\"\n                 :cursor=\"false\"\n                 :overflow=\"true\"\n      >\n        <li v-for=\"(theme, i) in themes\"\n            :key=\"`nav-main-${i}`\"\n            class=\"link-wrapper\"\n        >\n          <ui-button class=\"link\"\n                     theme=\"theme\"\n                     :selected=\"theme.id === currentVariant\"\n                     :label=\"theme.title\"\n                     :subtitle=\"theme.subtitle\"\n                     :variant=\"currentVariant\"\n                     :href=\"theme.url\"\n                     tag=\"a\"\n                     @click=\"onClick($event, theme)\"\n          />\n        </li>\n      </ui-swiper>\n    </nav>\n  </div>\n</template>\n\n<style lang=\"stylus\" scoped>\n.TheHorizontalNavigation\n  position fixed\n  left 0\n  bottom 10px\n  width 100vw\n  z-index $z-nav\n\n  &[data-disabled=\"true\"]\n    pointer-events none\n\n  &.hidden\n    pointer-events none\n    opacity 0\n  \n  .nav \n    width 100%\n    padding-left $gutter\n    padding-right $gutter\n  \n  .link\n    text-align center\n    width auto\n\n  .link-wrapper\n    rp(width, 300px)\n\n</style>\n","<docs>\n# TheNavigation\n> Exists only if nav is active in store/nav.ts\n\n@author Sebastien Levy <sebastien@kffein.com>\n</docs>\n\n\n<script lang=\"ts\">\nimport { templateRef } from '@vueuse/core';\nimport { store as scrollStore } from 'components/SmoothScroll/store';\nimport { store as themeStore } from 'pages/Thematique/store';\nimport { store as i18nStore } from 'plugins/i18n/store';\nimport emitter, { EVENTS } from 'plugins/store/events';\nimport { store as globalsStore } from 'plugins/store/globals';\nimport { interactWithSceneAt } from 'plugins/webgl/three';\nimport { gsap } from 'vendors/gsap';\nimport { computed, defineComponent, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { store as NavStore } from './store';\n\nconst Navigation = defineComponent({\n  name: 'TheNavigation',\n  setup() {\n    const el = templateRef<HTMLElement>('el')\n    const isOpen = computed(() => NavStore.isOpen);\n    const i18nLocale: Koddein.Locale = i18nStore.locale as Koddein.Locale;\n    const route = useRoute();\n    \n    /**\n     * Close nav when keydown on Escape\n     */\n    const escapeBinding = (e:any):void => {\n      if(e.key === 'Escape') closeNav();\n    } \n\n    const closeNav = () => {\n      NavStore.openState(false);\n    }\n    \n    const handleClick = (e:PointerEvent, url:string) => {\n      NavStore.openState(!isOpen.value);\n      e.preventDefault();\n\n      if(route.name === \"home\") {\n        interactWithSceneAt(1, {\n          callback: \"exitFromMainHeader\",\n          params: url\n        })\n      }\n      else{\n        emitter.emit(EVENTS.PAGE_TRANSITION, {url, bgColor: themeStore.getBgColorFromURL(url)});\n      }\n    }\n\n    /**\n     * Observe navState and play animation\n     */\n    watch(\n      isOpen,\n      (open:any) => {\n        if(open) {\n          el.value.scrollTop = 0;\n\n          const tlOpen = gsap.timeline({ paused: true })\n            .fromTo(el.value?.querySelectorAll(\".link-wrapper\"), { opacity:1, xPercent:100}, { opacity:1, xPercent: 0, duration: 0.75, ease: 'power4.out', overwrite: false, stagger: 0.05 }, 0)\n\n          window.addEventListener('keydown', escapeBinding);\n          scrollStore.setScrollable(false);\n          tlOpen.play();\n        }\n        else { \n          const tlClose = gsap.timeline({ paused: true })\n            .to(el.value?.querySelectorAll(\".link-wrapper\"), { xPercent: '100', duration: 0.5, ease: 'power4.out', overwrite: true, stagger:0.05 })\n\n          window.removeEventListener('keydown', escapeBinding);\n          scrollStore.setScrollable(true);\n          tlClose.play();\n        }\n\n      },\n      { deep: false },\n    );\n\n    return {\n      isOpen,\n      locale: i18nLocale?.name,\n      onClick: handleClick,\n      closeNav,\n      themes: computed( () => globalsStore?.themes),\n    }\n  },\n})\nexport default Navigation\n</script>\n\n<template>\n  <div ref=\"el\"\n       class=\"TheNavigation\"\n       :data-is-open=\"isOpen\"\n       data-lenis-prevent\n  >\n    <div class=\"wrapper\">\n      <nav v-if=\"themes\" class=\"nav\">\n        <ul class=\"links\">\n          <li v-for=\"(theme, i) in themes\"\n              :key=\"`nav-main-${i}`\"\n              class=\"link-wrapper\"\n          >\n            <ui-button class=\"link\"\n                       theme=\"theme\"\n                       :label=\"theme.title\"\n                       :subtitle=\"theme.subtitle\"\n                       :href=\"theme.url\"\n                       tag=\"a\"\n                       @click=\"onClick($event, theme.url)\"\n            />\n          </li>\n        </ul>\n      </nav>\n    </div>\n    <div class=\"colorfill\" @click=\"closeNav\" />\n  </div>\n</template>\n\n<style lang=\"stylus\" scoped>\n.TheNavigation\n  position fixed\n  right $gutter\n  top 0px\n  width 100vw\n  height 100%\n  z-index $z-nav\n  color $c-white\n  overflow-y scroll\n  overflow-x hidden\n  padding-top calc('var(--header-height) + 20px')\n\n  &[data-is-open=\"false\"]\n    overflow hidden\n    pointer-events none\n\n  .wrapper \n    f(column, $align: flex-end, $justify: flex-start)\n    min-height 100%\n    \n    [data-is-open=\"true\"]&\n      pointer-events none\n  \n  .links\n    rp(margin-bottom, 10px)\n\n  .link\n    text-align center\n    [data-is-open=\"true\"]&\n      pointer-events all\n\n  .link-wrapper\n    opacity 0\n    margin-bottom 5px\n    &:last-child\n      margin-bottom 0px\n\n  \n  .colorfill\n    fixed 0\n    size 100% 100%\n    background-color $c-rose\n    opacity 0\n    z-index -1\n    trans(opacity, $duration:1s)\n    [data-is-open=\"true\"]&\n      opacity .8\n</style>\n\n","<script lang=\"ts\">\nimport { templateRef, tryOnUnmounted, useElementSize } from '@vueuse/core';\nimport { store as scrollStore } from 'components/SmoothScroll/store';\nimport { store as loaderStore } from 'components/ui/Loader/store';\nimport settings from 'config';\nimport { store as themeStore } from 'pages/Thematique/store';\nimport { store as i18nStore } from 'plugins/i18n/store';\nimport emitter, { EVENTS } from 'plugins/store/events';\nimport { store as appStore } from 'store/app';\nimport { store as globalStore } from 'store/globals/index';\nimport useFlow from 'utils/flow';\nimport { computed, defineComponent, ref, toRefs, watch } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { useRoute } from 'vue-router';\nimport TheNav from \"./Navigation.vue\";\nimport { store as NavStore } from './store';\n\nconst TheHeader = defineComponent({\n  name: \"TheHeader\",\n  components: {\n    TheNav\n  },\n  setup(props) {\n    const { onInitUi } = useFlow();\n    const el = templateRef<HTMLElement | null>('el', null);\n    const { t } = useI18n();\n    const { height } = useElementSize(el);\n    const { done } = toRefs(loaderStore.state);\n    const route = useRoute();\n    const disabled = computed(() => appStore.disabled);\n    const isThemeRoute = ref<boolean>(false);\n    const textColor = ref<string>('#192096');\n    const variant = ref<string>('default');\n    const i18nLocale: Koddein.Locale = i18nStore.locale as Koddein.Locale;\n    const { is404 } = toRefs(appStore.state);\n    const scrollDirection = ref(0);\n\n    let RAF: number;\n\n    watch(height, (h) => NavStore.setHeight(h + 26), { deep: true, immediate: true });\n\n    onInitUi(() => {\n      watch(\n        () => route,\n        () => {\n          NavStore.setHidden(false);\n          if (route?.name) {\n            switch (route.name as string) {\n              case \"collection\":\n                appStore.setAppBgColor(\"255, 234, 249\");  // #FFEAF9\n                textColor.value = '#192096';\n                themeStore.setCurrent(undefined);\n                break;\n\n              case \"bio\":\n                appStore.setAppBgColor(\"25, 32, 150\"); // #192096;\n                textColor.value = '#E5F0F8';\n                themeStore.setCurrent(undefined);\n                break;\n\n              case \"credit\":\n                appStore.setAppBgColor(\"229, 240, 248\"); // #e5f0f8;\n\n                NavStore.setHidden(true);\n                break;\n\n              case \"thematique\":\n                NavStore.setHidden(true);\n                break;\n              case \"home\":\n              case \"object\":\n                appStore.setAppBgColor(\"255, 234, 249\");  // #FFEAF9\n                textColor.value = '#192096';\n                NavStore.setHidden(true);\n                break;\n            }\n          }\n        },\n        {\n          deep: true,\n          immediate: true\n        }\n      )\n\n      watch(\n        () => themeStore.current,\n        (current) => {\n          if (!current) return;\n          variant.value = current?.id || 'default';\n          textColor.value = '#192096';\n        },\n        { deep: true, immediate: true }\n      )\n\n      if (!is404.value) checkScroll();\n    });\n\n    const checkScroll = () => {\n      RAF = requestAnimationFrame(checkScroll);\n\n      // force to hide the nav on theme route\n      if (isThemeRoute.value) {\n        scrollDirection.value = -1 as number;\n      }\n      else {\n        scrollDirection.value = (scrollStore.getScroll() < 100) ? 0 : scrollStore.getDirection() as number;\n      }\n    }\n\n    tryOnUnmounted(() => {\n      cancelAnimationFrame(RAF);\n    })\n\n    // Toggle Nav\n    const toggleNav = () => {\n      NavStore.openState(!NavStore.isOpen);\n    }\n\n    // Foce Close Nav\n    const closeNav = (e : PointerEvent, url:string) => {\n      e?.preventDefault();\n\n      if(url === route.path) return;\n\n      emitter.emit(EVENTS.PAGE_TRANSITION, {url, bgColor: themeStore.getBgColorFromURL(url)});\n      NavStore.openState(false);\n    }\n\n    return {\n      ...toRefs(props),\n      t,\n      loaderDone: done,\n      variant,\n      disabled,\n      routeName: computed( () => route.path),\n      localeUri: i18nLocale?.uri || '/',\n      height: computed(() => NavStore.height),\n      settings,\n      isOpen: computed(() => NavStore.isOpen),\n      navigations: computed(() => globalStore.navigations),\n      scrollDirection,\n      isThemeRoute,\n      gradientColor1: computed(() => `rgba(${appStore.bgColor}, 0)`),\n      gradientColor2: computed(() => `rgba(${appStore.bgColor}, .79)`),\n      gradientColor3: computed(() => `rgba(${appStore.bgColor}, 1)`),\n      textColor,\n      isHidden: computed(() => NavStore.hidden),\n      toggleNav,\n      closeNav,\n    }\n  }\n});\n\nexport default TheHeader\n</script>\n\n<template>\n  <header ref=\"el\"\n          class=\"TheHeader\"\n          :data-disabled=\"disabled\"\n          :data-isopen=\"isOpen\"\n          :data-variant=\"variant\"\n          :class=\"['TheHeader', { 'hidden': !loaderDone }]\"\n          :data-dark=\"false\"\n          :data-thematique=\"isHidden\"\n          :data-direction=\"scrollDirection\"\n  >\n    <div class=\"row _container\">\n      <nav class=\"main-nav\">\n        <ul class=\"links\">\n          <li v-for=\"(item, index) in navigations.main\"\n              :key=\"`link-${index}`\"\n              class=\"link-wrapper\"\n          >\n            <ui-button theme=\"nav\"\n                       :class=\"['link', {'active':item.url === routeName}]\"\n                       :label=\"item.label\"\n                       :href=\"item.url\"\n                       :data-selected=\"item.url === routeName\"\n                       :variant=\"variant\"\n                       tag=\"a\"\n                       @click=\"closeNav($event, item.url)\"\n            />\n          </li>\n          <li class=\"link-wrapper\">\n            <ui-button theme=\"nav\"\n                       class=\"link\"\n                       :label=\"t('LABELS.themes')\"\n                       :variant=\"variant\"\n                       :expand=\"true\"\n                       :selected=\"isOpen\"\n                       @click=\"toggleNav\"\n            />\n          </li>\n        </ul>\n      </nav>\n    </div>\n    <div class=\"gradient\" />\n  </header>\n  <TheNav />\n\n  <component :is=\"'style'\">\n    :root {\n    --header-height: {{ height }}px;\n    }\n  </component>\n</template>\n\n\n<style lang=\"stylus\" scoped>\n.TheHeader\n  position fixed\n  top $gutter\n  left $gutter\n  color v-bind(textColor)\n  width calc('100vw - 20px')\n  padding 13px 0\n  margin 0 auto\n  z-index $z-header + 1\n  trans(color, $duration:1s)\n  trans(transform, $duration:1s)\n  &[data-disabled=\"true\"]\n    pointer-events none\n  &.hidden\n    visibility hidden\n    pointer-events none\n\n  &:before, &:after\n    width 100%\n    height 1px\n    background-color currentColor\n    display block\n    position absolute\n    content ''\n    trans(background-color, $duration:0.5s)\n  &:before\n    top 0px\n  &:after\n    bottom 0px\n\n  &[data-direction=\"1\"]\n    transform translateY(-120%)\n    transition-duration 0.75s\n    \n  &[data-direction=\"1\"]\n    .gradient\n      opacity 0\n\n\n  &[data-direction=\"-1\"]\n    .gradient\n      opacity 1\n  \n  &[data-thematique=\"true\"]\n    transform translateY(-130%)\n    addVariantProps(color, false)     \n    .gradient\n      opacity 0   \n\n  .gradient\n    position absolute\n    top 'calc(%s * -1)' % ($gutter)\n    left 'calc(%s * -1)' % ($gutter)\n    width 100vw\n    z-index -1\n    rp(height, 90px)\n    trans(opacity)\n    trans(height)\n    trans(background, $duration:1.5s)\n    pointer-events none\n    background 'linear-gradient(0deg, %s 0%, %s 49%, %s 100%)' % (v-bind(gradientColor1) v-bind(gradientColor2) v-bind(gradientColor3))\n    [data-isopen=\"true\"]&\n      rp(height, 50px)\n\n  .main-nav\n    position relative\n    width 100%\n\n  .main-nav\n    position relative\n    width 100%\n\n    .links\n      f(row)\n     \n    .link\n      [data-thematique=\"false\"]&\n        color v-bind(textColor)\n</style>\n","<docs>\n  # TheLoader\n  > main loader screen AND page transition\n\n  - this file is about graphic loader\n  - the loading logic will be within its store\n\n  ## logic\n\n  - timelineEnterLoader\n    - show loader elements (loading... / logo)\n    - must be fast (0.2s)\n\n  - timelineProgressLoader\n    + long 10s - then speed up once loaded\n    + start at the same time as timelineEnterLoader\n    + at this stage we wait for :\n      + app && globals && page all ready\n      + loader queue (manifest etc)\n      + 10s fallback (TIMEOUT)\n\n  - **no loader config* \n    + the loader will use PageStransition as if shown - once all ready hide\n    + same process than above - but speedup since no animations expected to be done before hiding loader\n    + it is expected that if use no loader - pageTransition would be simple (like a fadeIn/fadeOut blank)\n\n  - when all ready :\n    + wait for enter / progress (speed up)\n    + hide loader|pageTransition\n  \n  @author Melissa Martin <melissa@kffein.com>\n  @author Nicolas Husson <nicolas@kffein.com>\n</docs>\n\n<script lang=\"ts\">\nimport { promiseTimeout, tryOnMounted, until } from '@vueuse/core';\nimport scrollStore from 'components/SmoothScroll/store';\nimport store from 'components/ui/Loader/store';\n// import soundStore from 'store/sound';\n// import { gsap } from 'vendors/gsap'\n// import { store as trackingStore } from 'store/tracking';\nimport { IS_DEV, ONCE_LOADER, SHOW_LOADER, cookies, motion } from 'config';\nimport Cookies from 'js-cookie';\nimport { clone } from 'lodash';\nimport appStore from 'plugins/store/app';\nimport useFlow from 'utils/flow';\nimport { computed, defineComponent, nextTick, ref, toRefs } from 'vue';\n\n/** fake loader additional delay in second */\nconst FAKE_DELAY = 0 //@todo remove this when more webgl loaded\nconst TIMEOUT = 10\n\nlet gsap: any;\ntype Timeline = any\ntype LoaderTimelines = {\n  noloader?: Timeline, // if no loader - this will be PageTransition already seek to 1 `enter` (shown)\n  enter?: Timeline,\n  progress?: Timeline\n  leave: Timeline\n}\nconst staticGsap = {\n  fakeTween(options: Obj) {\n    options?.onComplete?.()\n  },\n  tweenTo(label: string, options: Obj) {\n    staticGsap.fakeTween(options)\n  }\n}\n\nexport default defineComponent({\n  name: \"TheLoader\",\n  setup() {\n    const { loaded, type } = toRefs(store.state);\n    const { is404 } = toRefs(appStore.state);\n\n    const Loader = ref<any>(null)\n    const Logo = ref<any>(null)\n    const PreloadContent = ref<any>(null)\n    const Progress = ref<any>(null)\n\n    /** show loader bg only before pannel fill screen\n     * then no bg so pannel will reveal page content */\n    let showLoaderComputed = SHOW_LOADER\n    // if `ONCE_LOADER` is activated and we have the cookie, force skip all the loader\n    if (ONCE_LOADER /* && trackingStore.consents.preferences */ && Cookies.get(cookies.loader)) {\n      showLoaderComputed = false;\n    }\n\n    const showBg = ref<boolean>(showLoaderComputed)\n\n    // if (ONCE_LOADER && appStore.firstPageReady) {\n    //   Cookies.set(cookies.loader, 'true');\n    // }\n    if (!showLoaderComputed)\n      until(type).toBe('transition').then(() => showBg.value = false)\n\n\n    let tlPageTransition = ref<Timeline>(undefined)\n\n\n    /** ======================================================================================================\n      * !! TIMELINES !! - animations are here.\n    ====================================================================================================== **/\n    /** Page Transition timelines in & out\n     * > vs tlPageTransition\n     * is 1 timeline @1s duration - 0.5 must be the end of enter (eg fill screen)\n     * \n     * so onEnter = tweenTo 0.5|'enter' - onLeave = tweenTo 1|'leave'\n     */\n    function createPageTransitionTimeline() {\n      if (!showLoaderComputed) return createNoLoaderTimeline()\n      if (!motion) return staticGsap\n      return gsap.timeline()\n\n        .add('start')\n        .add('enter')\n        .add(() => { }, \"+=0.05\")\n        .add('leave')\n        .pause().seek('start')\n    }\n\n    /** \n     * if no loader aka no motion on first load - will use this timeline to fadeOut loader\n     */\n    function createNoLoaderTimeline() {\n      if (!motion) return staticGsap\n      return gsap.timeline()\n\n        .add('start')\n        .add('enter')\n        .add(() => { }, \"+=.2\")\n        .add('leave')\n        .pause().seek('start')\n    }\n\n    /**\n     * loader enter timeline is mandatory - cannot be skipped\n     * then will play progress timeline that can be timescaled\n     */\n    function createLoaderTimelineEnter() {\n      const tl = gsap.timeline()\n        .add('start')\n        .add(() => {\n          //first animation loader (to acrivate the bacground new step)\n          store.setRuntime();\n        })\n\n      if (!is404.value) {\n        const ProgressEl = document.querySelector(\".TheLoader .preload-infos\");\n        tl\n          .set(ProgressEl, {\n            y: -20,\n            opacity: 0,\n          }, 'start')\n          .to(ProgressEl, {\n            y: 0,\n            opacity: 1,\n            duration: 0.7,\n            ease: 'back.out',\n          }, 'start+=0.5')\n      }\n\n      tl.add('end');\n\n      return tl;\n    }\n    /**\n     * loader progress timeline is from 0 to 1\n     * !important to have something here, since we watch the progress of that timeline, even if we tween something that doesn't move\n     * but will be timeScalled to fake long/short progress (@todo)\n     **/\n    function createLoaderTimelineProgress() {\n      return gsap.timeline()\n        .add('start')\n        .add( () => {}, \"+=.2\")\n        // .to(progressPercent, { value: 100, duration: 1, ease: \"linear.out\" }, 'start')\n        .add('end')\n    }\n    /** \n     * loader leave progress tween - can add a leave anim after to nicely hide our loader\n     * leave tl will not be timeScalled \n     **/\n    function createLoaderTimelineLeave() {\n      return gsap.timeline({ paused: true })\n        .add('start')\n        .to(document.querySelector(\".TheLoader .preload-infos\"), {\n          y: -20,\n          opacity: 0,\n          duration: 0.7,\n          ease: 'back.in',\n        }, 'start')\n        .add(() => {\n          showBg.value = false\n          const TheLoader = document.querySelector('.TheLoader') as HTMLElement\n          if (TheLoader) TheLoader.dataset.showBg = 'false'\n        }, 'start+=0.7')\n        .add('end')\n    }\n\n    /** ======================================================================================================\n      * !IMPORTANT SETUP - complete logical flow, no anim here\n    ====================================================================================================== **/\n\n    /** Loader timelines\n     * > vs tlPageTransition\n     * we may prepare timelines so play them after\n     */\n    const tlLoader: LoaderTimelines = {\n      noloader: undefined,\n      enter: undefined,\n      progress: undefined,\n      leave: undefined,\n    }\n    const isLoaderEnterReady = ref(!showLoaderComputed)\n\n    /* main loading flow : load manifest, wait app ready etc\n    * wait for everithing needed then set loaded (store.setLoaded())\n    * if was loader - switch to pageTransition mode\n    */\n    function load() {\n      /** stack of loader promise\n       * once each of theme are resolve - consider loader loaded */\n      let promises: (Promise<any>)[] = [\n        // load manifest.json\n        store.loadManifest(),\n        // app ready (router, globals, page etc)\n        store.waitAppReady(),\n      ]\n\n      if (FAKE_DELAY && IS_DEV) {\n        promises.push(promiseTimeout(FAKE_DELAY * 1000))\n      }\n\n      /** load loader queue\n       * > you may add some things to preload here (manifest, some main lib, whatever)\n       * at the end, may recheck to ensure queue is still empty before ready\n       */\n      function waitAllPromises(): Promise<any> {\n        if (promises.length <= 0) return Promise.resolve()\n\n        let p = clone(promises)\n        promises = []\n        return Promise.all(p)\n          .then(waitAllPromises)\n      }\n\n      const { ready } = useFlow({\n        load: waitAllPromises,\n        debug: 'loader'\n      })\n\n      /** when flow ready - loader have loaded everythings etc\n       * time to render page and leave this loader\n       */\n      Promise.race([\n        until(ready).toBe(true, { timeout: TIMEOUT * 1000, throwOnTimeout: true }),\n        until(is404).toBe(true)\n      ])\n        .catch(() => undefined)\n        .then(() => {\n          // If timeout => 404\n          nextTick(() => {\n            if (!ready.value && !is404.value) {\n              appStore.setIs404();\n            }\n          })\n\n          // This will trigger LOADED that will remove loader dom el (v-if)\n          // then call `leave()` through vue's transition system\n          tryOnMounted( async () => {\n            await until(computed( () => store.allPreloaded)).toBe(true);\n            store.setLoaded();\n          })\n        })\n    }\n\n\n\n    /** anim flow here\n     * will wait for prev transition before\n     * and skip all if not motion\n     */\n    function setupLoaderAnimFlow() {\n      if (!motion) {\n        gsap = staticGsap\n        return\n      }\n      // so this loader will call the 1st loadAllGsap :)\n      // exept if no motion then return a fake gsap\n      import('vendors/gsap')\n        .then(m => {\n          gsap = m.gsap\n          return gsap\n        })\n        .then(() => {\n          tryOnMounted(() => {\n            if (!showLoaderComputed) {\n              tlLoader.enter = createNoLoaderTimeline().pause()\n              isLoaderEnterReady.value = true\n              return\n            } else {\n              tlLoader.leave = createLoaderTimelineLeave()\n              tlLoader.enter = createLoaderTimelineEnter()\n              tlLoader.progress = createLoaderTimelineProgress()\n              // @ts-ignore\n              // window.tl = tlLoader\n\n              tlLoader.enter.seek('start').pause()\n              tlLoader.progress.seek('start').pause()\n            }\n\n            setTimeout(() => {\n              // waitTlComplete(tlLoader.enter, 'enter').then(() => {\n              //   console.log(\"here-enter\");\n              //   isLoaderEnterReady.value = true\n              //   // @tips : you may want to wait here before start progress\n              // })\n\n              //Play the enter timeline\n              tlLoader.enter.eventCallback(\"onComplete\", () => {\n                isLoaderEnterReady.value = true\n                tlLoader.progress\n                  // .timeScale(0.1) // 10s loader - may be speed up once loaded\n                  .play();\n                load();\n              });\n              tlLoader.enter.play();\n            }, 180)\n          })\n        })\n    }\n    setupLoaderAnimFlow()\n\n    /** wait a tween to be done */\n    function waitTlComplete(tl: Timeline, label?: string) { // eslint-disable-line @typescript-eslint/no-unused-vars\n      return new Promise(resolve => {\n        if (tl.progress() >= 0.99) return resolve(true)\n        tl.eventCallback('onComplete', () => resolve(true));\n\n        // eventCallback may bug if use GSDevTools\n        if (IS_DEV) {\n          [500, 1000, 1500, TIMEOUT * 1000, (TIMEOUT + 1) * 1000].forEach(delay => {\n            setTimeout(() => {\n              if (tl.progress() >= 0.99) return resolve(true)\n            }, delay)\n          });\n        }\n      })\n    }\n\n    /** called by vue trantition once loader done\n     * @todo test if not motion - don't know if we even enter here serverside\n     */\n    const leaveLoader = (loader: Element, onComplete: () => void) => {\n      if (!motion) { return onComplete() }\n\n      // wait end of progress ti (and speed it up)\n      function waitTlProgressEnd() {\n        const wait = waitTlComplete(tlLoader.progress, 'progress')\n        tlLoader.progress.timeScale(1);\n        return wait\n      }\n\n      (() => {\n        if (isLoaderEnterReady.value) {\n          if (!showLoaderComputed) return Promise.resolve(onComplete())\n            return waitTlProgressEnd()\n          }\n        return until(isLoaderEnterReady).toBe(true)\n          // .then(waitTlProgressEnd) // @tips : comment this line if want skip progress here\n      })()\n        .then(() => {\n          tlLoader[showLoaderComputed ? 'leave' : 'enter']\n            ?.eventCallback('onComplete', onComplete)\n            .play()\n        })\n    };\n\n    /* vue transition enter - so when render on page\n      - if loader - do nothing...\n      - if pageTransition - waith for pageReady before setLoaded\n    */\n    function onEnter(el: Element, done: () => void) {\n      store.setDone(false)\n      scrollStore.setScrollable(false);\n      if (type.value === 'loader') {\n        return done()\n      }\n      tlPageTransition.value = createPageTransitionTimeline()\n      tlPageTransition.value.tweenTo('enter', { onComplete: done })\n      return new Promise((resolve) => {\n        if (appStore.ready().value) return resolve(true)\n        return resolve(until(appStore.ready()).toBe(true))\n      })\n        .then(() => {\n          return store.setLoaded()\n        })\n    }\n\n    /* vue transition leav - so when loader leave to reveal page\n     * > leave loader (or pageTransition)\n     * - page is already ready bellow - before we hide this loader\n     * - once loader leave done - enable body scroll\n    */\n    function onLeave(el: Element, done: () => void) {\n      function onComplete() {\n        store.setDone()\n        scrollStore.setScrollable(true);\n        done()\n      }\n\n      if (!tlPageTransition.value) return leaveLoader(el, onComplete)\n      tlPageTransition.value.tweenTo('leave', { onComplete: onComplete, ease: 'power0' })\n    }\n    const mounted = ref(false)\n    tryOnMounted(() => { setTimeout(() => { mounted.value = true }, 200) })\n\n    return {\n      onEnter,\n      onLeave,\n      is404,\n      showBg,\n      type,\n      loaded,\n      mounted,\n      percent: computed(() => {\n        if(store.percentProgress.loaded === 0) return 0;\n        return (store.percentProgress.loaded / store.percentProgress.total) * 100\n      }),\n      tlPageTransition,\n      showLoaderComputed,\n      Progress,\n      // el refs\n      ...{ Loader, Logo, PreloadContent },\n    }\n  }\n});\n</script>\n<template v-if=\"mounted\">\n  <transition :css=\"false\"\n              name=\"loader\"\n              appear\n              mode=\"in-out\"\n              @leave=\"onLeave\"\n              @enter=\"onEnter\"\n  >\n    <!-- <template v-if=\"!loaded\"> -->\n    <!-- <TransitionPage v-if=\"type==='transition'\" /> -->\n    <div v-if=\"!loaded\"\n         ref=\"Loader\"\n         class=\"TheLoader\"\n         :data-bg=\"showBg\"\n         :data-noloader=\"!showLoaderComputed\"\n         :data-type=\"type\"\n         :data-loaded=\"loaded\"\n         :data-mounted=\"mounted\"\n    >\n      <div ref=\"PreloadContent\"\n           :data-error=\"is404\"\n           class=\"preload-content\"\n      >\n        <div class=\"preload-animation elmt\" />\n        <div ref=\"Progress\" class=\"preload-infos\">\n          <p class=\"preload-progress elmt\"\n             v-html=\"`${Math.floor(percent)}%`\"\n          />\n        </div>\n      </div>\n    </div>\n    <!-- </template> -->\n  </transition>\n</template>\n\n<style lang=\"stylus\" scoped>\n$z-loader ?= 1000\n$z-transition ?= 500\n.TheLoader\n  fixed 0\n  f 'center'\n  pointer-events none\n  background-color $c-rose\n  // opacity 0.5!important\n  opacity 1!important\n  z-index $z-loader\n  trans(background-color, 1s)\n  &[data-noloader=\"true\"]\n    .background\n      transform scaleY(1)\n      background-color transparent\n  &[data-mounted=\"false\"]\n    opacity 0 !important\n  &[data-type=\"transition\"]\n    z-index $z-transition\n    display none\n  &[data-bg=\"false\"]\n    background-color transparent\n\n\n  .preload-content\n    f(center, $direction:column)\n    color $c-main\n    &[data-error=\"true\"]\n      pointer-events none\n      visibility hidden\n\n  .preload-infos\n    absollute 0\n    f(center, $direction:column)\n\n    .preload-progress\n      f-style('h1')\n      rp(font-size, 110px 110px)\n      line-height 1\n      margin-bottom 15px\n            \n</style>\n","import { computed, ref } from 'vue';\nimport { defineStore } from 'pinia';\nimport { find, uniqueId, without } from 'lodash';\nimport i18n from 'plugins/i18n';\nimport { pinia } from 'plugins/store/index';\n\nexport const STATUS = {\n  INFO: 'info',\n  SUCCESS: 'success',\n  WARNING: 'warning',\n  ERROR: 'error',\n};\n\ninterface IFlash extends Obj {\n  queue: Array<FlashMessage>,\n  status: Obj\n}\n\n\nconst useStore = defineStore('flashmessage', () => {\n  const state = ref<IFlash>({\n    queue: [],\n    status: STATUS,\n  });\n\n  // Actions\n  /**\n  * Spawn some message\n  */\n  const ADD = ({\n    message, // your message - html or plain text\n    title, // your message - html or plain text\n    status = 'info', // eg STATUS top of this file\n    duration = 5000, // ms - time before close - if 0/null no autoclose\n    important = false, // if true, no close btn\n  }: FlashMessage) => {\n    const id: string = uniqueId('flash-message');\n    \n    const flash: FlashMessage = {\n      id,\n      status,\n      important,\n      message,\n      title: title || i18n.global.t('LABELS.flash_title'),\n    };\n\n    // autoclose\n    if (duration) {\n      setTimeout(() => {\n        DELETE(id);\n      }, duration);\n    }\n    state.value.queue.push(flash);\n  }\n\n  /**\n   * Remove a message from queue\n   */\n  const DELETE = (id:string) => {\n    if (!id ) {\n      throw new Error('[app] FLASH_REMOVE - missing message id');\n    }\n    const message = find(state.value.queue, { id });\n    if (message) {\n      state.value.queue = without(state.value.queue, message);\n    }\n  }\n\n  return {\n    state,\n\n    //getters\n    queue: computed( () => state.value.queue),\n    status: computed( () => state.value.status),\n  \n    //actions\n    ADD,\n    DELETE,\n  }\n});\n\nexport const store = useStore(pinia);\nexport default store;\n","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\">\\n  <line x1=\\\"1\\\" y1=\\\"15\\\" x2=\\\"15\\\" y2=\\\"1\\\"/>\\n  <line x1=\\\"1\\\" y1=\\\"1\\\" x2=\\\"15\\\" y2=\\\"15\\\"/>\\n</svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 60 60\\\"><circle cx=\\\"30\\\" cy=\\\"30\\\" r=\\\"30\\\" fill=\\\"#fff\\\"/><path d=\\\"M22.93,24.12l14.14,14.14\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\"/><path d=\\\"M37.07,24.12l-14.14,14.14\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\"/></svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 60 60\\\"><circle cx=\\\"30\\\" cy=\\\"30\\\" r=\\\"30\\\" fill=\\\"#fff\\\"/><path d=\\\"M38.59,37.04v-7.66c0-4.76-3.86-8.62-8.62-8.62s-8.62,3.86-8.62,8.62v7.66\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-miterlimit=\\\"10\\\"/><path d=\\\"M32.1,21.02v-1.38c0-1.18-.96-2.13-2.13-2.13s-2.13,.96-2.13,2.13v1.42\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-miterlimit=\\\"10\\\"/><path d=\\\"M21.26,37c-.81,0-1.47,.66-1.47,1.47s.66,1.47,1.47,1.47h17.47c.81,0,1.47-.66,1.47-1.47s-.66-1.47-1.47-1.47H21.26Z\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-miterlimit=\\\"10\\\"/><path d=\\\"M27.39,39.89c0,1.44,1.17,2.61,2.61,2.61s2.61-1.17,2.61-2.61\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-miterlimit=\\\"10\\\"/></svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 60 60\\\"><circle cx=\\\"30\\\" cy=\\\"30\\\" r=\\\"30\\\" fill=\\\"#fff\\\"/><path d=\\\"M21.85,30.8l5.35,5.35,10.95-10.95\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\"/></svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 60 60\\\"><circle cx=\\\"30\\\" cy=\\\"30\\\" r=\\\"30\\\" fill=\\\"#fff\\\"/><path d=\\\"M28.74,17.8c0-.69,.56-1.26,1.26-1.26s1.26,.56,1.26,1.26v18.83c0,.69-.56,1.26-1.26,1.26s-1.26-.56-1.26-1.26V17.8h0Z\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-miterlimit=\\\"10\\\"/><path d=\\\"M30,43.46c-.98,0-1.78-.8-1.78-1.78s.8-1.78,1.78-1.78,1.78,.8,1.78,1.78-.8,1.78-1.78,1.78Z\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-miterlimit=\\\"10\\\"/></svg>\\n\"","<docs>\n# FlashMessages\n> Can spawn some flash messages\n\n@author Nicolas Husson <nicolas@kffein.com>\n</docs>\n\n<script>\nimport { defineComponent, /* onMounted */ } from 'vue';\nimport { storeToRefs } from 'pinia'\nimport { store as flashStore } from './store';\nimport SvgClose from './assets/close.svg?raw';\nimport SvgStatusError from './assets/status-error.svg?raw';\nimport SvgStatusInfo from './assets/status-info.svg?raw';\nimport SvgStatusSuccess from './assets/status-success.svg?raw';\nimport SvgStatusWarning from './assets/status-warning.svg?raw';\n\nconst FlashMessages = defineComponent({\n  name: \"FlashMessages\",\n  setup() {\n    const { queue } = storeToRefs(flashStore)\n\n    const close = (id) => {\n      flashStore.DELETE(id)\n    };\n\n    return {\n      queue,\n      close,\n      SvgClose,\n      SvgStatusError,\n      SvgStatusInfo,\n      SvgStatusSuccess,\n      SvgStatusWarning,\n    }\n  },\n});\nexport default FlashMessages;\n</script>\n\n<template>\n  <div class=\"FlashMessages\">\n    <transition-group class=\"list\"\n                      name=\"list\"\n                      mode=\"out-in\"\n                      tag=\"ol\"\n    >\n      <li v-for=\"{id, status, message, title, important} in queue\"\n          :key=\"`message-${id}`\"\n          class=\"item\"\n      >\n        <article :data-status=\"status\"\n                 class=\"message\"\n        >\n          <header class=\"header\">\n            <i v-if=\"status === 'error'\"\n               class=\"icon -status\"\n               v-html=\"SvgStatusError\"\n            />\n            <i v-if=\"status === 'info'\"\n               class=\"icon -status\"\n               v-html=\"SvgStatusInfo\"\n            />\n            <i v-if=\"status === 'success'\"\n               class=\"icon -status\"\n               v-html=\"SvgStatusSuccess\"\n            />\n            <i v-if=\"status === 'warning'\"\n               class=\"icon -status\"\n               v-html=\"SvgStatusWarning\"\n            />\n          </header>\n          <div class=\"content\">\n            <p v-if=\"title\"\n               class=\"title\"\n            >\n              <strong v-html=\"title\" />\n            </p>\n            <p v-if=\"message\"\n               class=\"description\"\n               v-html=\"message\"\n            />\n          </div>\n          <button v-if=\"!important\"\n                  class=\"btn -close _no-btn\"\n                  aria-label=\"close\"\n                  @click.prevent=\"close(id)\"\n          >\n            <i class=\"icon -close\" v-html=\"SvgClose\" />\n          </button>\n        </article>\n      </li>\n    </transition-group>\n  </div>\n</template>\n\n<style lang=\"stylus\" scoped>\n  /**\n   * TABLE OF CONTENT\n   * --------\n   *  - LAYOUT\n   *  - DEBUG\n   *  - NO_SCOPE\n   */\n\n  $flash-colors ?= {\n    info: black,\n    success: green,\n    warning: orange,\n    error: red,\n  }\n\n  //  ===LAYOUT===\n  .list\n    fixed bottom 20px right 20px\n    z-index $z-flash\n    display flex\n    flex-direction column-reverse\n    +mobile()\n      fixed bottom 0 right 0 left 0\n    >.item\n      &:not(:first-child)\n        margin-bottom 20px // column-reverse\n\n  .message\n    width 47vw\n    min-width 400px\n    max-width 700px\n    +mobile()\n      width 100%\n      min-width 100%\n      max-width 100%\n    position relative\n    background-color $c-blue\n    color $c-white\n    border-radius 10px\n    padding 30px 24px\n    overflow hidden\n    box-shadow 0px 0px 9px rgba(#C9C9C9, 0.5)\n    for status in ('info' 'success' 'warning' 'error')\n      {'[data-status=\"'+status+'\"]&'}\n        background-color $flash-colors[status]\n    +layout(desktop)\n      f(row, $align:stretch)\n      padding 48px 24px \n\n    .header\n      rp(width, 60px 50px)\n      flex auto 0 0\n      f(row, $align: center, $justify: center)\n      +layout(desktop)\n        margin-right 35px\n        margin-bottom 0\n      +layout(mobile)\n        margin-right 0\n        margin-bottom 35px\n        \n    .icon.-status\n      rp(size, 60px 50px)\n      color $c-black\n\n    .content\n      flex 100% 1 1\n    .title\n      rp(font-size, 24px 18px)\n      rp(margin-bottom, 8px 5px)\n      font-weight $fw-semibold\n      line-height 1.4\n    .description\n      rp(font-size, 17px 15px)\n      line-height 1.2\n      \n      :deep()\n        strong\n          font-weight $fw-bold\n        em\n          font-style italic\n        a\n          text-decoration underline\n\n    .btn.-close\n      absolute top 20px right 20px\n      size 18px\n      box-sizing content-box\n      border none\n      background none\n      outline none\n      cursor pointer\n      .icon\n        display block\n        size 100%\n        stroke $c-white\n        stroke-linecap round\n        stroke-linejoin round\n        stroke-width 1px\n      .no-touch &\n        transform rotate(0deg)\n        trans(transform, $ease: easing('in-out-back'))\n        &:hover\n          transform rotate(90deg)\n\n  .list-leave-active\n  .list-enter-active\n    transition 0.3s\n  .list-enter-active\n    transition-delay .3s\n  .list-enter-from\n    transform translateX(100%)\n    opacity 0\n  .list-leave-to\n    transform translateX(100%)\n    opacity 0\n\n  //  ===DEBUG===\n  [data-debug-mode=\"true\"] .FlashMessages\n    // fixed 0\n    // background url('/_DEBUG/flash.jpg') left top no-repeat\n    // background-color yellow\n    //\n</style>\n","export default \"<svg fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 13 13\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M1.7 4.217s1.97 2.219 2.576 2.824l.846-.852-1.374-1.375h3.956a2.401 2.401 0 0 1 0 4.803H5.903v1.2h1.8a3.602 3.602 0 1 0 0-7.203H3.75l1.378-1.375-.852-.846C3.67 1.998 1.7 4.217 1.7 4.217Z\\\" fill=\\\"currentColor\\\"/></svg>\\n\"","<docs>\n  # Inactivity screen\n  > The Basic Mobile screen\n  \n  @author nicolas husson <nicolas@kffein.com>\n</docs>\n\n<script lang=\"ts\">\nimport { templateRef } from \"@vueuse/core\";\nimport ArrowSVG from \"assets/svg/arrow.svg?raw\";\nimport RefreshSVG from \"assets/svg/refresh.svg?raw\";\nimport useFlow from 'utils/flow';\nimport { gsap } from \"vendors/gsap\";\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: \"UiInactivityScreen\",\n  emits: ['continue'],\n  setup(orops, {emit}) {\n    const { onInitUi } = useFlow();\n    const el = templateRef<HTMLElement>(\"el\");\n\n    onInitUi( () => {\n      animate();\n    });\n\n    const animate = () => {\n      gsap.timeline()\n        .fromTo(el.value.querySelector(\".background\"), {opacity:0}, {opacity:1, duration:1.5, ease:\"power4.inOut\"}, 0)\n        .fromTo(el.value.querySelectorAll(\".h2,.subtitle,.buttons\"), {opacity:0, y:20}, {opacity:1, y:0, duration:1.5, ease:\"power4.out\", stagger:0.5}, 1.5)\n    }\n   \n    const onRefresh = () => {\n      document.location.reload();\n    }\n\n    const onContinue = () => {\n      emit('continue');\n    }\n\n    return {\n      onRefresh,\n      onContinue,\n      ArrowSVG,\n      RefreshSVG\n    }\n  }\n});\n</script>\n\n<template>\n  <section ref=\"el\"\n           data-variant=\"university\"\n           class=\"inactivity\"\n  >\n    <div class=\"background\" />\n    <div class=\"wrapper\">\n      <h2 class=\"h2\" v-html=\"'Vous êtes<br/>toujours là?'\" />\n      <p class=\"subtitle\" v-html=\"'Poursuivez votre découverte ou recommencez<br/>l\\'exploration depuis le début'\" />\n      <div class=\"buttons\">\n        <ui-button :label=\"'Recommencer'\"\n                   theme=\"primary\"\n                   class=\"refresh\"\n                   :icon=\"RefreshSVG\"\n                   tag=\"a\"\n                   variant=\"inactivity\"\n                   @click=\"onRefresh\"\n        />\n        <ui-button :label=\"'Continuer'\"\n                   theme=\"primary\"\n                   class=\"continue\"\n                   :icon=\"ArrowSVG\"\n                   tag=\"a\"\n                   variant=\"inactivity\"\n                   @click=\"onContinue\"\n        />\n      </div>\n    </div>\n  </section>\n</template>\n\n<style lang=\"stylus\" scoped>\n  .inactivity\n    fixed 0\n    color red\n    z-index $z-burger + 1\n    f(center, $direction:column)\n    text-align center\n    user-select none\n\n  .h2\n    text-transform uppercase\n    addVariantProps(color, false) \n    margin-bottom 40px\n\n  .subtitle\n    text-transform uppercase\n    addVariantProps(color, false)\n\n  .buttons\n    margin-top 60px\n    .refresh\n      margin-right 30px\n      :deep()\n        .inner\n          .icon\n            transform scaleX(-1)\n    .continue\n      :deep()\n        .inner\n          .icon\n            transform scaleX(-1)\n\n  .background\n    absolute 0\n    size 100%\n    background-color rgba(229, 240, 248, 1)\n    z-index -1\n</style>\n","export default \"<svg class=\\\"uuid-cbb66b10-e303-4b02-93d0-b6fa27dc47d3\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 10 10\\\"><g id=\\\"uuid-c425b868-7504-4c43-8c41-eef346bdca36\\\"><path id=\\\"uuid-947a7933-adcf-431c-946d-6e027aa5d9d9\\\" d=\\\"M1.76,0H.44c-.24,0-.44.2-.44.44v1.31c0,.25.2.44.44.44h1.33c.24,0,.44-.2.44-.44V.44c0-.25-.2-.44-.44-.44Z\\\" style=\\\"fill:#192096; stroke-width:0px;\\\"/><path id=\\\"uuid-6e93effc-cecf-4b45-b767-bfb96d825a0e\\\" d=\\\"M1.76,7.8H.44c-.24,0-.44.2-.44.44v1.31c0,.25.2.44.44.44h1.33c.24,0,.44-.2.44-.44v-1.31c0-.25-.2-.44-.44-.44Z\\\" style=\\\"fill:#192096; stroke-width:0px;\\\"/><path id=\\\"uuid-b31ee948-7f1c-445e-92d7-eda271120bc9\\\" d=\\\"M9.56,0h-1.33c-.24,0-.44.2-.44.44v1.31c0,.25.2.44.44.44h1.33c.24,0,.44-.2.44-.44V.44c0-.25-.19-.44-.44-.44Z\\\" style=\\\"fill:#192096; stroke-width:0px;\\\"/><path id=\\\"uuid-20e3902e-601b-4787-b2fa-50b2f1d5b666\\\" d=\\\"M9.56,7.8h-1.33c-.24,0-.44.2-.44.44v1.31c0,.25.2.44.44.44h1.33c.24,0,.44-.2.44-.44v-1.31c0-.25-.19-.44-.44-.44Z\\\" style=\\\"fill:#192096; stroke-width:0px;\\\"/></g></svg>\"","export default \"__VITE_ASSET__BCarCi02__\"","<docs>\n  # Mobile screen\n  > The Basic Mobile screen\n  \n  @author nicolas husson <nicolas@kffein.com>\n</docs>\n\n<script lang=\"ts\">\nimport iconBureau from 'assets/svg/bureau.svg?raw';\nimport { defineComponent } from 'vue';\nimport imageBackground from './img/background-mobile.png';\n\nexport default defineComponent({\n  name: \"UiMobileScreen\",\n  setup() {\n    // const el = templateRef('el')\n\n    return {\n      imageBackground,\n      iconBureau,\n    }\n  }\n});\n</script>\n\n<template>\n  <main ref=\"el\" class=\"mobile-section\">\n    <div class=\"row-container\">\n      <div class=\"content\">\n        <span ref=\"Subtitle\"\n              class=\"subtitle\"\n              v-html=\"`&quot; CRITIQUE&quot;`\"\n        />\n        <h1 ref=\"title\"\n            class=\"title\"\n            v-text=\"'LA COLLECTION CLAUDE-GINGRAS'\"\n        />\n        <i class=\"icon\" v-html=\"iconBureau\" />\n        <div ref=\"description\"\n             class=\"description wysiwyg\"\n             v-html=\"`<p>Cette expérience n'est malheureusement pas optimisée pour le mobile.</p><p>Pour une immersion complète, rendez-vous sur notre site depuis un ordinateur ou une tablette.</p><p>Claude et les bibliothèques de l'Université de Montréal vous en remercie!</p>`\"\n        />\n        <i class=\"icon\" v-html=\"iconBureau\" />\n      </div>\n    </div>\n    <div class=\"background-mobile-section\">\n      <ui-picture ref=\"image\"\n                  :src=\"imageBackground\"\n                  class=\"image -main\"\n                  cover=\"cover\"\n      />\n    </div>\n  </main>\n</template>\n\n<style lang=\"stylus\" scoped>\n  .mobile-section\n    text-align center\n    position relative\n    f(center, column)\n    .row-container\n      color $c-dark_blue_udm\n      margin 10px\n      border 1px solid $c-dark_blue_udm\n      border-radius 10px\n      f(center, column)\n      padding 30px 0\n      min-height 100vh\n      min-height 100svh\n    .icon\n      width 10px\n      height 10px\n      margin 20px 0\n      :deep()\n        svg\n          width 100%\n          height 100%\n\n    \n\n  .content\n    f(center, column)\n\n\n  .subtitle\n    f-style('h2', $uppercase: true)\n    display block\n    rp(margin-bottom, 30px)\n  .title\n    f-style(h1)\n    text-align center\n    text-transform uppercase\n    rp(margin-bottom, 60px)\n    margin-left 10px\n    margin-right 10px\n\n  .subtitle\n    f-style('h2', $uppercase: true)\n    rp(margin-bottom, 40px)\n\n  .description\n    rp(margin-bottom, 60px)\n    rp(margin-top, 60px)\n    f-style('text14', $uppercase: true)\n    rp(max-width, 580px)\n    :deep()\n      p + p\n        rp(margin-top, 20px)\n\n\n  .background-mobile-section\n    absolute 0\n    z-index -1\n    :deep()\n      .ui-picture\n        size 100%\n</style>\n","<script lang=\"ts\">\nimport KontrolUi from 'components/Kontrol/index.vue';\nimport TheResponsiveMagic from 'components/Responsive/index.vue';\nimport SmoothScroll from 'components/SmoothScroll/index.vue';\nimport { store as themeStore } from 'pages/Thematique/store';\nimport SEO from 'plugins/seo/index.vue';\nimport { store as interfaceStore } from 'plugins/store/interface';\nimport Transitions from 'src/mixins/transitions';\nimport appStore from 'store/app';\nimport loaderStore from 'ui/Loader/store';\nimport { computed, defineAsyncComponent, defineComponent, toRefs, watch } from 'vue';\n// import TheDebugBar from 'ui/DebugBar/index.vue';\nimport TheHeaderCredit from 'pages/Credit/blocks/Header.vue';\nimport TheHeaderThematique from 'pages/Thematique/blocks/Header.vue';\nimport HorizontalNav from \"ui/Header/HorizontalNavigation.vue\";\nimport TheHeader from 'ui/Header/index.vue';\nimport TheLoader from 'ui/Loader/index.vue';\n// import i18nStore from 'plugins/i18n'\n//import TheCursor from 'UiKit/Cursor/index.vue';\nimport { tryOnMounted } from '@vueuse/core';\nimport TheFlashMessage from 'UiKit/FlashMessage/index.vue';\nimport InactivityScreen from 'components/ui/Inactivity/index.vue';\nimport MobileScreen from 'components/ui/Mobile/index.vue';\nimport emitter, { EVENTS } from 'plugins/store/events';\nimport { useRoute } from 'vue-router';\n\n\nconst async404 = defineAsyncComponent(\n  () => import(/* webpackChunkName: \"page-404\" */'pages/FourOFour.vue')\n)\n\nexport default defineComponent({\n  name: \"TheApp\",\n  components: {\n    SEO,\n    TheHeader,\n    HorizontalNav,\n    TheLoader,\n    TheFlashMessage,\n    TheHeaderThematique,\n    TheHeaderCredit,\n    // TheDebugBar,\n    SmoothScroll,\n    TheResponsiveMagic,\n    KontrolUi,\n    MobileScreen,\n    InactivityScreen\n  },\n  setup() {\n    const { beforeEnterTransition, enterTransition, leaveTransition, ThePageTransition } = Transitions();\n\n    const { viewport } = toRefs(interfaceStore.state);\n    const { is404 } = toRefs(appStore.state);\n    const isMobile = computed(() => !(interfaceStore.isLayoutDesktop));\n\n    const route = useRoute();\n\n    let timer: any = null;\n\n    tryOnMounted( () => {\n      emitter.on(EVENTS.STOP_INACTIVE, stopTimer);\n      emitter.on(EVENTS.RESET_INACTIVE, startTimer);\n\n      watch(\n        isMobile, \n        mobile => {\n          if(mobile) {\n            stopTimer();\n          }\n          else{\n            startTimer();\n          }\n        },\n        {\n          immediate: true\n        }\n      );\n    });\n\n    const startTimer = () => {\n      window.addEventListener(\"mousemove\", onActive);\n      window.addEventListener(\"touchdown\", onActive);\n\n      onActive();\n    }\n\n    const stopTimer = () => {\n      window.removeEventListener(\"mousemove\", onActive);\n      window.removeEventListener(\"touchdown\", onActive);\n      \n      clearTimeout(timer);\n    }\n\n    const onActive = () => {\n      clearTimeout(timer);\n\n      timer = setTimeout(() => {\n        appStore.toggleInactive(true);\n      }, 2 * 60 * 1000);\n    }\n\n    const onResetTimer = () => {\n      appStore.toggleInactive(false);\n      onActive();\n\n      console.log(\"reset\");\n    }\n\n    return {\n      doneLoader: loaderStore.state,\n      // readyToRenderView: i18nStore.ready,\n      /** ready when app & global\n       * but inside you may wait data etc\n       * need to render before data to trigger load ;) */\n      readyToRenderView: computed(() => {\n        return appStore.state.ready.app && appStore.state.ready.globals && appStore.state.ready.interface\n      }),\n      is404,\n      beforeEnterTransition,\n      enterTransition,\n      leaveTransition,\n      ThePageTransition,\n      async404,\n      isMobile,\n      currentVariant: computed(() => themeStore.current?.id || \"default\"),\n      isThemeRoute: computed(() => route.name === 'thematique'),\n      isCreditRoute: computed(() => route.name === 'credit'),\n      showInactivity: computed(() => appStore.isInactive),\n      viewport: viewport,\n      onResetTimer\n    }\n  },\n});\n</script>\n\n<template>\n  <SEO />\n  <TheHeader v-if=\"readyToRenderView && !isMobile\" />\n  <TheHeaderThematique v-if=\"readyToRenderView && isThemeRoute\" />\n  <TheHeaderCredit v-if=\"readyToRenderView && isCreditRoute\" />\n\n  <SmoothScroll v-if=\"readyToRenderView\">\n    <div class=\"page-wrapper\">\n      <router-view v-slot=\"{ Component, route }\">\n        <transition :css=\"false\"\n                    appear\n                    mode=\"out-in\"\n                    @before-enter=\"beforeEnterTransition\"\n                    @enter=\"enterTransition\"\n                    @leave=\"leaveTransition\"\n        >\n          <!-- PATCH : Force render 404 if needed\n            @see: https://www.notion.so/kffein/VUE-Render-update-issues-11535112181140d8b5fb871823883ba7\n          -->\n          <div v-if=\"readyToRenderView || is404\"\n               :key=\"is404 ? '404' : route.path\"\n               class=\"page-container\"\n          >\n            <MobileScreen v-if=\"isMobile\" />\n            <component :is=\"is404 ? async404 : Component\"\n                       v-else\n                       class=\"page\"\n            />\n            <InactivityScreen v-if=\"showInactivity\" @continue=\"onResetTimer\" />\n          </div>\n        </transition>\n      </router-view>\n    </div>\n\n    <HorizontalNav v-if=\"readyToRenderView\" />\n  </SmoothScroll>\n\n  <div class=\"webgl-wrapper\" />\n\n\n  <TheFlashMessage />\n  <TheLoader v-if=\"readyToRenderView\" ref=\"ThePageTransition\" />\n  <component :is=\"'style'\">\n    :root {\n    --viewport-height: {{ viewport.height }}px;\n    --viewport-innerHeight: {{ viewport.innerHeight }}px;\n    --viewport-webglHeight: {{ viewport.webglHeight }}px;\n    --variant: {{ currentVariant }}\n    }\n  </component>\n  <!-- <TheDebugBar /> -->\n  <TheResponsiveMagic />\n  <KontrolUi />\n\n  <!-- safe zone outside scroll - usefull to teleport -->\n  <div class=\"teleport\" />\n  <div class=\"transitioning\" />\n</template>\n\n<style lang=\"stylus\">\n  @import '../assets/styles/index'\n\n  ::v-global(.grecaptcha-badge)\n    display none !important\n    visibility hidden !important\n    opacity 0 !important\n    pointer-events none !important\n\n  .webgl-wrapper\n    fixed top 0 left 0\n    size 100vw var(--viewport-innerHeight)\n    z-index -1\n    pointer-events none\n    overflow hidden\n    +layout(mobile)\n      height 100vmax\n\n  .-webgl-hide, :deep(.-webgl-hide)\n    opacity 0\n\n</style>\n","<docs>\n  # UiKit - Animation\n  > *generic way to create cool animations -> REUSABLE !\n</docs>\n  \n<script lang=\"ts\">\nimport { computed, defineComponent, PropType, ref, toRefs } from 'vue';\nimport { templateRef, until, useIntersectionObserver, debouncedWatch } from '@vueuse/core';\nimport { tryOnUnmounted } from '@vueuse/shared';\nimport interfaceStore from 'store/interface';\nimport scrollStore from 'components/SmoothScroll/store';\nimport useFlow from 'utils/flow';\n\nconst UiAnimation = defineComponent({\n  name: \"UiAnimation\",\n  props: {\n    /**\n      * Force a specific tag on the element. (semantic purpose)\n    */\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    /**\n      * Animation name from type AnimationOpt\n    */\n    animation: {\n      type: String as PropType<AnimationOpt>,\n      default: 'opacity'\n    },\n    /**\n      * autoplay animation on scroll\n    */\n    auto: {\n      type: Boolean,\n      default: true,\n    },\n    /**\n      * repeat animation if auto (when element enter/leave viewport)\n    */\n    autoRepeat: {\n      type: Boolean,\n      default: true,\n    },\n    /**\n      * repeat animation if auto only when scrolling top\n    */\n    autoTop: {\n      type: Boolean,\n      default: true,\n    }\n  },\n  setup(props){\n    const el = templateRef<HTMLElement>('el');\n    const anim = ref<any>();\n\n    const { scrollable } = toRefs(scrollStore.state);\n    const { viewport } = toRefs(interfaceStore.state);\n\n    const { onInitUi } = useFlow();\n\n    const played = ref<boolean>(false);\n    \n    onInitUi( () => {\n      // load corresponding animation file\n      if (props.animation) {\n        import(`./animations/${props.animation}.ts`)\n        .then((module) => {\n          return anim.value = new module.default({\n            el: el.value, \n          });\n        })\n        // make sure loader is done.\n        .then( async () => {\n          return await until(scrollable).toBe(true);\n        })\n        // if auto anim start watcher\n        .then(() => {\n          if (props.auto) {\n            return createWatcher();\n          }\n        })\n      }\n    })\n\n    const createWatcher = () => {\n      useIntersectionObserver(\n        el,\n        ([entry]) => {\n          let fromTop = true\n          if (props.autoTop) {\n            fromTop = entry.boundingClientRect.y > 0\n          } \n          // entry.boundingClientRect.y > 0 -> give us the possibility to trigger events only when scrolling from top to bottom\n          if (entry.isIntersecting && fromTop) {\n            if (!props.autoRepeat && played.value) return;\n            enter();\n            played.value = true;\n          } else if (!entry.isIntersecting && props.autoRepeat && fromTop){\n            leave();\n            played.value = false;\n          }\n        },\n        {\n          threshold: 0\n        }\n      )\n\n      debouncedWatch(\n        () => viewport.value.width,\n        () => {\n          anim.value?.update();\n        },\n        { debounce: 500, deep: true }\n      )\n    }\n\n    tryOnUnmounted( () => {\n      anim.value?.dispose();\n    })\n\n    const enter = () => {\n      anim.value?.enter();\n    }\n    const leave = () => {\n      anim.value?.leave();\n    }\n\n    const tl = computed(()=>{\n      return anim.value?.tl;\n    });\n\n    return {\n      tl: tl,\n      played,\n      // functions\n      enter: enter,\n      leave: leave,\n\n    }\n  }\n});\nexport default UiAnimation\n</script>\n  \n<template>\n  <component :is=\"tag\"\n             ref=\"el\"\n             :data-played=\"played\"\n             :data-animation=\"animation\"\n  >\n    <slot />\n  </component>\n</template>\n  \n<style lang=\"stylus\" scoped>\n  [data-animation=\"zigzag\"]\n    overflow hidden\n\n  [data-animation=\"astro\"]\n    :deep(.line)\n      overflow hidden\n    :deep(.char)\n      display inline-block\n      position relative\n\n  [data-animation=\"hero\"]\n  [data-animation=\"sylvestre\"]\n    :deep(.line)\n      overflow hidden\n    :deep(.char)\n      display inline-block\n      position relative\n\n  [data-animation=\"cartier\"]\n    :deep(.line)\n      perspective 400px\n      perspective-origin bottom\n      line-height 1\n    :deep(.word)\n      transform-origin center bottom\n\n  [data-animation=\"getRepeat\"]\n    text-transform uppercase\n    :deep(.line)\n      overflow hidden\n    :deep(.word)\n      transform-origin left bottom\n\n</style>\n  ","<docs>\n  # UiKit - Parallax\n  > *generic way to create basic parallax effect\n</docs>\n  \n<script lang=\"ts\">\nimport { defineComponent, ref, toRefs, PropType } from 'vue';\nimport { templateRef, /* useIntersectionObserver, */ debouncedWatch } from '@vueuse/core';\nimport { tryOnUnmounted } from '@vueuse/shared';\nimport interfaceStore from 'store/interface';\nimport useFlow from 'utils/flow';\nimport { gsap, ScrollTrigger } from 'vendors/gsap';\n\nconst UiParallax = defineComponent({\n  name: \"UiParallax\",\n  props: {\n    /**\n      * Force a specific tag on the element. (semantic purpose)\n    */\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    /**\n      * Scrub speed, time to catch up scroll progress in seconds -> aka lag/lerp\n      * 0 = same as scroll\n      * 1 = 1 second to catch up scroll progress\n    */\n    scrub: {\n      type: Number,\n      default: 0.8,\n    },\n    /**\n      * parallax speed, negative value = inverse progression\n      * everything is based on total distance to go.\n      * `1 = 25%` of viewport height\n      * `2 = 50%` of viewport height\n      * `0 = 0`\n    */\n    speed: {\n      type: Number,\n      default: 1,\n    },\n    /**\n      * direction \n      * `1 = y`\n      * `-1 = x`\n    */\n    direction: {\n      type: Number as PropType<1 | -1>,\n      default: 1,\n      validator(value) {\n        // 1 or -1\n        return value === 1 || value === -1;\n      }\n    }\n  },\n  setup(props){\n    const el = templateRef<HTMLElement>('el');\n    const st = ref<ScrollTrigger>();\n    const { viewport } = toRefs(interfaceStore.state);\n    const { onInitUi } = useFlow();\n\n    onInitUi( () => {\n      if (el.value && !st.value) {\n        // based on viewport height value, -> will normalise every parallax element globally. ratio * 25% viewport height\n        const total = props.speed * (viewport.value.innerHeight * 0.25);\n        // we can switch based on element height using yPercent/xPercent instead with this :\n        // const total = props.speed * 100;\n        if (props.direction === 1) {\n          st.value = ScrollTrigger.create({\n            trigger: el.value,\n            scrub: props.scrub,\n            animation: gsap.fromTo(el.value, {y: -(total/2)}, {y:(total/2), ease: 'none'})\n            // animation: gsap.fromTo(el.value, {yPercent: -(total/2)}, {yPercent:(total/2), ease: 'none'})\n          });\n        } else {\n          st.value = ScrollTrigger.create({\n            trigger: el.value,\n            scrub: props.scrub,\n            animation: gsap.fromTo(el.value, {x: -(total/2)}, {x:(total/2), ease: 'none'})\n            // animation: gsap.fromTo(el.value, {xPercent: -(total/2)}, {xPercent:(total/2), ease: 'none'})\n          });\n        }\n\n        if (!interfaceStore.isLayoutDesktop) {\n          st.value.disable();\n          gsap.set(el.value, {clearProps: 'all'});\n        }\n      }\n    })\n\n    debouncedWatch(\n      () => viewport.value.width,\n      () => {\n        if (st.value) {\n          if (interfaceStore.isLayoutDesktop) {\n            st.value.enable();\n          } else {\n            st.value.disable();\n            gsap.set(el.value, {clearProps: 'all'});\n          }\n        }\n      },\n      { debounce: 500, deep: true }\n    )\n\n    tryOnUnmounted( () => {\n      st.value?.kill(false);\n    })\n  }\n});\nexport default UiParallax\n</script>\n  \n<template>\n  <component :is=\"tag\"\n             ref=\"el\"\n             class=\"parallax\"\n  >\n    <slot />\n  </component>\n</template>\n","<docs>\n  # ui-horizontal\n  > Horizontal animations on scroll with custom gsap\n  \n  @author Kevin Bastien <kevin@kffein.com>\n</docs>\n  \n<script lang=\"ts\">\nimport { defineComponent, reactive, toRefs, PropType } from 'vue';\nimport { templateRef, useElementSize, debouncedWatch } from '@vueuse/core';\nimport { until } from '@vueuse/shared';\nimport { gsap, ScrollTrigger } from 'vendors/gsap';\nimport useFlow from 'utils/flow';\nimport { store as InterfaceStore } from 'plugins/store/interface';\nimport { store as scrollStore } from 'components/SmoothScroll/store';\n\ninterface Data {\n  tlAnimHori?: O<gsap.core.Timeline>,\n  tlScroll?: ScrollTrigger,\n}\n  \nexport default defineComponent({\n  name: \"UiHorizontal\",\n  props: {\n    container: {\n      type: Boolean,\n      default: true,\n    },\n    /**\n      * Speed of horizontal scroll, 1 = same speed as the main scroll, 0.5 = faster, 1.5 = slower\n    */\n    speed: {\n      type: Number,\n      default: 1.5,\n    },\n    /**\n      * scrub for scroll animation in second, default 0 = same speed as scroll aka lag animation to catch up scroll\n    */\n    scrub: {\n      type: Number,\n      default: 0,\n    },\n    /**\n      * Pass a gsap timeline to be synced with our horizontal timeline.\n    */\n    animation: {\n      type: Object as PropType<O<gsap.core.Timeline>>,\n      default: undefined,\n    },\n    /**\n      * when passing an `animation` props, check if we need to round up animation total duration\n    */\n    roundDuration: {\n      type: Boolean,\n      default: true,\n    }\n  },\n  emits: ['progress'],\n  setup(props, {emit}) {\n    const el = templateRef<HTMLElement | null>('el', null)\n    const container = templateRef<HTMLElement | null>('container', null)\n    const scroll = templateRef<HTMLElement | null>('scroll', null)\n\n    const scrollSize = useElementSize(scroll)\n    const containerSize = useElementSize(container)\n\n    const { ready } = toRefs(scrollStore.state);\n    const { viewport } = toRefs(InterfaceStore.state);\n\n    const data: Data = reactive({\n      tlAnimHori: undefined,\n      tlScroll: undefined,\n    });\n\n    const { onInitUi } = useFlow()\n\n    onInitUi(() => {\n      if (InterfaceStore.isLayoutDesktop) {\n        setTimeout(() => {\n          setHorizontalScroll();\n        }, 500);\n      }\n    });\n\n    debouncedWatch(\n      viewport,\n      () => {\n        if (data.tlAnimHori) {\n          destroyHorizontalScroll()\n        }\n\n        if (InterfaceStore.isLayoutDesktop) {\n          setHorizontalScroll();\n        }\n      },\n      { debounce: 250, deep: true }\n    )\n\n    const setHorizontalScroll = () => {\n      until(ready).toBe(true).then(() => {\n        if (scroll.value) {\n          const element = scroll.value as HTMLElement;\n          gsap.set(element, {clearProps: 'all'});\n          data.tlAnimHori = gsap.timeline()\n            .to(element, {\n              xPercent: 0,\n              x: () => {\n                return -(scrollSize.width.value - (containerSize?.width.value * 1)) + \"px\"\n              },\n              ease: 'none',\n              duration: 1,\n            }, '0');\n\n          if (props.animation) {\n            if (props.roundDuration) {\n              props.animation.totalDuration(1);\n            }\n              data.tlAnimHori.add(props.animation, 0);\n          }\n\n          data.tlScroll = ScrollTrigger.create({\n            trigger: el.value,\n            start: 'top top',\n            end: () => {\n              // return `+=${scrollSize.width.value * 0.5}`; // ratio scrolll is 1/0.5, we substract 50% scrollwidth aka faster scroll\n              // return `+=${scrollSize.width.value * 1}`; ratio scroll 1/1\n              // return `+=${scrollSize.width.value * 1.5}`; // ratio scrolll is 1/1.5, we add 50% scrollwidth aka slower scroll\n              return `+=${scrollSize.width.value * props.speed}`; // based on props\n            },\n            onUpdate: (st) => {\n              emit('progress', st.progress);\n            },\n            pin: true,\n            // will help every other scrolltrigger to actually update with this\n            // aka when we have a horizontal cpn in the middle of our page.\n            anticipatePin: 1,\n            refreshPriority: 1,\n            // pinType: 'transform',\n            // pinSpacing: true,\n            scrub: props.scrub,\n            animation: data.tlAnimHori\n          });\n\n        }\n      })\n    }\n\n    const destroyHorizontalScroll = () => {\n      if (data.tlScroll && scroll.value) {\n        data.tlScroll.kill(true);\n        data.tlScroll = undefined;\n        emit('progress', 0);\n\n        gsap.set(scroll.value, {clearProps: true});\n      }\n    }\n  },\n});\n</script>\n    \n<template>\n  <div ref=\"el\" class=\"horizontal\">\n    <div ref=\"container\" :class=\"container ? '_container' : ''\">\n      <div ref=\"scroll\" class=\"scroll\">\n        <slot />\n      </div>\n    </div>\n  </div>\n</template>\n    \n<style lang=\"stylus\" scoped>\n  .horizontal  \n    overflow hidden\n\n  .scroll\n    position relative\n    width 100%\n    f(row, $align: center, $wrap: wrap)\n    z-index 20\n\n    +layout(desktop)\n      flex-wrap nowrap\n      width fit-content\n      // transform translate3d(0, 0, 0)\n      min-height var(--viewport-innerHeight)\n</style>\n  ","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 19.43 18.8\\\"><path d=\\\"M0,9.39H18.73\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" vector-effect=\\\"non-scaling-stroke\\\"/><path d=\\\"M9.81,18.45l8.92-9.05L9.81,.35\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" vector-effect=\\\"non-scaling-stroke\\\"/></svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 46.14 46.08\\\"><path d=\\\"M.35,45.73L45.61,.47\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" vector-effect=\\\"non-scaling-stroke\\\"/><path d=\\\"M45.64,43.61V.5H2.52\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" vector-effect=\\\"non-scaling-stroke\\\"/></svg>\\n\"","export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 61.96 65.46\\\"><path d=\\\"M30.88,0V64\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" vector-effect=\\\"non-scaling-stroke\\\"/><path d=\\\"M.35,33.51l30.49,30.49,30.49-30.49\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"1px\\\" vector-effect=\\\"non-scaling-stroke\\\"/><path d=\\\"M.01,64.96H61.96\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"1px\\\" vector-effect=\\\"non-scaling-stroke\\\"/></svg>\\n\"","<script lang=\"ts\">\nimport { getEnv } from 'config';\nimport { last } from 'lodash';\nimport { store as i18nStore } from 'plugins/i18n/store';\nimport { tryResolve } from 'router';\nimport { PropType, computed, defineComponent, ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport IconArrow from './assets/icon-arrow.svg?raw';\nimport IconBlank from './assets/icon-blank.svg?raw';\nimport IconDownload from './assets/icon-download.svg?raw';\n\nconst UiButton = defineComponent({\n  name: \"UiButton\",\n  props: {\n    /**\n      * Actual Label of the Button, will also feed the `title` value.\n    */\n    label: {\n      type: String,\n      default: ''\n    },\n    /**\n      * Theme / level of the Button\n    */\n    theme: {\n      type: String as PropType<ButtonTheme>,\n      default: undefined\n    },\n    /**\n      * Variant (control colors)\n    */\n    variant: {\n      type: String as PropType<ExperienceVariant>,\n      default: \"default\"\n    },\n    /**\n     * Inverse Color in dark mode\n    */\n    dark: {\n      type: Boolean,\n      default: false\n    },\n    /**\n      * Optional, if we need a title attr on the BUtton (for Icon btn or else.)\n    */\n    title: {\n      type: String,\n      default: undefined\n    },\n    /**\n      * Optional, Force a specific tag on the element. (semantic purpose) Else everything will be computed (router-link, a, button)\n    */\n    tag: {\n      type: String,\n      default: undefined\n    },\n    /**\n      * router link format\n    */\n    to: {\n      type: [Object, String],\n      default: undefined\n    },\n    /**\n      * classic url href\n    */\n    href: {\n      type: String,\n      default: undefined\n    },\n    /**\n      * same as href.\n    */\n    src: {\n      type: String,\n      default: undefined\n    },\n    /**\n      * if we need a target -> '_blank'\n    */\n    target: {\n      type: String,\n      default: undefined\n    },\n    /**\n      * for Custom icon\n    */\n    icon: {\n      type: String,\n      default: undefined\n    },\n    /**\n      * for Custom icon when button is actif/selected\n    */\n    iconSelected: {\n      type: String,\n      default: undefined\n    },\n    /**\n      * Set a selected state to the button\n    */\n    selected: {\n      type: Boolean,\n      default: false\n    },\n    /**\n      * for Download link\n    */\n    download: {\n      type: [Boolean, String],\n      default: undefined\n    },\n    /**\n      * display an icon or not.\n    */\n    arrow: {\n      type: Boolean,\n      default: false\n    },\n    /**\n      * direction of the icon with the label\n    */\n    direction: {\n      type: String as PropType<ButtonDirection>,\n      default: 'right'\n    },\n  },\n  setup(props) {\n    const options = { ...props }\n    const el = ref<O<any>>(undefined)\n\n    // ensure some props\n    if (!options.title) {\n      options.title = props.label\n    }\n\n    if (options.href && !props.to && i18nStore.locale) {\n      options.href = options.href.replace(getEnv(i18nStore.locale.env), i18nStore.locale.uri || '')\n      const route = tryResolve(options.href)\n\n      if (route && route.matched?.length > 0) {\n        options.to = { path: options.href }\n      } else {\n        options.target = '_blank';\n      }\n    }\n\n    if (!options.href\n      && props.to\n      && typeof props.to === 'object') {\n      const route = useRouter().resolve(props.to)\n      options.href = route.href\n    }\n    options.tag = computeTag(options)\n\n    // handle some downloadable link (filename, icon...)\n    options.href = options.href ?? props.src\n\n    if (props.arrow && !props.icon) {\n      options.icon = IconArrow\n    }\n\n    if (props.arrow && !props.icon && props.target == '_blank') {\n      options.icon = IconBlank\n    }\n\n    if (props.download) {\n      if (props.download === true && options.href) {\n        options.download = last(options.href.split('/'))\n        options.target = '_blank'\n      }\n      if (!props.icon || props.icon !== 'none') options.icon = IconDownload\n    }\n    return {\n      el,\n      ...options,\n      isSelected: computed(() => props.selected),\n      cptTag: computeTag(options),\n      cptTheme: computeTheme(options),\n      attrTitle: computedTitle(options)\n    }\n  },\n});\nexport default UiButton\n\n\n/** Here we could simply use IUiButtonProps\n * bt there is an exemple of how to do without Interface\n */\nfunction computeTheme<T extends { theme?: string, tag?: string }>({ theme, tag }: T): string {\n  if (theme) return theme\n  if (tag === 'a') return 'link'\n  if (tag === 'router-link') return 'primary'\n  return 'primary'\n}\n\nfunction computeTag({ tag, to, src, href, /*target, action*/ }: IUiButtonProps): string {\n  if (tag) return tag;\n  if (to) { return 'router-link'; }\n\n  const link = src || href\n  if (link) {\n    // if (!target && useRouter().resolve(link)) return 'to'\n    return 'a'\n  }\n  return 'button';\n}\nfunction computedTitle({ tag, title, label }: IUiButtonProps): Obj {\n  let attr\n  if (tag === 'button') {\n    attr = { 'aria-label': title || label }\n  } else {\n    attr = { title: title || label }\n  }\n  return attr\n}\n</script>\n\n<template>\n  <component :is=\"cptTag\"\n             ref=\"el\"\n             class=\"UiButton\"\n             :data-theme=\"cptTheme\"\n             :data-direction=\"direction\"\n             :href=\"href\"\n             :to=\"to\"\n             :target=\"target\"\n             :rel=\"target == '_blank' ? 'noopener' : undefined\"\n             :download=\"download || undefined\"\n             :arrow=\"arrow || undefined\"\n             v-bind=\"attrTitle\"\n  >\n    <span ref=\"labelEl\" class=\"inner\">\n      <!-- @slot icon - optional for icon or use prop.icon -->\n      <slot name=\"icon\">\n        <i v-if=\"icon\"\n           ref=\"iconEl\"\n           class=\"icon\"\n           v-html=\"isSelected && iconSelected ? iconSelected : icon\"\n        />\n      </slot>\n\n      <!-- @slot default - place for label -->\n      <slot v-if=\"cptTheme != 'icon'\">\n        <span v-if=\"label\"\n              class=\"label\"\n              v-text=\"label\"\n        />\n      </slot>\n\n      <!-- @slot icon - optional for icon or use prop.icon -->\n\n    </span>\n    <slot name=\"extra\" />\n  </component>\n</template>\n\n<style lang=\"stylus\" scoped>\n  .UiButton\n    display inline-block\n    border none\n    background none\n    margin 0\n    padding 0\n    outline none\n    cursor pointer\n    color $c-black\n    &[data-direction=\"left\"]\n      .icon\n        margin-left 0\n        rp(margin-right, 22px 15px)\n        &:last-child\n          margin-right 0\n        :deep()\n          svg\n            transform scaleX(-1)\n    \n    .inner\n      position relative\n      z-index 10\n      \n    .icon\n      height 0.9em\n      display inline-block\n      width auto\n      rp(margin-left, 22px 15px)\n      &:first-child\n        margin-left 0\n      :deep()\n        svg\n          display inline-block\n          width auto\n</style>\n","<docs>\n  # UiKit - Button - Icon\n  > *generic way to create any icon svg cta*\n</docs>\n  \n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\nimport UiButtonSimple from './index.vue';\n\n\nconst UiThemedButtonIcon = defineComponent({\n  name: \"UiButtonThemedIcon\",\n  components:{\n    UiButtonSimple,\n  },\n  extends:UiButtonSimple,\n  props:{\n    theme: {\n      type: String as PropType<ButtonTheme>,\n      default: 'icon'\n    },\n    highlight: {\n      type: Boolean,\n      default: true,\n    }\n  },\n});\nexport default UiThemedButtonIcon\n</script>\n  \n<template>\n  <ui-button-simple class=\"UiButtonThemed\"\n                    :data-theme=\"theme\"\n                    :data-variant=\"variant\"\n                    :data-dark=\"dark\"\n                    :data-selected=\"selected\"\n                    :data-highlight=\"highlight\"\n                    v-bind=\"$props\"\n  />\n</template>\n  \n<style lang=\"stylus\" scoped>\n  [data-theme=\"icon\"]\n    f-style(button)\n    position relative\n    rp(padding-top, 5px)\n    rp(padding-bottom, 5px)\n    rp(padding-left, 15px)\n    rp(padding-right, 15px)\n    rp(border-radius, 5px)\n    trans(all, $duration:.5s)\n    &[data-dark=\"true\"]\n      addVariantHover(true)\n    &[data-dark=\"false\"]\n      addVariantHover(false)\n\n    :deep()\n      .icon\n        margin 0\n        rp(width, 10px)\n        rp(height, 10px)\n        trans(color, $duration:.5s)\n  </style>\n  ","export default \"<svg fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 50 50\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M10.935 5.155 6.5 5v28.35h27.577l-8.35 8.252L29.166 45l14.303-14.072-2.762-2.73L29.17 16.733l-3.441 3.401 8.936 8.832-23.729-.039V5.155Z\\\" fill=\\\"currentColor\\\"/></svg>\\n\"","<docs>\n  # UiKit - Button - link\n  > *generic way to create any link cta*\n</docs>\n  \n<script lang=\"ts\">\nimport ArrowLinkSVG from \"assets/svg/arrow-link.svg?raw\";\nimport { store as responsiveStore } from \"components/Responsive/store\";\nimport { computed, defineComponent, PropType, toRefs } from 'vue';\nimport UiButtonSimple from './index.vue';\n\nconst UiThemedButtonLink = defineComponent({\n  name: \"UiButtonThemedlink\",\n  components:{UiButtonSimple},\n  extends:UiButtonSimple,\n  props:{\n    theme: {\n      type: String as PropType<ButtonTheme>,\n      default: 'link'\n    },\n    direction: {\n      type:  String as PropType<ButtonDirection>,\n      default: 'left'\n    },\n    icon: {\n      type: String,\n      default: ArrowLinkSVG\n    },\n    variant: {\n      type: String,\n      default: \"default\"\n    },\n    dark: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    return {\n      ...toRefs(props),\n      t : computed( () => 10),\n      hoverDistance: computed(() => `${10 * responsiveStore.desktop}px`),\n      hoverDistanceNeg: computed(() => `${-10 * responsiveStore.desktop}px`),\n    }\n  }\n});\nexport default UiThemedButtonLink\n</script>\n  \n<template>\n  <ui-button-simple class=\"UiButtonThemed\"\n                    :data-theme=\"theme\"\n                    :data-selected=\"selected\"\n                    :data-variant=\"variant\"\n                    :data-dark=\"dark\"\n                    v-bind=\"$props\"\n  />\n</template>\n  \n<style lang=\"stylus\" scoped>\n  [data-theme=\"link\"]\n    display inline-block\n    f-style(button)\n    position relative\n    &[data-dark=\"false\"]\n      addVariantProps($dark:false)\n    &[data-dark=\"true\"]\n      addVariantProps($dark:true)\n    &:after\n      content ''\n      absolute bottom 0px left\n      width calc('100% - 10px')\n      height 1px\n      background currentColor\n      transform scaleX(0)\n      transform-origin left center\n      trans(transform, $duration:0.75s)\n    \n    :deep()\n      .inner\n        .icon\n          transform translateX(v-bind(hoverDistance)) scaleX(-1)\n          transform-origin left center\n          rp(width, 10px)\n          rp(height, 10px)\n          rp(margin-right, 1px)\n          trans(all, $duration:0.5s)\n        .label\n          display inline-block\n          trans(transform, $duration:0.5s)\n\n    +hover()\n      :deep()\n        .inner\n          .icon\n            transform translate(0px, 0px) scaleX(0)\n          .label\n            transform translateX(v-bind(hoverDistanceNeg))\n      &:after\n        transform scaleX(1)\n\n    &:focus\n      :deep()\n        .inner\n          .icon\n            transform translate(0px, 0px) scaleX(0)\n          .label\n            transform translateX(v-bind(hoverDistanceNeg))\n      &:after\n        transform scaleX(1)\n\n        \n  </style>\n  ","export default \"<svg fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 2 6\\\">\\n<circle cx=\\\".75\\\" cy=\\\"1\\\" r=\\\".75\\\" fill=\\\"currentColor\\\"/>\\n<circle cx=\\\".75\\\" cy=\\\"5\\\" r=\\\".75\\\" fill=\\\"currentColor\\\"/>\\n</svg>\\n\"","<docs>\n  # UiKit - Button - nav\n  > *generic way to create any nav cta*\n</docs>\n\n<script lang=\"ts\">\nimport ArrowSVG from \"assets/svg/arrow.svg?raw\";\nimport PointsSVG from \"assets/svg/points.svg?raw\";\nimport { store as responsiveStore } from \"components/Responsive/store\";\nimport { computed, defineComponent, PropType } from 'vue';\nimport UiButtonSimple from './index.vue';\n\nconst UiThemedButtonNav = defineComponent({\n  name: \"UiButtonThemednav\",\n  components: { UiButtonSimple },\n  extends: UiButtonSimple,\n  props: {\n    theme: {\n      type: String as PropType<ButtonTheme>,\n      default: 'nav'\n    },\n    direction: {\n      type: String as PropType<ButtonDirection>,\n      default: 'left'\n    },\n    icon: {\n      type: String,\n      default: PointsSVG\n    },\n    expand: {\n      type: Boolean,\n      default: false\n    },\n    selected: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup() {\n    return {\n      ArrowSVG,\n      hoverDistance: computed(() => `${8 * responsiveStore.desktop}px`),\n      hoverDistanceNeg: computed(() => `${-8 * responsiveStore.desktop}px`),\n    }\n  }\n});\nexport default UiThemedButtonNav\n</script>\n\n<template>\n  <ui-button-simple class=\"UiButtonThemed\"\n                    :data-theme=\"theme\"\n                    :data-variant=\"variant\"\n                    :data-dark=\"dark\"\n                    :data-selected=\"selected\"\n                    :data-expand=\"expand\"\n                    :data-highlight=\"true\"\n                    v-bind=\"$props\"\n  >\n    <slot>\n      <span v-if=\"$props.label\"\n            ref=\"label\"\n            class=\"label\"\n            :data-label=\"$props.label\"\n      >{{ $props.label }}</span>\n      <i v-if=\"expand\"\n         class=\"icon-expand\"\n         v-html=\"ArrowSVG\"\n      />\n    </slot>\n  </ui-button-simple>\n</template>\n\n<style lang=\"stylus\" scoped>\n  // Mixins for hover - small refactoring\n  navHover()\n    &[data-expand=\"false\"]\n      opacity 1\n      .label\n        transform translateX(v-bind(hoverDistance))\n      :deep()\n        .inner\n          .icon\n            transform scaleX(1)\n    &[data-expand=\"true\"]\n      opacity 1\n      :deep()\n        .inner\n          .icon\n            transform scaleX(1) translateX(v-bind(hoverDistanceNeg))\n\n  [data-theme=\"nav\"]\n    position relative\n    user-select none\n    display inline-block\n    f-style(button)\n    trans(color)\n    trans(opacity)\n    \n    &:not(.router-link-exact-active)&:not(&[data-selected=\"true\"]), &[data-selected=\"false\"]\n      opacity .6\n\n    &[data-dark=\"true\"]\n      addVariantProps($dark:true)\n    &[data-dark=\"false\"]\n      addVariantProps($dark:false)\n\n    :deep()\n      .inner\n        width 100%\n        f(row, $align:center)\n        .icon\n          position absolute\n          rp(width, 8px)\n          rp(height, 8px)\n          trans(transform)\n          [data-selected=\"false\"]&\n            transform scale(0)\n          [data-selected=\"true\"][data-expand=\"true\"]&\n            transform translateX(v-bind(hoverDistanceNeg))\n        .icon-expand\n          position relative\n          rp(width, 7px)\n          rp(height, 7px)\n          top 2px\n          margin-left 8px\n          trans(transform)\n          trans(top)\n          transform rotate(90deg)\n          [data-selected=\"true\"]&\n            transform rotate(-90deg)\n            top 1px\n        svg\n          display block\n\n    .label\n      display block\n      [data-expand=\"false\"]&\n        trans(transform)\n\n    +hover()\n      navHover()\n    $:focus, &.active\n      navHover()\n</style>\n","export default \"<svg fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 50 50\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M12.5 3V0H0v12.5h3V3h9.5Zm0 44v3H0V37.5h3V47h9.5ZM50 12.5h-3V3h-9.5V0H50v12.5Zm-3 25h3V50H37.5v-3H47v-9.5ZM25 30a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z\\\" fill=\\\"currentColor\\\"/></svg>\\n\"","<docs>\n  # UiKit - Button - Primary\n  > *generic way to create any Primary cta*\n</docs>\n  \n<script lang=\"ts\">\nimport IconSVG from \"assets/svg/select.svg?raw\";\nimport { defineComponent, PropType, toRefs } from 'vue';\nimport UiButtonSimple from './index.vue';\n\nconst UiThemedButtonPrimary = defineComponent({\n  name: \"UiButtonThemedPrimary\",\n  components:{UiButtonSimple},\n  extends:UiButtonSimple,\n  props:{\n    theme: {\n      type: String as PropType<ButtonTheme>,\n      default: 'primary'\n    },\n    direction: {\n      type:  String as PropType<ButtonDirection>,\n      default: 'left'\n    },\n    icon: {\n      type: String,\n      default: IconSVG\n    }\n  },\n  setup(props) {\n    return {\n      ...toRefs(props),\n      IconSVG,\n    }\n  }\n});\nexport default UiThemedButtonPrimary\n</script>\n  \n<template>\n  <ui-button-simple class=\"UiButtonThemedPrimary\"\n                    :data-theme=\"theme\"\n                    :data-variant=\"variant\"\n                    :data-dark=\"dark\"\n                    :data-selected=\"selected\"\n                    :data-highlight=\"true\"\n                    v-bind=\"$props\"\n  >\n    <slot>\n      <span v-if=\"$props.label\"\n            class=\"label\"\n            :data-label=\"$props.label\"\n      >{{ $props.label }}</span>\n    </slot>\n  </ui-button-simple>\n</template>\n  \n<style lang=\"stylus\" scoped>\n  [data-theme=\"primary\"]\n    position relative\n    user-select none\n    display inline-block\n    f-style(button)\n    rp(padding-top, 10px)\n    rp(padding-bottom, 10px)\n    rp(padding-left, 15px)\n    rp(padding-right, 15px)\n    text-transform uppercase\n    rp(border-radius, 5px)\n    trans(background-color, $duration:.5s)\n    trans(color, $duration:.5s)\n    trans(border-color, $duration:.5s)\n    &[data-dark=\"true\"]\n      addVariantHover(true)\n    &[data-dark=\"false\"]\n      addVariantHover(false)\n\n    :deep()\n      .inner\n        .icon\n          transform none\n          rp(width, 10px)\n          rp(height, 10px)\n          margin-right 10px\n</style>\n  ","<docs>\n  # UiKit - Button - link\n  > *generic way to create any link cta*\n</docs>\n  \n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\nimport UiButtonSimple from './index.vue';\n\nconst UiButtonThemedTheme = defineComponent({\n  name: \"UiButtonThemedTheme\",\n  components:{UiButtonSimple},\n  extends:UiButtonSimple,\n  props:{\n    theme: {\n      type: String as PropType<ButtonTheme>,\n      default: 'theme'\n    },\n    subtitle: {\n      type: String,\n      default: null\n    }\n  },\n});\nexport default UiButtonThemedTheme\n</script>\n  \n<template>\n  <ui-button-simple class=\"UiButtonThemed\"\n                    :data-theme=\"theme\"\n                    :data-variant=\"variant\"\n                    :data-dark=\"dark\"\n                    :data-selected=\"selected\"\n                    :data-highlight=\"true\"\n                    v-bind=\"$props\"\n  >\n    <span v-if=\"$props.subtitle\"\n          class=\"subtitle\"\n          :data-label=\"$props.subtitle\"\n    >{{ $props.subtitle }}</span>\n    <slot>\n      <span v-if=\"$props.label\"\n            class=\"label\"\n            :data-label=\"$props.label\"\n      >{{ $props.label }}</span>\n    </slot>\n  </ui-button-simple>\n</template>\n  \n<style lang=\"stylus\" scoped>\n  [data-theme=\"theme\"]\n    display inline-block\n    position relative\n    f(center, $direction:column)\n    rp(width, 300px)\n    rp(padding-top, 42px)\n    rp(padding-bottom, 42px)\n    rp(border-radius, 5px)\n    &[data-dark=\"true\"]\n      addVariantHover(true)\n    &[data-dark=\"false\"]\n      addVariantHover(false)\n\n    span\n      display block\n\n    .label\n      f-style(h4)\n      text-transform uppercase\n      user-select none\n\n    .subtitle\n      f-style(button)\n      text-transform uppercase\n      margin-bottom 15px\n      user-select none\n  </style>\n  ","<docs>\n# UiKit - Button\n> *generic way to create a specific themed cta*\n</docs>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, PropType } from 'vue';\nimport IconCta from './Icon.vue';\nimport BaseCta from './index.vue';\nimport LinkCta from './Link.vue';\nimport NavCta from './Nav.vue';\nimport PrimaryCta from './Primary.vue';\nimport ThemeCta from './Theme.vue';\n\nconst UiThemedButton = defineComponent({\n  name: \"UiButtonThemed\",\n  components: {\n    PrimaryCta,\n    NavCta,\n    LinkCta,\n    ThemeCta,\n    IconCta,\n    BaseCta,\n  },\n  props:{\n    theme: {\n      type: String as PropType<ButtonTheme>,\n      default: 'link'\n    },\n  },\n  setup(props){\n    /* get dynamic component from cpn name */\n    const component = computed(():string => {\n      switch (props.theme) {\n        case 'primary':\n          return 'PrimaryCta';\n        case 'nav':\n          return 'NavCta';\n        case 'link':\n          return 'LinkCta';\n        case 'theme':\n          return 'ThemeCta';\n        case 'icon':\n          return 'IconCta';\n        case 'reset':\n        default:\n          return 'BaseCta';\n      }\n    });\n\n    return {\n      component,\n    }\n  }\n});\nexport default UiThemedButton\n</script>\n\n<template>\n  <component :is=\"component\"\n             class=\"UiButtonThemed\"\n             v-bind=\"$props\"\n             :animated=\"component !== 'BaseCta' ? undefined : false\"\n  >\n    <slot />\n  </component>\n</template>\n","<!-- eslint-disable @typescript-eslint/no-unused-expressions -->\n<docs>\n  # ui-picture\n  basic support of ui-picture\n  plus support of some helpers for api etc and be able to use webp, srcset, sizes...\n</docs>\n<script lang=\"ts\">\nimport { templateRef, until } from '@vueuse/core';\nimport scrollStore from 'components/SmoothScroll/store';\nimport { motion } from 'config';\nimport { ScrollTrigger } from 'vendors/gsap';\nimport { computed, defineComponent, nextTick, onMounted, PropType, ref, toRefs } from 'vue';\n\nconst UiPicture = defineComponent({\n  name: 'UiPicture',\n  props: {\n    src: {\n      type: String,\n      required: true,\n      default: undefined,\n    },\n    alt: {\n      type: String,\n      // required: true\n      default: null,\n    },\n    sizes: {\n      type: String,\n      // required: true\n      default: null,\n    },\n    width: {\n      type: [Number, String],\n      // required: true\n      default: null,\n    },\n    height: {\n      type: [Number, String],\n      // required: true,\n      default: undefined,\n    },\n    srcset: {\n      type: Object as PropType<Image[\"srcset\"]>,\n      default: undefined,\n    },\n    cover: {\n      type: String,\n      default: 'contain',\n    },\n    focalPoint: {\n      type: Object as PropType<Point>,\n      default: undefined,\n    },\n    /* please ensure to set false to 1st image (hero) */\n    lazy: {\n      type: Boolean,\n      default: true,\n    },\n    placeholder: {\n      type: String,\n      default: undefined,\n    },\n    parallax: {\n      type: Boolean,\n      default: false,\n    },\n    parallaxSpeed: {\n      type: Number,\n      default: 0.1,\n    },\n    parallaxDirection: {\n      type: Number,\n      default: 1, // 1=y -> -1=x\n    },\n    forceVisible: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    const { scrollable } = toRefs(scrollStore.state);\n\n    const el = templateRef<HTMLElement | null>('el', null)\n    const img = templateRef<HTMLElement | null>('img', null)\n    const visible = ref(!props.lazy);\n    const loaded = ref(false);\n\n    if(props.forceVisible) visible.value = true\n    /**\n     * @return focalPointPoint object\n     */\n    const position = computed(() => {\n      const focalPoint = props.focalPoint || { x: 0.5, y: 0.5 };\n      return `${focalPoint.x * 100}% ${focalPoint.y * 100}%`;\n    })\n\n    const mainSrc = computed(() => {\n      if (props.srcset?.default) {\n        return props.srcset.default.split(' ')[0] || props.src;\n      }\n      return props.src;\n    });\n\n    onMounted(() => {\n      const setLoaded = () => {\n        loaded.value = true\n      }\n\n      const imgEl = img.value as HTMLImageElement\n      imgEl?.complete\n        ? setLoaded()\n        : img.value?.addEventListener('load', setLoaded)\n    })\n\n    const lazyPlaceholder = computed(() => {\n      if (!motion || !props.lazy) {\n        return undefined\n      }\n      // if (loaded.value && visible.value) {\n      //   return undefined\n      // }\n      if (props.placeholder === undefined) {\n        return `data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${props.width} ${props.height}\"><rect fill=\"%23ccc\" width=\"${props.width}\" height=\"${props.height}\"/></svg>`\n      }\n      return props.placeholder\n    })\n\n\n    const initSt = async () => {\n      if (motion && props.lazy) {\n        await until(scrollable).toBe(true)\n        const st = ScrollTrigger.create({\n          // markers: true,\n          trigger: el.value,\n          start: 'top bottom',\n          end: 'bottom top',\n          onToggle: ({ isActive }: { isActive: boolean }) => {\n            if(!props.forceVisible) visible.value = isActive\n            if (isActive) {\n              nextTick(() => { st.kill(false) }) // only 1time ?\n            }\n          }\n        })\n        // force display image without motion\n      } else if (!motion) {\n        visible.value = true;\n      }\n    }\n    initSt();\n\n    return {\n      mainSrc,\n      position,\n      visible,\n      loaded,\n      lazyPlaceholder,\n    }\n  },\n});\nexport default UiPicture\n</script>\n\n<template>\n  <div ref=\"el\"\n       class=\"ui-picture wrapper -block\"\n       :data-cover=\"cover\"\n       :data-loaded=\"loaded\"\n       :data-visible=\"visible\"\n       :data-lazy=\"lazy\"\n       :data-parallax=\"parallax\"\n       :data-placeholder=\"lazyPlaceholder\"\n  >\n    <!--\n      many divs for clean integration...\n      if just bloc - placeholder fill all content\n      if inline-bloc - adds some gap after depending on line-height - + grow factor anim etc...\n      so .ui-picture block - .inside inline-block\n     -->\n    <div class=\"container -inline\">\n      <component :is=\"parallax ? 'ui-parallax' : 'picture'\"\n                 tag=\"picture\"\n                 :speed=\"parallaxSpeed\"\n                 :direction=\"parallaxDirection\"\n                 class=\"picture\"\n      >\n        <template v-if=\"visible || loaded\">\n          <source v-if=\"srcset?.webp\"\n                  key=\"webp\"\n                  type=\"image/webp\"\n                  :srcset=\"srcset.webp\"\n                  :sizes=\"sizes\"\n                  media=\"(min-width:100px)\"\n          >\n          <source v-if=\"srcset?.default\"\n                  key=\"standard\"\n                  :srcset=\"srcset.default\"\n                  :sizes=\"sizes\"\n                  media=\"(min-width:100px)\"\n          >\n        </template>\n        <img ref=\"img\"\n             class=\"img\"\n             v-bind=\"{\n               src: visible || loaded ? mainSrc : undefined,\n               ['data-src']: !visible ? mainSrc : undefined\n             }\"\n             :alt=\"alt\"\n             :sizes=\"sizes\"\n             :width=\"width\"\n             :height=\"height\"\n             :loading=\"lazy ? 'lazy' : undefined\"\n        >\n      </component>\n      <transition name=\"delay-fade\" :duration=\"2000\">\n        <img v-if=\"lazyPlaceholder\"\n             ref=\"placeholder\"\n             class=\"placeholder\"\n             role=\"presentation\"\n             :src=\"lazyPlaceholder\"\n             alt=\"\"\n        >\n      </transition>\n    </div>\n  </div>\n</template>\n\n<style lang=\"stylus\" scoped>\n  $grow-factor = 1.02\n  .delay-fade-enter-active\n  .delay-fade-leave-active\n    trans(opacity)\n    transition-delay 2s\n  .delay-fade-enter\n  .delay-fade-leave-to /* .fade-leave-active below version 2.1.8 */ \n    opacity 0\n    will-change opacity\n    \n  .ui-picture\n    position relative\n    overflow hidden\n    // wrapper block so no extra gap for blank between next <tag>\n    &.wrapper\n      display block\n      line-height 0\n      // container inline so image+placeholder not force to take 100% width\n      >.container\n        display inline-block\n        position relative\n        overflow hidden\n        size 100%\n        text-align center \n\n    &[data-parallax=\"true\"]\n    &[data-parallax=\"true\"][data-lazy=\"true\"]&\n      .picture .img\n        transform scale(1.2)\n\n    &[data-loaded=\"true\"]\n      .placeholder\n        opacity 0\n        transition-delay 500ms\n\n    &:not([data-cover])\n      .img\n        height auto\n    &[data-cover=\"none\"]\n      .img\n        height auto\n    &[data-cover=\"cover\"]\n      .picture\n        size 100%\n      .img\n        object-fit cover\n\n    &[data-cover=\"contain\"]\n      .placeholder\n        position relative\n      .picture\n        display inline-block\n        absolute 0\n        size 100%\n      .img\n        object-fit contain\n      &:not([data-placeholder]) .picture\n        position static\n\n    &[data-cover=\"cover\"]\n    &[data-cover=\"contain\"]\n      .img\n        object-position v-bind(position)\n        // transform-origin v-bind(position)\n        // height auto\n        // absolute 0\n        size 100%\n\n    &[data-cover=\"cover\"]\n      >.container\n        absolute 0\n      \n      .picture\n        .img\n          absolute 0\n          size 100%\n    \n    .img\n      [data-lazy=\"true\"]&\n        display block \n        opacity 0\n        transform scale($grow-factor)\n        transition all 1.6s easing('out-quad') 0.2s\n        [data-visible=\"true\"][data-loaded=\"true\"]&\n          opacity 1\n          transform scale(1.0)\n          will-change opacity, transform\n    \n    .picture\n    .img\n      position relative\n      display block\n      z-index 2\n      pointer-events none\n\n    .placeholder\n      absolute 0\n      size 100%\n      z-index 1\n      transform scale($grow-factor)\n      pointer-events none\n      object-fit v-bind(cover)\n      object-position v-bind(position)\n      trans()\n      opacity 0\n      // transform-origin v-bind(position)\n\n</style>\n","import { each } from 'lodash';\nimport { App, defineAsyncComponent } from 'vue';\n\n// keep basic cpns no async\nimport UiAnimation from './Animation/index.vue';\nimport UiParallax from './Parallax/index.vue';\nimport UiHorizontal from './Horizontal/index.vue';\nimport UiButton from './Button/Themed.vue';\nimport UiPicture from './Picture/index.vue';\n\n// simple bar css\nimport 'simplebar-vue/dist/simplebar.min.css';\n\nconst components = {\n  'ui-animation':       UiAnimation,\n  'ui-parallax':        UiParallax,\n  'ui-horizontal':      UiHorizontal,\n  'ui-button':          UiButton,\n  'ui-picture':         UiPicture,\n  'ui-accordions':      defineAsyncComponent(()=>import('./Accordions/Items.vue')),\n  'ui-accordions-item': defineAsyncComponent(()=>import('./Accordions/Item.vue')),\n  'ui-lightbox':        defineAsyncComponent(()=>import('./Lightbox/index.vue')),\n  'ui-marquee':         defineAsyncComponent(()=>import('./Marquee/index.vue')),\n  'ui-pagination':      defineAsyncComponent(()=>import('./Pagination/index.vue')),\n  'ui-search':          defineAsyncComponent(()=>import('./Search/index.vue')),\n  'ui-swiper':          defineAsyncComponent(()=>import('./Swiper/index.vue')),\n  'ui-video':           defineAsyncComponent(()=>import('./Video/index.vue')),\n  'ui-wysiwyg':         defineAsyncComponent(()=>import('./Wysiwyg/index.vue')),\n  'ui-scroll':          defineAsyncComponent(()=>import('simplebar-vue')),\n  /* OPTIONALS - check _optional folder */\n  // 'ui-pdf':             defineAsyncComponent(()=>import('./PDF/index.vue')),\n}\n\nexport const install = function(app:App):void{\n  each(components, (component, name)=>{\n    app.component(name, component)\n  })\n}\n\nexport default install\n\n","\nimport { client, getEnv } from 'config';\nimport { App } from 'vue';\nimport { VueReCaptcha } from 'vue-recaptcha-v3';\n\nexport default function install(app:App):void{\n  if (client && getEnv('VITE_RECAPTCHA_ENABLED') && getEnv('VITE_RECAPTCHA_CLIENT_KEY')) {\n    app.use(VueReCaptcha, { siteKey: getEnv('VITE_RECAPTCHA_CLIENT_KEY') } as any)\n  }\n}\n","/**\n * PreviewStore\n * just a little store to handle if we are currently inside a craft preview\n * \n * in that case we dont want any intro anim, we just want to pass query to our api calls and display the page with the temporary data.\n * \n * https://...?x-craft-live-preview=OOVZIL95sO\n */\nimport { whenever } from '@vueuse/core';\nimport { client } from 'config';\nimport { defineStore } from 'pinia';\nimport useRouter from 'plugins/router';\nimport { pinia } from 'plugins/store/index';\nimport { computed, ref } from 'vue';\n\ninterface IPreviewStore extends Obj{\n  active: boolean,\n  preview?: string,\n  token?: string,\n}\n\nconst useStore = defineStore('preview', () => {\n\n  const state = ref<IPreviewStore>({\n    active: false,\n    preview: undefined,\n    token: undefined,\n  });\n\n  //Actions\n  const init = () => {\n    if (client) {\n      const router = useRouter()\n      // wait first change in case.\n      whenever(router.currentRoute, () => {\n        const route = router.currentRoute;\n        if (route.value.query['x-craft-live-preview'] && route.value.query['token']) {\n          state.value.preview = route.value.query['x-craft-live-preview'] as string;\n          state.value.token = route.value.query['token'] as string;\n          state.value.active = true;\n        }\n      })\n    }\n  }\n \n  return {\n    state,\n    \n    //getters\n    active: computed( () => state.value.active), \n    preview: computed( () => state.value.preview),\n    token: computed( () => state.value.token),\n\n    //actions\n    init,\n  }\n});\n\nexport const store = useStore(pinia);\nexport default store;\n","// import App from './App.vue';\nimport { createHead } from '@vueuse/head';\nimport TheApp from 'components/TheApp.vue';\nimport installUiKit from 'components/UiKit';\nimport config, { DEBUG, client, getEnv } from 'config';\nimport { each } from 'lodash';\nimport i18n, { store as i18nStore } from 'plugins/i18n';\nimport { App, createApp, nextTick } from 'vue';\n// import installKoddeinVueForm from 'components/UiKit/KoddeinVueForm'\nimport useRecaptcha from 'plugins/recaptcha';\nimport useRouter, { observeFirstLocale } from 'plugins/router';\nimport AppStore from 'plugins/store/app';\nimport { store as globalsStore } from 'plugins/store/globals';\nimport { pinia } from 'plugins/store/index';\nimport InterfaceStore from 'plugins/store/interface';\nimport { store as previewStore } from 'plugins/store/preview';\nimport { store as trackingStore } from 'plugins/store/tracking';\nimport { Router } from 'vue-router';\n\n// import vToolTip from 'vendors/v-tooltip';\n\ndeclare global {\n  interface Window {\n    Userback: any\n    Cookiebot: any\n    // __ENV:O<Obj> // @see config/env\n    // __GLOBALS:O<Obj> // @see plugins/store/globals\n    __CACHE: O<Obj>\n    __PAGE: O<Obj>\n    __NEWS: O<Obj>\n    __SEARCH: O<Obj>\n    __TIMESTAMP: number\n    __ROUTES?: any\n    prerenderReady: boolean\n    isPrerender: boolean\n  }\n}\n/** main setup sequence\n * async because if devmode must async load route before\n * - kinda hack - no effet on prod since no file to load\n */\nasync function setup() {\n  const router = useRouter();\n  const head = createHead()\n\n  const app = createApp(TheApp)\n    .use(i18n)\n    .use(pinia)\n    .use(router)\n    .use(head)\n  // .use(vToolTip)\n\n  import('vendors/v-tooltip')\n    .then(m => m.default)\n    .then(vToolTip => app.use(vToolTip))\n\n  import('vendors/swiperjs')\n\n  // Handle Craft CMS preview\n  previewStore.init();\n\n  // Init recaptcha if needed\n  useRecaptcha(app);\n\n  // Init userback qa scripts\n  if (client && getEnv('VITE_USERBACK_FRONTEND_IS_ACTIVATE') && getEnv('VITE_USERBACK_ACCESS_TOKEN')) {\n    window.Userback = window.Userback || {};\n    window.Userback.access_token = getEnv('VITE_USERBACK_ACCESS_TOKEN');\n    const userback = document.createElement('script');\n    userback.async = true;\n    userback.src = 'https://static.userback.io/widget/v1.js';\n    (document.head || document.body).appendChild(userback);\n  }\n\n  // Init Tracking - pass router as params\n  const plugins = trackingStore.INSTALL(router);\n  if (plugins.length) {\n    each(plugins, (plugin) => {\n      app.use(plugin.install, plugin.opts);\n    });\n  }\n\n  // install our global UI Kit components\n  installUiKit(app)\n  // can decide to install all the complete form system globally\n  // installKoddeinVueForm(app)\n\n  // wait locale before 1st render app so i18n pseudo ready etc\n  observeFirstLocale(() => {\n    // init interface - modernzr etc.\n    InterfaceStore.init()\n    // SET LOCALE HERE - then mount\n    i18nStore.setLocaleByName(\"fr\")\n    // load globals api\n    globalsStore.LOAD(\"fr\")\n\n    nextTick(() => {\n      AppStore.setAppReady()\n    })\n    app.mount('#app')\n  })\n\n  silentSomeWarns(app)\n  if (DEBUG) addDebugInConsole({ app, router })\n}\n\nexport default setup()\n\n\n\n// createApp(App).mount('#app')\n\n/**\n * Add extra stuff on `window` global for easy console debug\n */\ntype addDebugInConsolePayload = {app:App, router:Router}\nasync function addDebugInConsole(tools:addDebugInConsolePayload){\n  const debugTools = { ...tools, config, i18n, getEnv, store:pinia }\n  each(debugTools, (value, key)=>{\n    /* @ts-expect-error */\n    window[`$${key}`] = value;\n  })\n  window[`_`] =  await import(/* webpackChunkName: \"debug-lodash\" */'lodash').then(m=>m.default);\n  /* @ts-expect-error */\n  window['USE_PWA'] = import.meta.env.USE_PWA\n\n  document.documentElement.dataset.debug = 'true'\n}\n\n\n// Unregister service workers if no pwa mode\nif (!import.meta.env.USE_PWA) {\n  navigator?.serviceWorker?.getRegistrations()\n    .then(registrations => {\n      for (const registration of registrations) {\n        registration.unregister();\n      }\n    });\n}\n\nfunction silentSomeWarns(app: App) {\n  /** may silent some warnings */\n  app.config.warnHandler = (msg, instance, trace) => {\n    console.debug('[warn] ', { msg, instance, trace });\n    const msgs = [\n      'built-in or reserved HTML elements as component id: component',\n      '\"class\" is a reserved attribute and cannot be used as component prop',\n      'Cannot find element: #__nuxt']\n\n    if (msgs.some((warning) => msg.includes(warning))) return\n    console.warn('[Vue warn]: '.concat(msg).concat(trace))\n  }\n\n}\n"],"file":"assets/app-8gBICEsG.js"}