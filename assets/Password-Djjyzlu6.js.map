{"version":3,"file":"Password-Djjyzlu6.js","sources":["../../src/vue/src/components/UiKit/KoddeinVueForm/assets/svg/eye.svg?raw","../../src/vue/src/components/UiKit/KoddeinVueForm/Field/Password.vue"],"sourcesContent":["export default \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 21.96 20.89\\\">\\n  <g>\\n    <path d=\\\"M.25,9.3C2.33,5.52,6.35,2.95,10.98,2.95s8.65,2.57,10.73,6.36c.34,.61,.34,1.67,0,2.28-2.08,3.79-6.1,6.36-10.73,6.36S2.33,15.38,.25,11.59c-.34-.61-.34-1.67,0-2.28h0Zm10.73,7.03c3.25,0,5.89-2.64,5.89-5.89s-2.64-5.89-5.89-5.89-5.89,2.64-5.89,5.89,2.64,5.89,5.89,5.89Z\\\" fill=\\\"currentColor\\\"/>\\n    <path d=\\\"M7.87,10.45c0,1.72,1.39,3.11,3.11,3.11s3.11-1.39,3.11-3.11-1.39-3.11-3.11-3.11-3.11,1.39-3.11,3.11Z\\\" fill=\\\"currentColor\\\"/>\\n  </g>\\n  <path class=\\\"line\\\" d=\\\"M1.67,1L20.56,19.89\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-linecap=\\\"round\\\" stroke-width=\\\"2\\\"/>\\n</svg>\\n\"","<docs>\n# KoddeinFormPassword\n> Password field\n\n@author Nicolas Husson <nicolas@kffein.com>\n@author Kevin Bastien <kevin@kffein.com>\n</docs>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, toRefs, watch, computed } from 'vue';\nimport IconEye from '../assets/svg/eye.svg?raw';\n\ninterface Data {\n  showPassword: boolean,\n  internalValue?: string,\n}\n\nconst KoddeinFormPassword = defineComponent({\n  name: \"KoddeinFormPassword\",\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n    name: {\n      type: String,\n      default: undefined,\n    },\n    autocomplete: {\n      type: String,\n      default: undefined,\n    },\n    /** input typ */\n    type: {\n      type: String,\n      required: true,\n    },\n    placeholder: {\n      type: String,\n      default: undefined,\n    },\n    /** input value */\n    value: {\n      type: String,\n      default: undefined,\n    },\n    /** input error */\n    error: {\n      type: String,\n      default: undefined,\n    },\n    /** aria-label text */\n    ariaLabel: {\n      type: String,\n      default: undefined,\n    },\n  },\n  emits: ['inputChange', 'onFocus', 'onBlur'],\n  setup(props, { emit }){\n    const data:Data = reactive(\n      {\n        showPassword: false,\n        internalValue: undefined,\n      }\n    );\n\n    // change input type to text or not - will show password\n    const inputType = computed(()=> {\n      return data.showPassword ? 'text' : props.type;\n    });\n\n    const toggleShow = () => {\n      data.showPassword = !data.showPassword;\n    };\n\n    /**\n     * Watch value, on value update -> set internal value\n     */\n    watch(\n      ()=>props.value,\n      (value) => { \n        data.internalValue = value;\n      },\n      { immediate:true }\n    )\n\n    /**\n     * Watch internal value, on value update -> send value to parent\n     */\n    watch(\n      ()=>data.internalValue,\n      (value) => { \n        if (value === props.value) return;\n        emit('inputChange', value);\n      },\n      // { immediate:true }\n    )\n\n    const focus = () => {\n      emit('onFocus');\n    }\n    const blur = () => {\n      emit('onBlur');\n    }\n    \n    return {\n      ...toRefs(data), //data\n      IconEye,\n      inputType,\n      toggleShow,\n      isFocus: focus,\n      isBlur: blur,\n    }; \n  },\n});\nexport default KoddeinFormPassword\n</script>\n\n<template>\n  <div :data-show-password=\"showPassword || undefined\"\n       class=\"input-password-wrapper\"\n  >\n    <input :id=\"id\"\n           v-model=\"internalValue\"\n           :type=\"inputType\"\n           :placeholder=\"placeholder\"\n           :autocomplete=\"autocomplete\"\n           :name=\"name\"\n           class=\"input\"\n           spellcheck=\"false\"\n           @focus=\"isFocus\"\n           @blur=\"isBlur\"\n    >\n    <button tabIndex=\"-1\"\n            type=\"button\"\n            class=\"icon toggle-password\"\n            @click.prevent=\"toggleShow\"\n    >\n      <span class=\"svg\" v-html=\"IconEye\" />\n    </button>\n  </div>\n</template>\n\n<style lang=\"stylus\" scoped>\n  /**\n   * TABLE OF CONTENT\n   * --------\n   *  - LAYOUT\n   *  - FILE\n   *  - THEMES\n   *  - DEBUG\n   *  - NO_SCOPE\n   */\n\n  //  ===LAYOUT===\n  $c-f-main ?= black\n\n  .input-password-wrapper\n    position relative\n    > .input\n      width 100%\n\n  .toggle-password\n    absolute right 10px top 50%\n    transform translateY(-50%)\n    rp(width, 22px 22px)\n    rp(height, 15px 15px)\n    margin 0\n    padding 0\n    background none\n    border none\n    reset-btn()\n    cursor pointer\n\n  .icon :deep(svg) \n    color $c-f-main\n\n  .icon :deep(.line)  \n    opacity 0\n    trans(opacity)\n\n  .input-password-wrapper[data-show-password]\n    .icon :deep(.line) \n      opacity 1\n\n  //  ===DEBUG===\n  [data-debug-mode=\"true\"] .KoddeinFormPassword\n    //\n</style>\n"],"names":["IconEye","KoddeinFormPassword","defineComponent","props","emit","data","reactive","inputType","computed","toggleShow","watch","value","focus","blur","toRefs","_hoisted_1","_sfc_render","showPassword","$setup","$data","$options","_openBlock","_createElementBlock","_ctx","_withDirectives","_createElementVNode","placeholder","_cache","$event","name","args","internalValue","_hoisted_2","_vModelDynamic","_withModifiers","_hoisted_3"],"mappings":"+LAAA,MAAeA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECiBTC,EAAsBC,EAAgB,CAC1C,KAAM,sBACN,MAAO,CACL,GAAI,CACF,KAAM,OACN,SAAU,EACZ,EACA,KAAM,CACJ,KAAM,OACN,QAAS,MACX,EACA,aAAc,CACZ,KAAM,OACN,QAAS,MACX,EAEA,KAAM,CACJ,KAAM,OACN,SAAU,EACZ,EACA,YAAa,CACX,KAAM,OACN,QAAS,MACX,EAEA,MAAO,CACL,KAAM,OACN,QAAS,MACX,EAEA,MAAO,CACL,KAAM,OACN,QAAS,MACX,EAEA,UAAW,CACT,KAAM,OACN,QAAS,MAAA,CAEb,EACA,MAAO,CAAC,cAAe,UAAW,QAAQ,EAC1C,MAAMC,EAAO,CAAE,KAAAC,GAAO,CACpB,MAAMC,EAAYC,EAChB,CACE,aAAc,GACd,cAAe,MAAA,CAEnB,EAGMC,EAAYC,EAAS,IAClBH,EAAK,aAAe,OAASF,EAAM,IAC3C,EAEKM,EAAa,IAAM,CAClBJ,EAAA,aAAe,CAACA,EAAK,YAC5B,EAKAK,EACE,IAAIP,EAAM,MACTQ,GAAU,CACTN,EAAK,cAAgBM,CACvB,EACA,CAAE,UAAU,EAAK,CACnB,EAKAD,EACE,IAAIL,EAAK,cACRM,GAAU,CACLA,IAAUR,EAAM,OACpBC,EAAK,cAAeO,CAAK,CAAA,CAG7B,EAEA,MAAMC,EAAQ,IAAM,CAClBR,EAAK,SAAS,CAChB,EACMS,EAAO,IAAM,CACjBT,EAAK,QAAQ,CACf,EAEO,MAAA,CACL,GAAGU,EAAOT,CAAI,EACd,QAAAL,EACA,UAAAO,EACA,WAAAE,EACA,QAASG,EACT,OAAQC,CACV,CAAA,CAEJ,CAAC,EAlHDE,EAAA,CAAA,oBAAA,+EAuHQC,EAAoBC,EAAAA,EAAAA,EAAYC,EAAIC,EAASC,EAAA,CACzC,OAAAC,EAAA,EAAyBC,EAAA,MAAA,CAAA,qBAAAC,EAAA,cAAA,wCAxHrCC,EAAAC,EAAA,QAAA,CA4HY,GAAIF,EAAEhB,GACN,sBAAamB,EAAW,CAAA,IAAAC,EAAA,CAAA,EAAAC,GAAAL,EAAA,cAAAK,GACxB,KAAAL,EAAA,UACA,YAAMM,EAAI,YACX,aAAaN,EAAA,aACb,KAAUA,EAAA,KACT,MAAK,QACL,WAAI,QAnIhB,QAAAI,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,IAAAG,IAAAP,EAAA,SAAAA,EAAA,QAAA,GAAAO,CAAA,GAAA,OAAAH,EAAA,CAAA,IA2HoBI,EAAa,CAAA,EAAA,IAAAD,IAAAP,EAAA,QAAAA,EAAA,OAAA,GAAAO,CAAA,EAAA,EAAA,KAAA,GAAAE,CAAA,EAAA,CAU7B,CAMSC,EAAAV,EAAA,aAAA,CAAA,CAAA,EALYE,EAAA,SAAA,CACb,SAAM,KACL,KAAA,SAAA,MAAA,uBAEP,QAAqCE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAO,EAAA,IAAAJ,IAAAP,EAAA,YAAAA,EAAA,WAAA,GAAAO,CAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,GAAX9B,OAAO,CAAA,MAAA,yBA1IvC,EAAA,KAAA,EAAAmC,CAAA,CAAA,CAAA"}