{"version":3,"mappings":"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","names":["_sfc_main$1","defineComponent","props","emit","onInitUi","useFlow","el","templateRef","discover","title","subtitle","descriptionEl","gsap","_a","animateIn","animateOut","launchAnimation","toRefs","arrow","_hoisted_1","_hoisted_2","_component_ui_button","_resolveComponent","_openBlock","_createElementBlock","_createElementVNode","_ctx","_hoisted_3","_hoisted_4","_createVNode","cta","imageClaude","imageBackground","_sfc_main","Hero","SoundButton","router","useRouter","toobig","computed","interfaceStore","done","loaded","loaderStore","BackgroundImage","ClaudeImage","isLeaving","ref","Scene","getData","readyToRender","usePageFlow","axios","data","__vitePreload","visibleSceneIndex","appStore","stopWatchInactive","ui","until","useWebGL","emitter","EVENTS","onClickTheme","onPageTransition","animate","watch","inactive","sound","playSound","changeScene","index","oldScene","getActiveSceneAt","scene","updateBgColor","MenuStore","tl","onDiscover","page","provide","switchRoute","route","routeParams","ContainerRatio","params","tryOnUnmounted","clearWebGL","SoundOnSVG","SoundOffSVG","_normalizeClass","_component_SoundButton","_createCommentVNode","_createBlock","_component_Hero","_mergeProps","_component_ui_picture"],"ignoreList":[],"sources":["../../src/vue/src/pages/Home/blocks/Hero.vue","../../src/vue/src/pages/Home/img/MH-CGingras-184.jpg","../../src/vue/src/pages/Home/img/background-image.png","../../src/vue/src/pages/Home/index.vue"],"sourcesContent":["<docs>\n  # HeroHome\n  > The hero for homepage\n  \n  @author Kffein <contact@kffein.com>\n</docs>\n\n<script lang=\"ts\">\nimport { templateRef, VueInstance } from \"@vueuse/core\";\nimport arrow from 'assets/svg/arrow.svg?raw';\nimport { gsap } from \"vendors/gsap\";\nimport { defineComponent, toRefs } from 'vue';\n//import { STEPS } from \"../webgl/LineScene\";\nimport useFlow from 'utils/flow';\n\nexport default defineComponent({\n  name: \"HeroHome\",\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    subtitle: {\n      type: String,\n      default: '',\n    },\n    description: {\n      type: String,\n      default: '',\n    },\n    cta: {\n      type: String,\n      default: '',\n    },\n  },\n  emits: [\"discover\"],\n  setup(props, { emit }) {\n    const { onInitUi } = useFlow();\n    const el = templateRef<HTMLElement>(\"el\");\n    const discover = templateRef<VueInstance>(\"Discover\");\n    const title = templateRef<HTMLElement>(\"Title\");\n    const subtitle = templateRef<HTMLElement>(\"Subtitle\");\n    const descriptionEl = templateRef<HTMLElement>(\"Description\");\n\n    onInitUi(() => {\n      gsap.timeline()\n        .set(title.value, { scale: .9, opacity: 0, })\n        .set(subtitle.value, { yPercent: -50, opacity: 0, })\n        .set(descriptionEl.value, { yPercent: 50, opacity: 0, })\n        .set(discover.value?.$el, { yPercent: -50, opacity: 0, });\n    });\n\n    // Tween to display hero elements \n    const animateIn = () => {\n      gsap.timeline()\n        .add(() => {\n          el.value.classList.remove(\"hidden\")\n        }, 0)\n        .to(title.value, { scale: 1, opacity: 1, ease: \"power4.inOut\", duration: 1.5 }, 0)\n        .to(subtitle.value, { yPercent: 0, opacity: 1, ease: \"power4.out\", duration: 1.5 }, .8)\n        .to(descriptionEl.value, { yPercent: 0, opacity: 1, ease: \"power4.out\", duration: 1.5 }, .8)\n        .to(discover.value?.$el, { yPercent: 0, opacity: 1, ease: \"power4.out\", duration: 1.5 }, .8);\n    }\n\n    // Tween to hide hero elements \n    const animateOut = () => {\n      gsap.timeline()\n        .to(el.value, { opacity: 0, clearProps: \"all\", ease: \"power4.out\", duration: .7 }, 0)\n        .add(() => {\n          el.value.classList.add(\"hidden\")\n        }, .5)\n    }\n\n    const launchAnimation = () => {\n      emit('discover');\n    }\n\n    return {\n      ...toRefs(props),\n      //\n      animateIn,\n      animateOut,\n      launchAnimation,\n      arrow\n    };\n  },\n});\n</script>\n\n<template>\n  <section ref=\"el\"\n           class=\"heroHome\"\n           :data-dark=\"false\"\n  >\n    <span ref=\"Subtitle\"\n          class=\"subtitle\"\n          v-html=\"subtitle\"\n    />\n    <h1 ref=\"Title\"\n        class=\"title\"\n        v-html=\"title\"\n    />\n    <div ref=\"Description\"\n         class=\"description\"\n         v-html=\"description\"\n    />\n\n    <ui-button ref=\"Discover\"\n               class=\"cta\"\n               theme=\"primary\"\n               :icon=\"arrow\"\n               direction=\"right\"\n               :label=\"cta\"\n               @click=\"launchAnimation\"\n    />\n  </section>\n</template>\n\n<style lang=\"stylus\" scoped>\n  .heroHome\n    absolute 0\n    //size 100% auto\n    margin 10px\n    f(center, $direction:column)\n    color $c-dark_blue_udm\n    text-align center\n    border 1px solid $c-dark_blue_udm\n    border-radius 10px\n    opacity 1\n    trans(all, 2s)\n    \n    &.hidden\n      pointer-events none\n      opacity 0\n      margin 0\n      //border 0 solid $c-dark_blue_udm\n\n\n    .title\n      f-style(h1)\n      text-align center\n      will-change transform\n\n      :deep()\n        .italic\n          font-style italic\n        .upper\n          text-transform uppercase\n\n    .subtitle\n      f-style('h2', $uppercase: true)\n      rp(margin-bottom, 40px)\n\n    .description\n      rp(margin-top, 60px)\n      f-style('text14', $uppercase: true)\n      rp(max-width, 580px)\n      :deep()\n        p + p\n          rp(margin-top, 20px)\n\n    .cta\n      absolute bottom\n      bottom 10px\n      right 10px\n      \n  </style>\n","export default \"__VITE_ASSET__CHwlquDq__\"","export default \"__VITE_ASSET__D3irq2Sa__\"","<docs>\n  # PageHome\n  > The homepage\n  \n  @author Kffein <contact@kffein.com>\n</docs>\n\n<script lang=\"ts\">\nimport { templateRef, toRefs, tryOnUnmounted, until, VueInstance } from '@vueuse/core';\nimport SoundOffSVG from \"assets/svg/sound_off.svg?raw\";\nimport SoundOnSVG from \"assets/svg/sound_on.svg?raw\";\nimport axios from 'axios';\nimport { WebGLSceneInterface } from 'components/WebGL/gl';\nimport { store as MenuStore } from 'components/ui/Header/store';\nimport loaderStore from 'components/ui/Loader/store';\nimport emitter, { EVENTS } from \"plugins/store/events\";\nimport { clearWebGL, getActiveSceneAt, updateBgColor, useWebGL } from 'plugins/webgl/three';\nimport { store as appStore } from 'store/app';\nimport { store as interfaceStore } from \"store/interface\";\nimport SoundButton from \"ui/SoundButton.vue\";\nimport usePageFlow from 'utils/flow/page';\nimport { gsap } from \"vendors/gsap\";\nimport { computed, defineComponent, provide, ref, watch, WatchStopHandle } from 'vue';\nimport { useRouter } from 'vue-router';\nimport Hero from './blocks/Hero.vue';\nimport imageClaude from './img/MH-CGingras-184.jpg';\nimport imageBackground from './img/background-image.png';\n\nexport interface VueAnimate extends VueInstance {\n  animateIn(): void;\n  animateOut(): void;\n}\nexport default defineComponent({\n  name: \"PageHome\",\n  components: {\n    Hero,\n    SoundButton\n  },\n  setup() {\n    const router = useRouter();\n    const toobig = computed(() => interfaceStore.isViewportTooBig);\n    const { done, loaded } = toRefs(loaderStore.state);\n    const Hero = templateRef<VueAnimate>(\"Hero\");\n    const el = templateRef<HTMLElement>(\"el\");\n    const BackgroundImage = templateRef<VueInstance>(\"BackgroundImage\");\n    const ClaudeImage = templateRef<VueInstance>(\"ClaudeImage\");\n    const isLeaving = ref(false);\n    const Scene = templateRef<HTMLElement>(\"Scene\");\n\n    const { onInitUi, getData, readyToRender } = usePageFlow<PageHome>({\n      load() {\n        return axios.get(`/home/data.json`)\n          .then(({ data }) => {\n            return {\n              ...data\n            }\n          })\n      },\n      ui: {\n        library: () => import(\"./blocks/webgl/LibraryScene\"),\n        line: () => import(\"./blocks/webgl/LineScene\"),\n      },\n    });\n\n    const visibleSceneIndex = ref(appStore.introSeen ? 1 : 0);\n\n    let stopWatchInactive : WatchStopHandle | null = null;\n\n    onInitUi(async ({ ui }) => {\n\n      await until(done).toBe(true);\n\n      useWebGL(\n        [\n          {\n            glScene: ui.line.default,\n            disabled: visibleSceneIndex.value !== 0,\n\n          },\n          {\n            glScene: ui.library.default,\n            disabled: visibleSceneIndex.value !== 1\n          },\n        ], { antialias: true, canvasContainer: Scene.value, bgColor: '#192096', alpha: true },);\n\n      appStore.setAppBgColor('255, 234, 249');\n      emitter.on(EVENTS.CLICK_THEME, onClickTheme);\n      emitter.on(EVENTS.PAGE_TRANSITION, onPageTransition);\n\n      animate();\n\n      // watch for inactivity\n      stopWatchInactive = watch(\n        computed( () => appStore.isInactive ),\n        inactive => {\n          if(visibleSceneIndex.value === 1) {\n            if(inactive) {\n              // mute the sound\n              const sound = loaderStore.getSound(\"home-track\");\n              if(sound) {\n                sound.off();\n                sound.fade(.5, 0, 1000);\n\n                sound.on(\"fade\", () => {\n                  sound.stop();\n                });\n              }\n            }\n            else{\n              playSound();\n            }\n          }\n        }\n      )\n    });\n\n    const changeScene = (index: number) => {\n      gsap.timeline()\n        .add('start')\n        .to(BackgroundImage.value, { scale: 1, opacity: 1, ease: \"power4.inOut\", duration: 1.5 }, 'start')\n        .to(Scene.value, { scale: 1, opacity: 0, ease: \"power4.inOut\", duration: 1 }, 'start-=0.3')\n        .set(ClaudeImage.value, { scale: 0.8, opacity: 0, ease: \"power4.inOut\" }, 0)\n        .to(ClaudeImage.value, { scale: 0.8, opacity: 1, ease: \"power4.inOut\", duration: 1 }, 'start+=1.5')\n        .to(ClaudeImage.value, { scale: 1, opacity: 1, ease: \"power4.inOut\", duration: 1.5 }, 'start+=3.5')\n        .add(\n          () => {\n            visibleSceneIndex.value = index;\n            let oldScene = getActiveSceneAt(index === 1 ? 0 : 1) as WebGLSceneInterface;\n            oldScene.disabled = true;\n            let scene = getActiveSceneAt(index) as WebGLSceneInterface;\n            scene.disabled = visibleSceneIndex.value !== index;\n            if (!scene.disabled) scene.resize();\n            updateBgColor(index === 0 ? '#FFEAF9' : '#192096');\n\n            appStore.setIntroSeen(true);\n            playSound();\n\n          }, 'start+=5.25'\n        )\n        .to(ClaudeImage.value, { scale: 1, opacity: 0, ease: \"power4.inOut\", duration: 1.5 }, 'start+=6.25')\n        .add(() => {\n          MenuStore.setHidden(false)\n        }, 'start+=7.5')\n        .to(Scene.value, { scale: 1, opacity: 1, ease: \"power4.inOut\", duration: 1 }, 'start+=6.2')\n\n\n      if (index === visibleSceneIndex.value) return;\n\n    }\n\n    const animate = () => {\n      const tl = gsap.timeline({\n        delay: appStore.introSeen ? 0 : .2\n      })\n\n      if(!appStore.introSeen) {\n        tl\n          .fromTo(BackgroundImage.value, { opacity: 0 }, { opacity: 1, ease: \"power4.out\", duration: 1.5 }, .5)\n          .add(() => {\n            Hero.value?.animateIn();\n          }, .5)\n      }\n      else{\n        tl\n          .fromTo(el.value.querySelector(\".container-ratio\"), {opacity:0}, {opacity:1, ease: \"power4.out\", duration: 1.5 }, .75)\n          .fromTo(Scene.value, { opacity: 0 }, { opacity: 1, ease: \"power2.inOut\", duration: 1.5 }, .5)\n          .add( () => {\n            updateBgColor('#192096');\n            playSound();\n        }, 0)\n          .add( () => {\n            MenuStore.setHidden(false);\n        }, .5)\n      }\n    }\n\n    const onDiscover = () => {\n      Hero.value?.animateOut();\n      changeScene(1);\n\n      //-- preload the rest of the spritesheets\n      loaderStore.finishSpriteSheetsLoading();\n\n      // -- play the sound\n      const sound = loaderStore.getSound(\"home-track\");\n      if(sound) {\n        sound.play();\n        sound.stop();\n      }\n    }\n\n    const page = getData();\n    provide(\"page\", page);\n\n    const switchRoute = (route: any) => {\n      switch (route) {\n        default:\n        case 'violon':\n          router.push({ name: 'thematique', params: { slug: 'festival-de-lanaudiere' } });\n          break;\n        case 'livre':\n          router.push({ name: 'thematique', params: { slug: 'charles-dutoit' } });\n          break;\n        case 'poster':\n          router.push({ name: 'thematique', params: { slug: 'maria-callas' } });\n          break;\n        case 'typewriter':\n          router.push({ name: 'thematique', params: { slug: 'metier-role-de-critique' } });\n          break;\n        case 'partitions':\n          router.push({ name: 'thematique', params: { slug: 'yannick-nezet-seguin' } });\n          break;\n        case 'carnet':\n          router.push({ name: 'thematique', params: { slug: 'universite-de-montreal' } });\n          break;\n        case 'box':\n          router.push({ name: 'thematique', params: { slug: 'les-raretes' } });\n          break\n        case 'record':\n          router.push({ name: 'thematique', params: { slug: 'oeuvres-preferees' } });\n          break;\n\n        case '/biographie/':\n        case '/collection/':\n        case '/credits/':\n          router.push({ path: route });\n          break;\n      }\n    }\n\n    // Listen for the 'navigate' event\n    const onClickTheme = (routeParams: any) => {\n      const ContainerRatio = document.querySelector(\".home .container-ratio\");\n\n      const tl = gsap.timeline()\n        .add( () => {\n          // mute the sound\n          const sound = loaderStore.getSound(\"home-track\");\n          if(sound) {\n            sound.off();\n            sound.fade(.5, 0, 1000);\n          }\n\n          isLeaving.value = true;\n        }, 0)\n        .to(BackgroundImage.value, { opacity: 0, ease: \"power4.out\", duration: .75 }, 0)\n        .add(() => {\n          MenuStore.setHidden(true)\n        }, 0)\n        .add(() => {\n          if(routeParams.bgColor) appStore.setAppBgColor(routeParams.bgColor)\n        }, .7)\n        .add(() => {\n          switchRoute(routeParams.name)\n        }, 1.1);\n\n\n        if(ContainerRatio) {\n          tl.to(ContainerRatio, {opacity:0, ease: \"power4.out\", duration: .75 }, 0)\n        }\n    }\n\n    const playSound = () => {\n      // play the sound\n      const sound = loaderStore.getSound(\"home-track\");\n      if(sound) {\n        sound.off();\n        sound.play();\n        sound.fade(0, .5, 2000);\n\n        sound.on(\"end\", () => {\n          sound.play();\n          sound.fade(0, .5, 2000);\n        });\n      }\n    }\n\n    const onPageTransition = (params:any) => {\n      onClickTheme({\n        name: params?.url,\n        bgColor: params?.bgColor\n      })\n    }\n\n    tryOnUnmounted(() => {\n      emitter.off(EVENTS.CLICK_THEME, onClickTheme);\n      emitter.off(EVENTS.PAGE_TRANSITION, onPageTransition);\n      clearWebGL(true);\n\n      const sound = loaderStore.getSound(\"home-track\");\n      if(sound) {\n        sound.off();\n        sound.stop();\n      }\n\n      stopWatchInactive?.();\n    })\n\n    return {\n      //\n      toobig,\n      SoundOnSVG,\n      SoundOffSVG,\n      loaderDone: loaded,\n      loaderFullyGone: done,\n      readyToRender,\n      page,\n      Hero,\n      introSeen: computed(() => appStore.introSeen),\n      isLeaving,\n      BackgroundImage,\n      imageClaude,\n      ClaudeImage,\n      visibleSceneIndex,\n      imageBackground,\n      onDiscover\n    }\n  }\n});\n</script>\n\n<template>\n  <main v-if=\"readyToRender && page\"\n        ref=\"el\"\n        class=\"page home\"\n        :data-toobig=\"toobig\"\n        :data-variant=\"page.id\"\n        :data-scene=\"visibleSceneIndex\"\n  >\n    <div class=\"container-ratio\" :class=\"!loaderFullyGone ? 'hidden' : ''\">\n      <div ref=\"Scene\" class=\"scene\" />\n      <SoundButton :noinvert=\"true\" :data-hidden=\"!introSeen || isLeaving\" />\n    </div>\n    <Hero v-if=\"!introSeen\"\n          v-bind=\"page\"\n          ref=\"Hero\"\n          :class=\"!loaderFullyGone ? 'hidden' : ''\"\n          @discover=\"onDiscover\"\n    />\n    <div ref=\"BackgroundImage\" :class=\"['backgroud-image', !loaderFullyGone ? 'hidden' : '']\">\n      <ui-picture :src=\"imageBackground\"\n                  cover=\"cover\"\n                  alt=\"background\"\n                  :lazy=\"false\"\n      />\n    </div>\n    <div ref=\"ClaudeImage\" class=\"claude-image\">\n      <ui-picture :src=\"imageClaude\"\n                  cover=\"cover\"\n                  alt=\"Image de claude dans son bureau, entouré de livres\"\n      />\n    </div>\n  </main>\n</template>\n\n<style lang=\"stylus\" scoped>\n.home\n  min-height 100vh\n  \n  //background-color $c-rose\n  f($align: center, $justify: start, $direction:column)\n  position relative\n  &[data-scene=\"1\"]\n    padding 10px\n    padding-top 'calc(20px + %s)' % var(--header-height)\n    .container-ratio\n      border 1px solid $c-dark_blue_udm\n      border-radius 10px\n      overflow hidden\n      min-height 'calc(100vh - 30px - %s)' % var(--header-height)\n\n\n  :deep() .hidden.heroHome\n    opacity 0\n    pointer-events none\n    trans()\n  .container-ratio\n    position relative\n    z-index 1\n    f($align: center, $justify: start, $direction:column)\n    min-height calc('100vh - 20px')\n    size 100%\n    opacity 1\n    border-width 0\n    trans(border-width, $duration: 1.5s)\n    &.hidden\n      opacity 0\n      pointer-events none\n  .scene\n    absolute 0\n    size 100%\n    f($align: center, $justify: start, $direction:column)\n    z-index 1\n\n  \n  .claude-image\n    opacity 0\n    absolute 0\n    z-index 2\n    pointer-events none\n    border-radius 10px\n    .ui-picture\n      size 100%\n      border-radius 10px\n  .backgroud-image\n    absolute 0\n    z-index -1\n    pointer-events none\n    opacity 0\n    \n    .ui-picture\n      size 100%\n\n  .heroHome\n    z-index 2\n</style>\n"],"file":"assets/index-B40yGJSM.js"}