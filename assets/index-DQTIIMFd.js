import{d as A,r as H,aV as M,aQ as O,bS as k,q as g,al as b,bm as N,az as $,aS as p,o as c,Z as m,aU as n,a0 as B,aW as E,e as K,g as y,aT as L}from"./vendor-BT8TDTHT.js";import{b as P}from"./index-DX56Q6wl.js";import{j as l,l as u,s as R,e as F,E as j,r as q,_ as S}from"./app-UYNKwKlQ.js";import{K as I}from"./KFF-DsVAOTmc.js";import{u as w}from"./page-DXcgComY.js";import"./@debug-lodash-BIjirobg.js";import"./LocalStorage-BJPYtshR.js";const V="/assets/collection_1-CKOZhDqu.jpg",U="/assets/collection_2-CM6CC3Na.jpg",D=A({name:"PageFund",components:{KFF:I},setup(){const r=H(),a=M(),s=O("el"),{readyToRender:v,getData:f,onInitUi:T}=w({load(){return P.get("/collection/data.json").then(({data:e})=>({...e}))}});k(()=>{if(!l.introSeen&&l.redirection){a.push("/");return}}),T(()=>{g.timeline().add(()=>{var e,t;(e=s.value.querySelector(".header"))==null||e.classList.remove("hidden"),(t=s.value.querySelector(".KFF"))==null||t.classList.remove("hidden")},.4).add(()=>{b(s.value.querySelectorAll(".section"),e=>e==null?void 0:e.classList.remove("hidden"))},.4).add(()=>{if(u.currentObject){const e=s.value.querySelector(`[data-slug="${u.currentObject}"]`);u.setCurrentObject(),R.scrollTo(e,{duration:1.5})}},.45),F.on(j.PAGE_TRANSITION,d)});const i=f();N("page",i);const _=e=>new URL(Object.assign({"./assets/collection_1.jpg":V,"./assets/collection_2.jpg":U})[`./assets/${e}`],import.meta.url).href,d=e=>{var t,C;(t=s.value.querySelector(".header"))==null||t.classList.add("hidden"),(C=s.value.querySelector(".KFF"))==null||C.classList.add("hidden"),b(s.value.querySelectorAll(".section"),h=>h==null?void 0:h.classList.add("hidden")),g.timeline().add(()=>{q.setHidden(!0)},0).add(()=>{e!=null&&e.bgColor&&l.setAppBgColor(e==null?void 0:e.bgColor)},.6).add(()=>{a.push({path:e==null?void 0:e.url})},1)},o=(e,t)=>{e==null||e.preventDefault(),u.setCurrentObject(t),g.timeline().add(()=>{q.setHidden(!0)},0).add(()=>{l.setAppBgColor("229, 240, 248")},.5).to(s.value,{opacity:0,ease:"power4.out",duration:1},0).add(()=>{a.push({name:"credit",query:{section:t}})},1)};return $(()=>{F.off(j.PAGE_TRANSITION,d)}),{readyToRender:v,page:i,hero:r,getAssetPath:_,goToCredit:o}}}),x={key:0,ref:"el",class:"page fund"},G={class:"header hidden"},W=["innerHTML"],Z={class:"left-section"},z=["innerHTML"],Q={class:"right-section"},J=["innerHTML"],X={class:"bottom-right"},Y=["innerHTML"];function ee(r,a,s,v,f,T){const i=p("ui-picture"),_=p("ui-button"),d=p("KFF");return r.readyToRender?(c(),m("main",x,[n("header",G,[n("h1",{class:"title",innerHTML:r.page.title},null,8,W)]),(c(!0),m(B,null,E(r.page.section,(o,e)=>(c(),m("div",{key:e,class:"section hidden"},[n("div",Z,[n("h2",{class:"sect-title",innerHTML:o.title},null,8,z)]),n("div",Q,[n("div",{class:"index-title",innerHTML:(e+1<10?"0":"")+(e+1)},null,8,J),n("div",X,[n("div",{class:"text-sect wysiwyg",innerHTML:o.text},null,8,Y),o.img?(c(),K(i,{key:0,class:"sect-img",src:r.getAssetPath(o.img),"data-slug":o.credit,cover:"cover"},null,8,["src","data-slug"])):y("",!0),L(_,{class:"cred",theme:"link",label:"CrÃ©dits",tag:"a",to:{name:"credit",query:{section:o.credit}},onClick:t=>r.goToCredit(t,o.credit)},null,8,["to","onClick"])])])]))),128)),L(d)],512)):y("",!0)}const de=S(D,[["render",ee],["__scopeId","data-v-85d6b5d8"]]);export{de as default};
//# sourceMappingURL=index-DQTIIMFd.js.map
