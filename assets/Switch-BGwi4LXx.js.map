{"version":3,"file":"Switch-BGwi4LXx.js","sources":["../../src/vue/src/components/UiKit/KoddeinVueForm/Field/Switch.vue"],"sourcesContent":["<docs>\n# KoddeinFormSwitch\n> Switch field -> just like a checkbox with different styling\n\n@author Nicolas Husson <nicolas@kffein.com>\n@author Kevin Bastien <kevin@kffein.com>\n</docs>\n\n<script lang=\"ts\">\nimport { defineComponent, reactive, toRefs, watch } from 'vue';\n\ninterface Data {\n  internalValue?: boolean,\n}\n\nconst KoddeinFormSwitch = defineComponent({\n  name: \"KoddeinFormSwitch\",\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n    label: {\n      type: String,\n      default: undefined,\n    },\n    /** input value */\n    value: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  emits: ['inputChange'],\n  setup(props, { emit }){\n    const data:Data = reactive({\n      internalValue: undefined,\n    });\n\n    /**\n     * Watch value, on value update -> set internal value\n     */\n    watch(\n      ()=>props.value,\n      (value) => { \n        data.internalValue = value;\n      },\n      { immediate:true }\n    )\n\n    /**\n     * Watch internal value, on value update -> send value to parent\n     */\n    watch(\n      ()=>data.internalValue,\n      (value) => { \n        if (value === props.value) return;\n        emit('inputChange', value);\n      },\n      // { immediate:true }\n    )\n\n    return {\n      ...toRefs(data), //data\n    };\n  },\n});\nexport default KoddeinFormSwitch\n</script>\n\n<template>\n  <label :for=\"id\"\n         class=\"switch\"\n  >\n    <input :id=\"id\"\n           v-model=\"internalValue\"\n           :name=\"id\"\n           type=\"checkbox\"\n           class=\"input\"\n    >\n    <span class=\"box\" />\n    <span class=\"label\"\n          v-text=\"label\"\n    />\n  </label>\n</template>\n\n<style lang=\"stylus\" scoped>\n  /**\n   * TABLE OF CONTENT\n   * --------\n   *  - LAYOUT\n   *  - FILE\n   *  - THEMES\n   *  - DEBUG\n   *  - NO_SCOPE\n   */\n\n  $c-f-accent ?= black\n\n  //  ===LAYOUT===\n  .switch\n    f(row, $justify: flex-start)\n\n  .box\n    position relative\n    display inline-block\n    border 1px solid $c-f-accent\n    size 35px 20px\n    margin-right 19px\n    border-radius 80px\n    trans()\n\n    &::after\n      content ''\n      absolute top 50% left 3px\n      transform translateY(-50%)\n      size 12px\n      border-radius 50%\n      background $c-f-accent\n      trans()\n\n  .input\n    position absolute\n    opacity 0\n\n    &:focus + .box\n      border-color $c-black\n      &::after\n        background $c-black\n\n    &:checked + .box\n      background $c-f-accent\n      border-color $c-f-accent\n\n      &::after\n        left 18px\n        background $c-white\n\n  //  ===DEBUG===\n  [data-debug-mode=\"true\"] .KoddeinFormSwitch\n    //\n</style>\n"],"names":["KoddeinFormSwitch","defineComponent","props","emit","data","reactive","watch","value","toRefs","_hoisted_1","id","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_withDirectives","_createElementVNode","$event","_vModelCheckbox","_toDisplayString","_hoisted_3"],"mappings":"wLAeA,MAAMA,EAAoBC,EAAgB,CACxC,KAAM,oBACN,MAAO,CACL,GAAI,CACF,KAAM,OACN,SAAU,EACZ,EACA,MAAO,CACL,KAAM,OACN,QAAS,MACX,EAEA,MAAO,CACL,KAAM,QACN,QAAS,EAAA,CAEb,EACA,MAAO,CAAC,aAAa,EACrB,MAAMC,EAAO,CAAE,KAAAC,GAAO,CACpB,MAAMC,EAAYC,EAAS,CACzB,cAAe,MAAA,CAChB,EAKD,OAAAC,EACE,IAAIJ,EAAM,MACTK,GAAU,CACTH,EAAK,cAAgBG,CACvB,EACA,CAAE,UAAU,EAAK,CACnB,EAKAD,EACE,IAAIF,EAAK,cACRG,GAAU,CACLA,IAAUL,EAAM,OACpBC,EAAK,cAAeI,CAAK,CAAA,CAG7B,EAEO,CACL,GAAGC,EAAOJ,CAAI,CAChB,CAAA,CAEJ,CAAC,EAjEDK,EAAA,CAAA,KAAA,6CAsEeC,EAAEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,QACHC,EAAS,EAAAC,EAAA,QAAA,CAAA,IAAAP,EAAA,oBAvEvBQ,EAAAC,EAAA,QAAA,CA2EY,GAAIT,EAAED,GACP,sBAAeE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAS,GAAAV,EAAA,cAAAU,GACf,KAAKV,EAAC,GAAA,KAAA,qCAEb,CAAAW,EAAAX,EAAA,aAAA,CAAA,CACA,EAAAC,EAAW,KAACA,EAAO,CAAA,EAAAQ,EAAA,OAAA,CAAA,MAAA,KAAA,EAAA,KAAA,EAAA,GACbA,EAAA,OAAA,CAAA,MAAA,QAjFV,YAAAG,EAAAZ,EAAA,KAAA,CAAA,EAAA,KAAA,EAAAa,CAAA"}