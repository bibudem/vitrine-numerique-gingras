const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LibraryScene-C6j82wz9.js","assets/@debug-lodash-BIjirobg.js","assets/vendor-Dk7UPmZi.js","assets/app-i-894-h8.js","assets/app-CPUGCLh2.css","assets/easing-0f4db1c0.esm-DWmpH-gU.js","assets/LineScene-DdpOs7tx.js","assets/index-C7Y9ajrz.js"])))=>i.map(i=>d[i]);
import{u as Z,I as Q,_ as V,a as J,h as m,j as l,k as X,e as _,E as k,l as B,n as Y,b as q,o as A,q as D}from"./app-i-894-h8.js";import{d as N,aQ as i,q as y,ay as x,aS as w,o as L,Z as F,aU as g,aT as C,aV as ee,l as O,bP as ae,r as G,ad as te,W as oe,bk as ne,az as se,aZ as R,e as ie,b6 as re,g as M}from"./vendor-Dk7UPmZi.js";import{S as le,a as ce,b as ue}from"./SoundButton-DogkKZ6u.js";import{b as de}from"./index-CujeyXVt.js";import{u as pe}from"./page-DDF05ZhN.js";import"./@debug-lodash-BIjirobg.js";import"./LocalStorage-YPpH-X0R.js";const me=N({name:"HeroHome",props:{title:{type:String,default:""},subtitle:{type:String,default:""},description:{type:String,default:""},cta:{type:String,default:""}},emits:["discover"],setup(a,{emit:b}){const{onInitUi:f}=Z(),c=i("el"),r=i("Discover"),v=i("Title"),o=i("Subtitle"),s=i("Description");f(()=>{var d;y.timeline().set(v.value,{scale:.9,opacity:0}).set(o.value,{yPercent:-50,opacity:0}).set(s.value,{yPercent:50,opacity:0}).set((d=r.value)==null?void 0:d.$el,{yPercent:-50,opacity:0})});const u=()=>{var d;y.timeline().add(()=>{c.value.classList.remove("hidden")},0).to(v.value,{scale:1,opacity:1,ease:"power4.inOut",duration:1.5},0).to(o.value,{yPercent:0,opacity:1,ease:"power4.out",duration:1.5},.8).to(s.value,{yPercent:0,opacity:1,ease:"power4.out",duration:1.5},.8).to((d=r.value)==null?void 0:d.$el,{yPercent:0,opacity:1,ease:"power4.out",duration:1.5},.8)},h=()=>{y.timeline().to(c.value,{opacity:0,clearProps:"all",ease:"power4.out",duration:.7},0).add(()=>{c.value.classList.add("hidden")},.5)},T=()=>{b("discover")};return{...x(a),animateIn:u,animateOut:h,launchAnimation:T,arrow:Q}}}),ge={ref:"el",class:"heroHome","data-dark":!1},fe=["innerHTML"],ve=["innerHTML"],he=["innerHTML"];function ye(a,b,f,c,r,v){const o=w("ui-button");return L(),F("section",ge,[g("span",{ref:"Subtitle",class:"subtitle",innerHTML:a.subtitle},null,8,fe),g("h1",{ref:"Title",class:"title",innerHTML:a.title},null,8,ve),g("div",{ref:"Description",class:"description",innerHTML:a.description},null,8,he),C(o,{ref:"Discover",class:"cta",theme:"primary",icon:a.arrow,direction:"right",label:a.cta,onClick:a.launchAnimation},null,8,["icon","label","onClick"])],512)}const be=V(me,[["render",ye],["__scopeId","data-v-602520f4"]]),Se="/assets/MH-CGingras-184-q9u6T3MK.jpg",_e="/assets/background-image-BZPicGbT.png",ke=N({name:"PageHome",components:{Hero:be,SoundButton:le},setup(){const a=ee(),b=O(()=>J.isViewportTooBig),{done:f,loaded:c}=ae(m.state),r=i("Hero"),v=i("el"),o=i("BackgroundImage"),s=i("ClaudeImage"),u=G(!1),h=i("Scene"),{onInitUi:T,getData:d,readyToRender:z}=pe({load(){return de.get("/home/data.json").then(({data:e})=>({...e}))},ui:{library:()=>q(()=>import("./LibraryScene-C6j82wz9.js"),__vite__mapDeps([0,1,2,3,4,5])),line:()=>q(()=>import("./LineScene-DdpOs7tx.js"),__vite__mapDeps([6,2,1,5,3,4,7]))}}),p=G(l.introSeen?1:0);let S=null;T(async({ui:e})=>{await te(f).toBe(!0),X([{glScene:e.line.default,disabled:p.value!==0},{glScene:e.library.default,disabled:p.value!==1}],{antialias:!0,canvasContainer:h.value,bgColor:"#192096",alpha:!0}),l.setAppBgColor("255, 234, 249"),_.on(k.CLICK_THEME,I),_.on(k.PAGE_TRANSITION,P),j(),S=oe(O(()=>l.isInactive),t=>{if(p.value===1)if(t){const n=m.getSound("home-track");n&&(n.off(),n.fade(.5,0,1e3),n.on("fade",()=>{n.stop()}))}else H()})});const U=e=>{y.timeline().add("start").to(o.value,{scale:1,opacity:1,ease:"power4.inOut",duration:1.5},"start").to(h.value,{scale:1,opacity:0,ease:"power4.inOut",duration:1},"start-=0.3").set(s.value,{scale:.8,opacity:0,ease:"power4.inOut"},0).to(s.value,{scale:.8,opacity:1,ease:"power4.inOut",duration:1},"start+=1.5").to(s.value,{scale:1,opacity:1,ease:"power4.inOut",duration:1.5},"start+=3.5").add(()=>{p.value=e;let t=A(0);t.disabled=!0;let n=A(e);n.disabled=p.value!==e,n.disabled||n.resize(),D("#192096"),l.setIntroSeen(!0),H()},"start+=5.25").to(s.value,{scale:1,opacity:0,ease:"power4.inOut",duration:1.5},"start+=6.25").add(()=>{B.setHidden(!1)},"start+=7.5").to(h.value,{scale:1,opacity:1,ease:"power4.inOut",duration:1},"start+=6.2"),p.value},j=()=>{const e=y.timeline({delay:l.introSeen?0:.2});l.introSeen?e.fromTo(v.value.querySelector(".container-ratio"),{opacity:0},{opacity:1,ease:"power4.out",duration:1.5},.75).fromTo(h.value,{opacity:0},{opacity:1,ease:"power2.inOut",duration:1.5},.5).add(()=>{D("#192096"),H()},0).add(()=>{B.setHidden(!1)},.5):e.fromTo(o.value,{opacity:0},{opacity:1,ease:"power4.out",duration:1.5},.5).add(()=>{var t;(t=r.value)==null||t.animateIn()},.5)},K=()=>{var t;(t=r.value)==null||t.animateOut(),U(1),m.finishSpriteSheetsLoading();const e=m.getSound("home-track");e&&(e.play(),e.stop())},E=d();ne("page",E);const W=e=>{switch(e){default:case"violon":a.push({name:"thematique",params:{slug:"festival-de-lanaudiere"}});break;case"livre":a.push({name:"thematique",params:{slug:"charles-dutoit"}});break;case"poster":a.push({name:"thematique",params:{slug:"maria-callas"}});break;case"typewriter":a.push({name:"thematique",params:{slug:"metier-role-de-critique"}});break;case"partitions":a.push({name:"thematique",params:{slug:"yannick-nezet-seguin"}});break;case"carnet":a.push({name:"thematique",params:{slug:"universite-de-montreal"}});break;case"box":a.push({name:"thematique",params:{slug:"les-raretes"}});break;case"record":a.push({name:"thematique",params:{slug:"oeuvres-preferees"}});break;case"/biographie/":case"/collection/":case"/credits/":a.push({path:e});break}},I=e=>{const t=document.querySelector(".home .container-ratio"),n=y.timeline().add(()=>{const $=m.getSound("home-track");$&&($.off(),$.fade(.5,0,1e3)),u.value=!0},0).to(o.value,{opacity:0,ease:"power4.out",duration:.75},0).add(()=>{B.setHidden(!0)},0).add(()=>{e.bgColor&&l.setAppBgColor(e.bgColor)},.7).add(()=>{W(e.name)},1.1);t&&n.to(t,{opacity:0,ease:"power4.out",duration:.75},0)},H=()=>{const e=m.getSound("home-track");e&&(e.off(),e.play(),e.fade(0,.5,2e3),e.on("end",()=>{e.play(),e.fade(0,.5,2e3)}))},P=e=>{I({name:e==null?void 0:e.url,bgColor:e==null?void 0:e.bgColor})};return se(()=>{_.off(k.CLICK_THEME,I),_.off(k.PAGE_TRANSITION,P),Y(!0);const e=m.getSound("home-track");e&&(e.off(),e.stop()),S==null||S()}),{toobig:b,SoundOnSVG:ce,SoundOffSVG:ue,loaderDone:c,loaderFullyGone:f,readyToRender:z,page:E,Hero:r,introSeen:O(()=>l.introSeen),isLeaving:u,BackgroundImage:o,imageClaude:Se,ClaudeImage:s,visibleSceneIndex:p,imageBackground:_e,onDiscover:K}}}),we=["data-toobig","data-variant","data-scene"],Ce={ref:"Scene",class:"scene"},Te={ref:"ClaudeImage",class:"claude-image"};function Ie(a,b,f,c,r,v){const o=w("SoundButton"),s=w("Hero"),u=w("ui-picture");return a.readyToRender&&a.page?(L(),F("main",{key:0,ref:"el",class:"page home","data-toobig":a.toobig,"data-variant":a.page.id,"data-scene":a.visibleSceneIndex},[g("div",{class:R(["container-ratio",a.loaderFullyGone?"":"hidden"])},[g("div",Ce,null,512),C(o,{noinvert:!0,"data-hidden":!a.introSeen||a.isLeaving},null,8,["data-hidden"])],2),a.introSeen?M("",!0):(L(),ie(s,re({key:0},a.page,{ref:"Hero",class:a.loaderFullyGone?"":"hidden",onDiscover:a.onDiscover}),null,16,["class","onDiscover"])),g("div",{ref:"BackgroundImage",class:R(["backgroud-image",a.loaderFullyGone?"":"hidden"])},[C(u,{src:a.imageBackground,cover:"cover",alt:"background",lazy:!1},null,8,["src"])],2),g("div",Te,[C(u,{src:a.imageClaude,cover:"cover",alt:"Image de claude dans son bureau, entour√© de livres"},null,8,["src"])],512)],8,we)):M("",!0)}const qe=V(ke,[["render",Ie],["__scopeId","data-v-9a31059a"]]);export{qe as default};
//# sourceMappingURL=index-B40yGJSM.js.map
