const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LibraryScene-zt2-dAXB.js","assets/@debug-lodash-BIjirobg.js","assets/vendor-D1O0VZ-0.js","assets/app-BHllM0oC.js","assets/app-DaPq0va3.css","assets/easing-0f4db1c0.esm-CUoNLiYe.js","assets/LineScene-BhxjeAQY.js","assets/index-B0DfMSVR.js"])))=>i.map(i=>d[i]);
import{u as J,I as X,_ as z,a as x,h as O,j as l,k as ee,l as G,e as w,E as T,n as L,o as $,q as M,r as B,t as ae,A as te,b as V,v as N,w as F}from"./app-BHllM0oC.js";import{d as U,r as E,aQ as s,q as v,ay as oe,aS as S,o as I,Z as R,aU as h,aT as k,aV as ne,l as q,bR as se,ad as re,W as ie,bm as le,az as ce,aY as j,e as ue,b8 as de,g as A}from"./vendor-D1O0VZ-0.js";import{S as pe,a as me,b as ge}from"./SoundButton-Dq1m_Kc3.js";import{b as ve}from"./index-Bw5Vlu5W.js";import{u as he}from"./page-DDtP88xA.js";import"./@debug-lodash-BIjirobg.js";import"./LocalStorage-DZutwCK5.js";const be=U({name:"HeroHome",props:{title:{type:String,default:""},subtitle:{type:String,default:""},description:{type:String,default:""},cta:{type:String,default:""}},emits:["discover"],setup(e,{emit:c}){const u=E(!1),{onInitUi:b}=J(),r=s("el"),g=s("Discover"),o=s("Title"),n=s("Subtitle"),d=s("Description");b(()=>{var p;v.timeline().set(o.value,{scale:.9,opacity:0}).set(n.value,{yPercent:-50,opacity:0}).set(d.value,{yPercent:50,opacity:0}).set((p=g.value)==null?void 0:p.$el,{yPercent:-50,opacity:0})});const i=()=>{var p;v.timeline().add(()=>{r.value.classList.remove("hidden")},0).to(o.value,{scale:1,opacity:1,ease:"power4.inOut",duration:1.5},0).to(n.value,{yPercent:0,opacity:1,ease:"power4.out",duration:1.5},.8).to(d.value,{yPercent:0,opacity:1,ease:"power4.out",duration:1.5},.8).to((p=g.value)==null?void 0:p.$el,{yPercent:0,opacity:1,ease:"power4.out",duration:1.5},.8)},f=()=>{v.timeline().to(r.value,{opacity:0,clearProps:"all",ease:"power4.out",duration:.7},0).add(()=>{r.value.classList.add("hidden")},.5)},H=()=>{u.value||(c("discover"),u.value=!0)};return{...oe(e),animateIn:i,animateOut:f,launchAnimation:H,arrow:X}}}),fe={ref:"el",class:"heroHome","data-dark":!1},ye=["innerHTML"],Se=["innerHTML"],ke=["innerHTML"];function Ce(e,c,u,b,r,g){const o=S("ui-button");return I(),R("section",fe,[h("span",{ref:"Subtitle",class:"subtitle",innerHTML:e.subtitle},null,8,ye),h("h1",{ref:"Title",class:"title",innerHTML:e.title},null,8,Se),h("div",{ref:"Description",class:"description",innerHTML:e.description},null,8,ke),k(o,{ref:"Discover",class:"cta",theme:"primary",icon:e.arrow,direction:"right",label:e.cta,onClick:e.launchAnimation},null,8,["icon","label","onClick"])],512)}const _e=z(be,[["render",Ce],["__scopeId","data-v-29136433"]]),we="/assets/MH-CGingras-184-q9u6T3MK.jpg",Te="/assets/background-image-BZPicGbT.png",Ie=U({name:"PageHome",components:{Hero:_e,SoundButton:pe},setup(){const e=ne(),c=q(()=>x.isViewportTooBig),{done:u,loaded:b}=se(O.state),r=s("Hero"),g=s("el"),o=s("BackgroundImage"),n=s("ClaudeImage"),d=E(!1),i=s("Scene"),{onInitUi:f,getData:H,readyToRender:p}=he({load(){return ve.get("/home/data.json").then(({data:a})=>({...a}))},ui:{library:()=>V(()=>import("./LibraryScene-zt2-dAXB.js"),__vite__mapDeps([0,1,2,3,4,5])),line:()=>V(()=>import("./LineScene-BhxjeAQY.js"),__vite__mapDeps([6,2,1,5,3,4,7]))}}),m=E(l.introSeen?1:0);let C=null;f(async({ui:a})=>{await re(u).toBe(!0),ee([{glScene:a.line.default,disabled:m.value!==0},{glScene:a.library.default,disabled:m.value!==1}],{antialias:!0,canvasContainer:i.value,bgColor:"#192096",alpha:!0}),G.setCurrentObject(),l.setAppBgColor("255, 234, 249"),w.on(T.CLICK_THEME,_),w.on(T.PAGE_TRANSITION,D),K(),C=ie(q(()=>l.isInactive),t=>{m.value===1&&(t?(L("home-track"),l.setIntroSeen(!1)):($("home-track",2e3,!0),M(1,{callback:"setReady"})))})});const W=a=>{v.timeline().add("start").to(o.value,{scale:1,opacity:1,ease:"power4.inOut",duration:1.5},"start").to(i.value,{scale:1,opacity:0,ease:"power4.inOut",duration:1},"start-=0.3").set(n.value,{scale:.8,opacity:0,ease:"power4.inOut"},0).to(n.value,{scale:.8,opacity:1,ease:"power4.inOut",duration:1},"start+=1.5").to(n.value,{scale:1,opacity:1,ease:"power4.inOut",duration:1.5},"start+=3.5").to(n.value.querySelector(".ui-picture"),{borderRadius:0,ease:"power4.inOut",duration:1.5},"start+=3.5").add(()=>{m.value=a;let t=N(0);t.disabled=!0;let y=N(a);y.disabled=m.value!==a,y.disabled||y.resize(),F("#192096"),$("home-track",2e3,!0),M(1,{callback:"setReady"})},"start+=5.25").to(n.value,{scale:1,opacity:0,ease:"power4.inOut",duration:1.5},"start+=6.25").add(()=>{B.setHidden(!1)},"start+=7.5").to(i.value,{scale:1,opacity:1,ease:"power4.inOut",duration:1},"start+=6.2"),m.value},K=()=>{const a=v.timeline({delay:l.introSeen?0:.2});l.introSeen?a.fromTo(g.value.querySelector(".container-ratio"),{opacity:0},{opacity:1,ease:"power4.out",duration:1.5},.75).fromTo(i.value,{opacity:0},{opacity:1,ease:"power2.inOut",duration:1.5},.5).add(()=>{F("#192096"),$("home-track",2e3,!0)},0).add(()=>{B.setHidden(!1)},.5):a.fromTo(o.value,{opacity:0},{opacity:1,ease:"power4.out",duration:1.5},.5).add(()=>{var t;(t=r.value)==null||t.animateIn()},.5)},Z=()=>{var t;(t=r.value)==null||t.animateOut(),W(1),O.finishSpriteSheetsLoading();const a=O.getSound("home-track");a&&(a.play(),a.stop())},P=H();le("page",P);const Q=a=>{switch(a){default:case"violon":e.push({name:"thematique",params:{slug:"festival-de-lanaudiere"}});break;case"livre":e.push({name:"thematique",params:{slug:"charles-dutoit"}});break;case"poster":e.push({name:"thematique",params:{slug:"maria-callas"}});break;case"typewriter":e.push({name:"thematique",params:{slug:"metier-role-de-critique"}});break;case"partitions":e.push({name:"thematique",params:{slug:"yannick-nezet-seguin"}});break;case"carnet":e.push({name:"thematique",params:{slug:"universite-de-montreal"}});break;case"box":e.push({name:"thematique",params:{slug:"les-raretes"}});break;case"record":e.push({name:"thematique",params:{slug:"oeuvres-preferees"}});break;case"/biographie/":case"/collection/":e.push({path:a});break;case"/credits/":e.push({name:"credit",query:{section:"home"}});break}},_=a=>{const t=document.querySelector(".home .container-ratio"),y=v.timeline().add(()=>{L("home-track"),d.value=!0},0).to(o.value,{opacity:0,ease:"power4.out",duration:.75},0).add(()=>{B.setHidden(!0)},0).add(()=>{a.bgColor&&l.setAppBgColor(a.bgColor)},.7).add(()=>{Q(a.name)},1.1);t&&y.to(t,{opacity:0,ease:"power4.out",duration:.75},0)},D=a=>{_({name:a==null?void 0:a.url,bgColor:a==null?void 0:a.bgColor})},Y=a=>{a==null||a.preventDefault(),G.setCurrentObject("home"),_({name:"/credits/",bgColor:"229, 240, 248"})};return ce(()=>{w.off(T.CLICK_THEME,_),w.off(T.PAGE_TRANSITION,D),ae(!0),L("home-track"),C==null||C()}),{toobig:c,SoundOnSVG:me,SoundOffSVG:ge,loaderDone:b,loaderFullyGone:u,readyToRender:p,page:P,Hero:r,introSeen:q(()=>l.introSeen),isLeaving:d,BackgroundImage:o,imageClaude:we,ClaudeImage:n,visibleSceneIndex:m,imageBackground:Te,onDiscover:Z,goToCredit:Y,ArrowLink:te}}}),He=["data-toobig","data-variant","data-scene"],Oe={ref:"Scene",class:"scene"},Le={ref:"ClaudeImage",class:"claude-image"};function $e(e,c,u,b,r,g){const o=S("SoundButton"),n=S("ui-button"),d=S("Hero"),i=S("ui-picture");return e.readyToRender&&e.page?(I(),R("main",{key:0,ref:"el",class:"page home","data-toobig":e.toobig,"data-variant":e.page.id,"data-scene":e.visibleSceneIndex},[h("div",{class:j(["container-ratio",e.loaderFullyGone?"":"hidden"])},[h("div",Oe,null,512),k(o,{noinvert:!0,"data-hidden":!e.introSeen||e.isLeaving},null,8,["data-hidden"]),k(n,{theme:"primary",icon:e.ArrowLink,label:"Crédits",to:{name:"credit",query:{section:"home"}},tag:"a","data-variant":"homepage",class:"credit-btn","data-hidden":!e.introSeen||e.isLeaving,onClick:c[0]||(c[0]=f=>e.goToCredit(f))},null,8,["icon","data-hidden"])],2),e.introSeen?A("",!0):(I(),ue(d,de({key:0},e.page,{ref:"Hero",class:e.loaderFullyGone?"":"hidden",onDiscover:e.onDiscover}),null,16,["class","onDiscover"])),e.visibleSceneIndex===0?(I(),R("div",{key:1,ref:"BackgroundImage",class:j(["backgroud-image",e.loaderFullyGone?"":"hidden"])},[k(i,{src:e.imageBackground,cover:"cover",alt:"background",lazy:!1},null,8,["src"])],2)):A("",!0),h("div",Le,[k(i,{src:e.imageClaude,cover:"cover",alt:"Image de claude dans son bureau, entouré de livres"},null,8,["src"])],512)],8,He)):A("",!0)}const Ge=z(Ie,[["render",$e],["__scopeId","data-v-bcf4d374"]]);export{Ge as default};
//# sourceMappingURL=index-D9MwZ9e0.js.map
